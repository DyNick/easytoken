$(document).ready(function(){var t=function(){var e=$(window).scrollTop()+$(window).height(),i=$(".animatable");0==i.length&&$(window).off("scroll",t),i.each(function(t){var i=$(this);i.offset().top+i.height()-10<e&&i.removeClass("animatable").addClass("animated")})},e=function(){var t=$(window).scrollTop()+$(window).height(),i=$(".scroll-slider-initialthation");0==i.length&&$(window).off("scroll",e),i.each(function(e){var i=$(this);i.offset().top+i.height()-1e3<t&&i.addClass("test")})};$(window).on("scroll",t),$(window).on("scroll",e),$(window).trigger("scroll")}),$(window).scroll(function(){if($(window).width()<960)$(".header").addClass("shrink"),$(".fullpage").attr("id","fullpage-new");else{var t=$(".header").height(),e=$(".header");$(window).scrollTop()>=1*t?e.addClass("shrink"):e.removeClass("shrink")}}),function(t){"use strict";function e(){o.slideWidth=n.width(),o.slideHeight=n.height(),console.log(o.slideWidth),console.log(o.slideHeight),o.sliderWidth=Math.ceil(o.slideWidth*i.length),o.sliderHeight=n.outerHeight(!0),s.width(o.sliderWidth),function(){var t={x:-i.width()*(i.length-1),ease:Power2.easeInOut};null!=c&&null!=h?(l=0,c.progress(l),(h=new TimelineMax).to(s,2,t),c.setTween(h),c.refresh()):(a=new ScrollMagic.Controller,(h=new TimelineMax).to(s,2,t),h.progress(l),c=new ScrollMagic.Scene({triggerElement:o.slider,triggerHook:"onLeave",duration:o.sliderWidth}).setPin(o.slider).setTween(h).addTo(a).on("start",function(t){h.time(0)}))}()}t(".scroll-slider");var i=t(".scroll-slide"),s=t(".scroll-wrapper"),n=i.first(),o={},r=!1,a=null,h=null,l=0,c=null;t(document).ready(function(){!function(i){o=t.extend({slider:".scroll-slider",sliderWrapper:".scroll-wrapper",slides:".scroll-slide",slideWidth:null,slideHeight:null},i),e(),t(window).on("resize",function(){clearTimeout(r),r=setTimeout(function(){e()},250)})}()})}(jQuery),$(function(){$(".youtube").each(function(){$(this).css("background-image","url(http://i.ytimg.com/vi/"+this.id+"/sddefault.jpg)"),$(this).append($("<div/>",{class:"play"})),$(document).delegate("#"+this.id,"click",function(){var t="https://www.youtube.com/embed/"+this.id+"?autoplay=1&autohide=1&rel=0&fs=1";$(this).data("params")&&(t+="&"+$(this).data("params"));var e=$("<iframe/>",{frameborder:"0",src:t,width:$(this).width(),height:$(this).height(),allowfullscreen:"allowfullscreen"});$(this).replaceWith(e)})})});for(var tabs=document.getElementById("icetab-container").children,tabcontents=document.getElementById("icetab-content").children,myFunction=function(){for(var t=this.mynum,e=0;e<tabcontents.length;e++)tabcontents[e].className=" tabcontent",tabs[e].className=" icetab";tabcontents[t].classList.add("tab-active"),this.classList.add("current-tab")},index=0;index<tabs.length;index++)tabs[index].mynum=index,tabs[index].addEventListener("click",myFunction,!1);$(document).ready(function(){$(".contact-button-click").click(function(){$(".modal-call-back").addClass("active"),$(".modal-inner").addClass("active")}),$(".btn-close").click(function(){$(".modal-call-back").removeClass("active"),$(".modal-inner").removeClass("active")}),$(".extra-services-click").click(function(){$(".modal-form-services").addClass("active")}),$(".btn-close-services").click(function(){$(".modal-form-services").removeClass("active")})}),$(".menu-toggle").on("click",function(){$(this).toggleClass("on"),$(".menu-toggle").toggleClass("active"),$(".navigation__continer").toggleClass("active")}),$(document).ready(function(){$("#owl-example").owlCarousel({navigation:!0,slideSpeed:3e3,paginationSpeed:4e3,nav:!0,dots:!0,singleItem:!0,pagination:!1,rewindSpeed:500,items:1,loop:!0,autoplay:!0,autoplayTimeout:5e3,touchDrag:!1,mouseDrag:!1,autoplaySpeed:5e3,navText:['<svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></svg>','<svg viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg>'],navSpeed:1e3})}),$(document).ready(function(){$(window).on("resize",function(){$(window).width()<=998?($(".container-inner--first-tab").addClass("study-carousel"),$(".container-inner--first-tab").addClass("owl-carousel")):($(".container-inner--first-tab").removeClass("study-carousel"),$(".container-inner--first-tab").removeClass("owl-carousel"))}).trigger("resize"),$(".study-carousel").owlCarousel({loop:!0,margin:30,nav:!0,navSpeed:500,touchDrag:!0,mouseDrag:!0,navText:['<svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></svg>','<svg viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg>'],responsive:{0:{items:1},998:{items:1}}})}),$(".navigation-list__item").find("a").click(function(t){t.preventDefault();var e=$(this).attr("href");$("html, body").animate({scrollTop:$(e).offset().top-100}),$(".navigation__continer").removeClass("active"),$(".menu-toggle").toggleClass("on"),$(".menu-toggle").toggleClass("active")}),function(t,e,i,s){function n(e,i){this.settings=null,this.options=t.extend({},n.Defaults,i),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy(function(e,i){this._handlers[i]=t.proxy(this[i],this)},this)),t.each(n.Plugins,t.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(n.Workers,t.proxy(function(e,i){this._pipe.push({filter:i.filter,run:t.proxy(i.run,this)})},this)),this.setup(),this.initialize()}n.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},n.Width={Default:"default",Inner:"inner",Outer:"outer"},n.Type={Event:"event",State:"state"},n.Plugins={},n.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,s=this.settings.rtl,n={width:"auto","margin-left":s?e:"","margin-right":s?"":e};!i&&this.$stage.children().css(n),t.css=n}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,s=this._items.length,n=!this.settings.autoWidth,o=[];for(t.items={merge:!1,width:e};s--;)i=this._mergers[s],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=i>1||t.items.merge,o[s]=n?e*i:this._items[s].width();this._widths=o}},{filter:["items","settings"],run:function(){var e=[],i=this._items,s=this.settings,n=Math.max(2*s.items,4),o=2*Math.ceil(i.length/2),r=s.loop&&i.length?s.rewind?n:Math.max(n,o):0,a="",h="";for(r/=2;r--;)e.push(this.normalize(e.length/2,!0)),a+=i[e[e.length-1]][0].outerHTML,e.push(this.normalize(i.length-1-(e.length-1)/2,!0)),h=i[e[e.length-1]][0].outerHTML+h;this._clones=e,t(a).addClass("cloned").appendTo(this.$stage),t(h).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=-1,s=0,n=0,o=[];++i<e;)s=o[i-1]||0,n=this._widths[this.relative(i)]+this.settings.margin,o.push(s+n*t);this._coordinates=o}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,s=this.$stage.children();if(i&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],s.eq(e).css(t.css);else i&&(t.css.width=t.items.width,s.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,s,n=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,r=this.coordinates(this.current())+o,a=r+this.width()*n,h=[];for(i=0,s=this._coordinates.length;i<s;i++)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+o*n,(this.op(t,"<=",r)&&this.op(t,">",a)||this.op(e,"<",r)&&this.op(e,">",a))&&h.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+h.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],n.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var e,i,s;e=this.$element.find("img"),i=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:void 0,s=this.$element.children(i).width(),e.length&&s<=0&&this.preloadAutoWidthImages(e)}this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},n.prototype.setup=function(){var e=this.viewport(),i=this.options.responsive,s=-1,n=null;i?(t.each(i,function(t){t<=e&&t>s&&(s=Number(t))}),"function"==typeof(n=t.extend({},this.options,i[s])).stagePadding&&(n.stagePadding=n.stagePadding()),delete n.responsive,n.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+s))):n=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=s,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},n.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},n.prototype.prepare=function(e){var i=this.trigger("prepare",{content:e});return i.data||(i.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:i.data}),i.data},n.prototype.update=function(){for(var e=0,i=this._pipe.length,s=t.proxy(function(t){return this[t]},this._invalidated),n={};e<i;)(this._invalidated.all||t.grep(this._pipe[e].filter,s).length>0)&&this._pipe[e].run(n),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},n.prototype.width=function(t){switch(t=t||n.Width.Default){case n.Width.Inner:case n.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},n.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},n.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},n.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},n.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},n.prototype.onDragStart=function(e){var s=null;3!==e.which&&(t.support.transform?s={x:(s=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===s.length?12:4],y:s[16===s.length?13:5]}:(s=this.$stage.position(),s={x:this.settings.rtl?s.left+this.$stage.width()-this.width()+this.settings.margin:s.left,y:s.top}),this.is("animating")&&(t.support.transform?this.animate(s.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=s,this._drag.stage.current=s,this._drag.pointer=this.pointer(e),t(i).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(i).one("mousemove.owl.core touchmove.owl.core",t.proxy(function(e){var s=this.difference(this._drag.pointer,this.pointer(e));t(i).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(s.x)<Math.abs(s.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},n.prototype.onDragMove=function(t){var e=null,i=null,s=null,n=this.difference(this._drag.pointer,this.pointer(t)),o=this.difference(this._drag.stage.start,n);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,o.x=((o.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),s=this.settings.pullDrag?-1*n.x/5:0,o.x=Math.max(Math.min(o.x,e+s),i+s)),this._drag.stage.current=o,this.animate(o.x))},n.prototype.onDragEnd=function(e){var s=this.difference(this._drag.pointer,this.pointer(e)),n=this._drag.stage.current,o=s.x>0^this.settings.rtl?"left":"right";t(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==s.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(n.x,0!==s.x?o:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=o,(Math.abs(s.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},n.prototype.closest=function(e,i){var s=-1,n=this.width(),o=this.coordinates();return this.settings.freeDrag||t.each(o,t.proxy(function(t,r){return"left"===i&&e>r-30&&e<r+30?s=t:"right"===i&&e>r-n-30&&e<r-n+30?s=t+1:this.op(e,"<",r)&&this.op(e,">",o[t+1]||r-n)&&(s="left"===i?t+1:t),-1===s},this)),this.settings.loop||(this.op(e,">",o[this.minimum()])?s=e=this.minimum():this.op(e,"<",o[this.maximum()])&&(s=e=this.maximum())),s},n.prototype.animate=function(e){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"}):i?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},n.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},n.prototype.current=function(t){if(void 0===t)return this._current;if(0!==this._items.length){if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});void 0!==e.data&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current}},n.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,function(t,e){return e})},n.prototype.reset=function(t){void 0!==(t=this.normalize(t))&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},n.prototype.normalize=function(t,e){var i=this._items.length,s=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=void 0:(t<0||t>=i+s)&&(t=((t-s/2)%i+i)%i+s/2),t},n.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},n.prototype.maximum=function(t){var e,i,s,n=this.settings,o=this._coordinates.length;if(n.loop)o=this._clones.length/2+this._items.length-1;else if(n.autoWidth||n.merge){for(e=this._items.length,i=this._items[--e].width(),s=this.$element.width();e--&&!((i+=this._items[e].width()+this.settings.margin)>s););o=e+1}else o=n.center?this._items.length-1:this._items.length-n.items;return t&&(o-=this._clones.length/2),Math.max(o,0)},n.prototype.minimum=function(t){return t?0:this._clones.length/2},n.prototype.items=function(t){return void 0===t?this._items.slice():(t=this.normalize(t,!0),this._items[t])},n.prototype.mergers=function(t){return void 0===t?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},n.prototype.clones=function(e){var i=this._clones.length/2,s=i+this._items.length,n=function(t){return t%2==0?s+t/2:i-(t+1)/2};return void 0===e?t.map(this._clones,function(t,e){return n(e)}):t.map(this._clones,function(t,i){return t===e?n(i):null})},n.prototype.speed=function(t){return void 0!==t&&(this._speed=t),this._speed},n.prototype.coordinates=function(e){var i,s=1,n=e-1;return void 0===e?t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(s=-1,n=e+1),i=this._coordinates[e],i+=(this.width()-i+(this._coordinates[n]||0))/2*s):i=this._coordinates[n]||0,i=Math.ceil(i))},n.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},n.prototype.to=function(t,e){var i=this.current(),s=null,n=t-this.relative(i),o=(n>0)-(n<0),r=this._items.length,a=this.minimum(),h=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(n)>r/2&&(n+=-1*o*r),(s=(((t=i+n)-a)%r+r)%r+a)!==t&&s-n<=h&&s-n>0&&(i=s-n,t=s,this.reset(i))):t=this.settings.rewind?(t%(h+=1)+h)%h:Math.max(a,Math.min(h,t)),this.speed(this.duration(i,t,e)),this.current(t),this.$element.is(":visible")&&this.update()},n.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},n.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},n.prototype.onTransitionEnd=function(t){if(void 0!==t&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},n.prototype.viewport=function(){var s;return this.options.responsiveBaseElement!==e?s=t(this.options.responsiveBaseElement).width():e.innerWidth?s=e.innerWidth:i.documentElement&&i.documentElement.clientWidth?s=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),s},n.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},n.prototype.add=function(e,i){var s=this.relative(this._current);i=void 0===i?this._items.length:this.normalize(i,!0),e=e instanceof jQuery?e:t(e),this.trigger("add",{content:e,position:i}),e=this.prepare(e),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[i-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(e),this._items.splice(i,0,e),this._mergers.splice(i,0,1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[s]&&this.reset(this._items[s].index()),this.invalidate("items"),this.trigger("added",{content:e,position:i})},n.prototype.remove=function(t){void 0!==(t=this.normalize(t,!0))&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},n.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy(function(e,i){this.enter("pre-loading"),i=t(i),t(new Image).one("load",t.proxy(function(t){i.attr("src",t.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},n.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(i).off(".owl.core"),!1!==this.settings.responsive&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize));for(var s in this._plugins)this._plugins[s].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},n.prototype.op=function(t,e,i){var s=this.settings.rtl;switch(e){case"<":return s?t>i:t<i;case">":return s?t<i:t>i;case">=":return s?t<=i:t>=i;case"<=":return s?t>=i:t<=i}},n.prototype.on=function(t,e,i,s){t.addEventListener?t.addEventListener(e,i,s):t.attachEvent&&t.attachEvent("on"+e,i)},n.prototype.off=function(t,e,i,s){t.removeEventListener?t.removeEventListener(e,i,s):t.detachEvent&&t.detachEvent("on"+e,i)},n.prototype.trigger=function(e,i,s,o,r){var a={item:{count:this._items.length,index:this.current()}},h=t.camelCase(t.grep(["on",e,s],function(t){return t}).join("-").toLowerCase()),l=t.Event([e,"owl",s||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},a,i));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(l)}),this.register({type:n.Type.Event,name:e}),this.$element.trigger(l),this.settings&&"function"==typeof this.settings[h]&&this.settings[h].call(this,l)),l},n.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){void 0===this._states.current[e]&&(this._states.current[e]=0),this._states.current[e]++},this))},n.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]--},this))},n.prototype.register=function(e){if(e.type===n.Type.Event){if(t.event.special[e.name]||(t.event.special[e.name]={}),!t.event.special[e.name].owl){var i=t.event.special[e.name]._default;t.event.special[e.name]._default=function(t){return!i||!i.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&t.namespace.indexOf("owl")>-1:i.apply(this,arguments)},t.event.special[e.name].owl=!0}}else e.type===n.Type.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy(function(i,s){return t.inArray(i,this._states.tags[e.name])===s},this)))},n.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},n.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},n.prototype.pointer=function(t){var i={x:null,y:null};return t=t.originalEvent||t||e.event,(t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i},n.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},n.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.owlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var s=t(this),o=s.data("owl.carousel");o||(o=new n(this,"object"==typeof e&&e),s.data("owl.carousel",o),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,i){o.register({type:n.Type.Event,name:i}),o.$element.on(i+".owl.carousel.core",t.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([i]),o[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},o))})),"string"==typeof e&&"_"!==e.charAt(0)&&o[e].apply(o,i)})},t.fn.owlCarousel.Constructor=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoRefresh:!0,autoRefreshInterval:500},n.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},n.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},n.prototype.destroy=function(){var t,i;e.clearInterval(this._interval);for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoRefresh=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":t.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type))for(var i=this._core.settings,s=i.center&&Math.ceil(i.items/2)||i.items,n=i.center&&-1*s||0,o=(e.property&&void 0!==e.property.value?e.property.value:this._core.current())+n,r=this._core.clones().length,a=t.proxy(function(t,e){this.load(e)},this);n++<s;)this.load(r/2+this._core.relative(o)),r&&t.each(this._core.clones(this._core.relative(o)),a),o++},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={lazyLoad:!1},n.prototype.load=function(i){var s=this._core.$stage.children().eq(i),n=s&&s.find(".owl-lazy");!n||t.inArray(s.get(0),this._loaded)>-1||(n.each(t.proxy(function(i,s){var n,o=t(s),r=e.devicePixelRatio>1&&o.attr("data-src-retina")||o.attr("data-src");this._core.trigger("load",{element:o,url:r},"lazy"),o.is("img")?o.one("load.owl.lazy",t.proxy(function(){o.css("opacity",1),this._core.trigger("loaded",{element:o,url:r},"lazy")},this)).attr("src",r):((n=new Image).onload=t.proxy(function(){o.css({"background-image":'url("'+r+'")',opacity:"1"}),this._core.trigger("loaded",{element:o,url:r},"lazy")},this),n.src=r)},this)),this._loaded.push(s.get(0)))},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Lazy=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"==t.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},n.prototype.update=function(){var e=this._core._current,i=e+this._core.settings.items,s=this._core.$stage.children().toArray().slice(e,i),n=[],o=0;t.each(s,function(e,i){n.push(t(i).height())}),o=Math.max.apply(null,n),this._core.$stage.parent().height(o).addClass(this._core.settings.autoHeightClass)},n.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoHeight=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,t(e.content)))}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};n.Defaults={video:!1,videoHeight:!1,videoWidth:!1},n.prototype.fetch=function(t,e){var i=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",s=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),n=t.attr("data-width")||this._core.settings.videoWidth,o=t.attr("data-height")||this._core.settings.videoHeight,r=t.attr("href");if(!r)throw new Error("Missing video URL.");if((s=r.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)i="youtube";else if(s[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(s[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}s=s[6],this._videos[r]={type:i,id:s,width:n,height:o},e.attr("data-video",r),this.thumbnail(t,this._videos[r])},n.prototype.thumbnail=function(e,i){var s,n,o,r=i.width&&i.height?'style="width:'+i.width+"px;height:"+i.height+'px;"':"",a=e.find("img"),h="src",l="",c=this._core.settings,d=function(t){n='<div class="owl-video-play-icon"></div>',s=c.lazyLoad?'<div class="owl-video-tn '+l+'" '+h+'="'+t+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+t+')"></div>',e.after(s),e.after(n)};if(e.wrap('<div class="owl-video-wrapper"'+r+"></div>"),this._core.settings.lazyLoad&&(h="data-src",l="owl-lazy"),a.length)return d(a.attr(h)),a.remove(),!1;"youtube"===i.type?(o="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",d(o)):"vimeo"===i.type?t.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t[0].thumbnail_large,d(o)}}):"vzaar"===i.type&&t.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t.framegrab_url,d(o)}})},n.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},n.prototype.play=function(e){var i,s=t(e.target).closest("."+this._core.settings.itemClass),n=this._videos[s.attr("data-video")],o=n.width||"100%",r=n.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),s=this._core.items(this._core.relative(s.index())),this._core.reset(s.index()),"youtube"===n.type?i='<iframe width="'+o+'" height="'+r+'" src="//www.youtube.com/embed/'+n.id+"?autoplay=1&rel=0&v="+n.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===n.type?i='<iframe src="//player.vimeo.com/video/'+n.id+'?autoplay=1" width="'+o+'" height="'+r+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===n.type&&(i='<iframe frameborder="0"height="'+r+'"width="'+o+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+n.id+'/player?autoplay=true"></iframe>'),t('<div class="owl-video-frame">'+i+"</div>").insertAfter(s.find(".owl-video")),this._playing=s.addClass("owl-video-playing"))},n.prototype.isInFullScreen=function(){var e=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},n.prototype.destroy=function(){var t,e;this._core.$element.off("click.owl.video");for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Video=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this.core=e,this.core.options=t.extend({},n.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":t.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};n.Defaults={animateOut:!1,animateIn:!1},n.prototype.swap=function(){if(1===this.core.settings.items&&t.support.animation&&t.support.transition){this.core.speed(0);var e,i=t.proxy(this.clear,this),s=this.core.$stage.children().eq(this.previous),n=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,r=this.core.settings.animateOut;this.core.current()!==this.previous&&(r&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),s.one(t.support.animation.end,i).css({left:e+"px"}).addClass("animated owl-animated-out").addClass(r)),o&&n.one(t.support.animation.end,i).addClass("animated owl-animated-in").addClass(o))}},n.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Animate=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":t.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":t.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":t.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},n.Defaults,this._core.options)};n.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},n.prototype.play=function(t,e){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},n.prototype._getNextTimeout=function(s,n){return this._timeout&&e.clearTimeout(this._timeout),e.setTimeout(t.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||i.hidden||this._core.next(n||this._core.settings.autoplaySpeed)},this),s||this._core.settings.autoplayTimeout)},n.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},n.prototype.stop=function(){this._core.is("rotating")&&(e.clearTimeout(this._timeout),this._core.leave("rotating"))},n.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},n.prototype.destroy=function(){var t,e;this.stop();for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.autoplay=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(e){this._core=e,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers)};n.Defaults={nav:!1,navText:["",""],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},n.prototype.initialize=function(){var e,i=this._core.settings;this._controls.$relative=(i.navContainer?t(i.navContainer):t("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy(function(t){this.prev(i.navSpeed)},this)),this._controls.$next=t("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy(function(t){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[t("<div>").addClass(i.dotClass).append(t("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?t(i.dotsContainer):t("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",t.proxy(function(e){var s=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(s,i.dotsSpeed)},this));for(e in this._overrides)this._core[e]=t.proxy(this[e],this)},n.prototype.destroy=function(){var t,e,i,s;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)this._controls[e].remove();for(s in this.overides)this._core[s]=this._overrides[s];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},n.prototype.update=function(){var t,e,i=this._core.clones().length/2,s=i+this._core.items().length,n=this._core.maximum(!0),o=this._core.settings,r=o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items;if("page"!==o.slideBy&&(o.slideBy=Math.min(o.slideBy,o.items)),o.dots||"page"==o.slideBy)for(this._pages=[],t=i,e=0,0;t<s;t++){if(e>=r||0===e){if(this._pages.push({start:Math.min(n,t-i),end:t-i+r-1}),Math.min(n,t-i)===n)break;e=0,0}e+=this._core.mergers(this._core.relative(t))}},n.prototype.draw=function(){var e,i=this._core.settings,s=this._core.items().length<=i.items,n=this._core.relative(this._core.current()),o=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||s),i.nav&&(this._controls.$previous.toggleClass("disabled",!o&&n<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!o&&n>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||s),i.dots&&(e=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass("active"))},n.prototype.onTrigger=function(e){var i=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},n.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy(function(t,i){return t.start<=e&&t.end>=e},this)).pop()},n.prototype.getPosition=function(e){var i,s,n=this._core.settings;return"page"==n.slideBy?(i=t.inArray(this.current(),this._pages),s=this._pages.length,e?++i:--i,i=this._pages[(i%s+s)%s].start):(i=this._core.relative(this._core.current()),s=this._core.items().length,e?i+=n.slideBy:i-=n.slideBy),i},n.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},n.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},n.prototype.to=function(e,i,s){var n;!s&&this._pages.length?(n=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%n+n)%n].start,i)):t.proxy(this._overrides.to,this._core)(e,i)},t.fn.owlCarousel.Constructor.Plugins.Navigation=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=e.content}},this),"changed.owl.carousel":t.proxy(function(i){if(i.namespace&&"position"===i.property.name){var s=this._core.items(this._core.relative(this._core.current())),n=t.map(this._hashes,function(t,e){return t===s?e:null}).join();if(!n||e.location.hash.slice(1)===n)return;e.location.hash=n}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(t){var i=e.location.hash.substring(1),s=this._core.$stage.children(),n=this._hashes[i]&&s.index(this._hashes[i]);void 0!==n&&n!==this._core.current()&&this._core.to(this._core.relative(n),!1,!0)},this))};n.Defaults={URLhashListener:!1},n.prototype.destroy=function(){var i,s;t(e).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(s in Object.getOwnPropertyNames(this))"function"!=typeof this[s]&&(this[s]=null)},t.fn.owlCarousel.Constructor.Plugins.Hash=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){function n(e,i){var n=!1,o=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+a.join(o+" ")+o).split(" "),function(t,e){if(r[e]!==s)return n=!i||e,!1}),n}function o(t){return n(t,!0)}var r=t("<support>").get(0).style,a="Webkit Moz O ms".split(" "),h={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},l={csstransforms:function(){return!!n("transform")},csstransforms3d:function(){return!!n("perspective")},csstransitions:function(){return!!n("transition")},cssanimations:function(){return!!n("animation")}};l.csstransitions()&&(t.support.transition=new String(o("transition")),t.support.transition.end=h.transition.end[t.support.transition]),l.cssanimations()&&(t.support.animation=new String(o("animation")),t.support.animation.end=h.animation.end[t.support.animation]),l.csstransforms()&&(t.support.transform=new String(o("transform")),t.support.transform3d=l.csstransforms3d())}(window.Zepto||window.jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJkb0FuaW1hdGlvbnMiLCJvZmZzZXQiLCJ3aW5kb3ciLCJzY3JvbGxUb3AiLCJoZWlnaHQiLCIkYW5pbWF0YWJsZXMiLCJsZW5ndGgiLCJvZmYiLCJlYWNoIiwiaSIsIiRhbmltYXRhYmxlIiwidGhpcyIsInRvcCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJhZGRDYWxzc0Z1bmMiLCIkc2MiLCIkc2MxIiwib24iLCJ0cmlnZ2VyIiwic2Nyb2xsIiwid2lkdGgiLCJhdHRyIiwidCIsImUiLCJzZXREaW1lbnNpb25zIiwic2V0dGluZ3MiLCJzbGlkZVdpZHRoIiwiJGZpcnN0U2xpZGUiLCJzbGlkZUhlaWdodCIsImNvbnNvbGUiLCJsb2ciLCJzbGlkZXJXaWR0aCIsIk1hdGgiLCJjZWlsIiwiJHNsaWRlcyIsInNsaWRlckhlaWdodCIsIm91dGVySGVpZ2h0IiwiJHNsaWRlcldyYXBwZXIiLCJ0bFBhcmFtcyIsIngiLCJlYXNlIiwiUG93ZXIyIiwiZWFzZUluT3V0Iiwic2Nyb2xsU2NlbmUiLCJzY3JvbGxUaW1lbGluZSIsInByb2dyZXNzIiwiVGltZWxpbmVNYXgiLCJ0byIsInNldFR3ZWVuIiwicmVmcmVzaCIsInNjcm9sbENvbnRyb2xsZXIiLCJTY3JvbGxNYWdpYyIsIkNvbnRyb2xsZXIiLCJTY2VuZSIsInRyaWdnZXJFbGVtZW50Iiwic2xpZGVyIiwidHJpZ2dlckhvb2siLCJkdXJhdGlvbiIsInNldFBpbiIsImFkZFRvIiwiZXZlbnQiLCJ0aW1lIiwic2V0U2NlbmUiLCJmaXJzdCIsInJlc2l6aW5nIiwib3B0aW9ucyIsImV4dGVuZCIsInNsaWRlcldyYXBwZXIiLCJzbGlkZXMiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwic2Nyb2xsU2xpZGVyIiwialF1ZXJ5IiwiY3NzIiwiaWQiLCJhcHBlbmQiLCJjbGFzcyIsImRlbGVnYXRlIiwiaWZyYW1lX3VybCIsImRhdGEiLCJpZnJhbWUiLCJmcmFtZWJvcmRlciIsInNyYyIsImFsbG93ZnVsbHNjcmVlbiIsInJlcGxhY2VXaXRoIiwidGFicyIsImdldEVsZW1lbnRCeUlkIiwiY2hpbGRyZW4iLCJ0YWJjb250ZW50cyIsIm15RnVuY3Rpb24iLCJ0YWJjaGFuZ2UiLCJteW51bSIsImludCIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsImFkZCIsImluZGV4IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsaWNrIiwidG9nZ2xlQ2xhc3MiLCJvd2xDYXJvdXNlbCIsIm5hdmlnYXRpb24iLCJzbGlkZVNwZWVkIiwicGFnaW5hdGlvblNwZWVkIiwibmF2IiwiZG90cyIsInNpbmdsZUl0ZW0iLCJwYWdpbmF0aW9uIiwicmV3aW5kU3BlZWQiLCJpdGVtcyIsImxvb3AiLCJhdXRvcGxheSIsImF1dG9wbGF5VGltZW91dCIsInRvdWNoRHJhZyIsIm1vdXNlRHJhZyIsImF1dG9wbGF5U3BlZWQiLCJuYXZUZXh0IiwibmF2U3BlZWQiLCJtYXJnaW4iLCJyZXNwb25zaXZlIiwiMCIsIjk5OCIsImZpbmQiLCJwcmV2ZW50RGVmYXVsdCIsInNlY3Rpb24iLCJhbmltYXRlIiwidW5kZWZpbmVkIiwiT3dsIiwiZWxlbWVudCIsIkRlZmF1bHRzIiwiJGVsZW1lbnQiLCJfaGFuZGxlcnMiLCJfcGx1Z2lucyIsIl9zdXByZXNzIiwiX2N1cnJlbnQiLCJfc3BlZWQiLCJfY29vcmRpbmF0ZXMiLCJfYnJlYWtwb2ludCIsIl93aWR0aCIsIl9pdGVtcyIsIl9jbG9uZXMiLCJfbWVyZ2VycyIsIl93aWR0aHMiLCJfaW52YWxpZGF0ZWQiLCJfcGlwZSIsIl9kcmFnIiwidGFyZ2V0IiwicG9pbnRlciIsInN0YWdlIiwic3RhcnQiLCJjdXJyZW50IiwiZGlyZWN0aW9uIiwiX3N0YXRlcyIsInRhZ3MiLCJpbml0aWFsaXppbmciLCJhbmltYXRpbmciLCJkcmFnZ2luZyIsInByb3h5IiwiaGFuZGxlciIsIlBsdWdpbnMiLCJrZXkiLCJwbHVnaW4iLCJjaGFyQXQiLCJ0b0xvd2VyQ2FzZSIsInNsaWNlIiwiV29ya2VycyIsInByaW9yaXR5Iiwid29ya2VyIiwicHVzaCIsImZpbHRlciIsInJ1biIsInNldHVwIiwiaW5pdGlhbGl6ZSIsImNlbnRlciIsInJld2luZCIsInB1bGxEcmFnIiwiZnJlZURyYWciLCJzdGFnZVBhZGRpbmciLCJtZXJnZSIsIm1lcmdlRml0IiwiYXV0b1dpZHRoIiwic3RhcnRQb3NpdGlvbiIsInJ0bCIsInNtYXJ0U3BlZWQiLCJmbHVpZFNwZWVkIiwiZHJhZ0VuZFNwZWVkIiwicmVzcG9uc2l2ZVJlZnJlc2hSYXRlIiwicmVzcG9uc2l2ZUJhc2VFbGVtZW50IiwiZmFsbGJhY2tFYXNpbmciLCJpbmZvIiwibmVzdGVkSXRlbVNlbGVjdG9yIiwiaXRlbUVsZW1lbnQiLCJzdGFnZUVsZW1lbnQiLCJyZWZyZXNoQ2xhc3MiLCJsb2FkZWRDbGFzcyIsImxvYWRpbmdDbGFzcyIsInJ0bENsYXNzIiwicmVzcG9uc2l2ZUNsYXNzIiwiZHJhZ0NsYXNzIiwiaXRlbUNsYXNzIiwic3RhZ2VDbGFzcyIsInN0YWdlT3V0ZXJDbGFzcyIsImdyYWJDbGFzcyIsIldpZHRoIiwiRGVmYXVsdCIsIklubmVyIiwiT3V0ZXIiLCJUeXBlIiwiRXZlbnQiLCJTdGF0ZSIsImNhY2hlIiwicmVsYXRpdmUiLCIkc3RhZ2UiLCJyZW1vdmUiLCJncmlkIiwibWFyZ2luLWxlZnQiLCJtYXJnaW4tcmlnaHQiLCJ0b0ZpeGVkIiwiaXRlcmF0b3IiLCJ3aWR0aHMiLCJtaW4iLCJjbG9uZXMiLCJ2aWV3IiwibWF4Iiwic2l6ZSIsInJlcGVhdCIsInByZXBlbmQiLCJub3JtYWxpemUiLCJvdXRlckhUTUwiLCJhcHBlbmRUbyIsInByZXBlbmRUbyIsInByZXZpb3VzIiwiY29vcmRpbmF0ZXMiLCJwYWRkaW5nIiwiYWJzIiwicGFkZGluZy1sZWZ0IiwicGFkZGluZy1yaWdodCIsImVxIiwicmVtb3ZlQXR0ciIsIm1pbmltdW0iLCJtYXhpbXVtIiwicmVzZXQiLCJpbm5lciIsIm91dGVyIiwibiIsImJlZ2luIiwiZW5kIiwibWF0Y2hlcyIsIm9wIiwiam9pbiIsInByb3RvdHlwZSIsImVudGVyIiwiaXMiLCJpbWdzIiwibmVzdGVkU2VsZWN0b3IiLCJwcmVsb2FkQXV0b1dpZHRoSW1hZ2VzIiwid3JhcCIsInBhcmVudCIsInJlcGxhY2UiLCJub3QiLCJpbnZhbGlkYXRlIiwicmVnaXN0ZXJFdmVudEhhbmRsZXJzIiwibGVhdmUiLCJ2aWV3cG9ydCIsIm92ZXJ3cml0ZXMiLCJtYXRjaCIsImJyZWFrcG9pbnQiLCJOdW1iZXIiLCJSZWdFeHAiLCJwcm9wZXJ0eSIsIm5hbWUiLCJ2YWx1ZSIsIm9wdGlvbnNMb2dpYyIsInByZXBhcmUiLCJpdGVtIiwiY29udGVudCIsInVwZGF0ZSIsInAiLCJhbGwiLCJncmVwIiwiZGltZW5zaW9uIiwib25UaHJvdHRsZWRSZXNpemUiLCJyZXNpemVUaW1lciIsIm9uUmVzaXplIiwiaXNEZWZhdWx0UHJldmVudGVkIiwic3VwcG9ydCIsInRyYW5zaXRpb24iLCJvblRyYW5zaXRpb25FbmQiLCJvbkRyYWdTdGFydCIsIm9uRHJhZ0VuZCIsIndoaWNoIiwidHJhbnNmb3JtIiwic3BsaXQiLCJ5IiwicG9zaXRpb24iLCJsZWZ0Iiwic3RvcCIsInR5cGUiLCJzcGVlZCIsIkRhdGUiLCJnZXRUaW1lIiwib25lIiwiZGVsdGEiLCJkaWZmZXJlbmNlIiwib25EcmFnTW92ZSIsInB1bGwiLCJjbG9zZXN0IiwiY29vcmRpbmF0ZSIsInRyYW5zZm9ybTNkIiwic3RhdGUiLCJwYXJ0IiwibWFwIiwidiIsInN1cHByZXNzIiwicmVsZWFzZSIsIm0iLCJpc051bWVyaWMiLCJyZWNpcHJvY2FsSXRlbXNXaWR0aCIsImVsZW1lbnRXaWR0aCIsIm1lcmdlcnMiLCJvZGQiLCJldmVuIiwibXVsdGlwbGllciIsIm5ld1Bvc2l0aW9uIiwiZnJvbSIsImZhY3RvciIsInJldmVydCIsImRpc3RhbmNlIiwibmV4dCIsInByZXYiLCJzdG9wUHJvcGFnYXRpb24iLCJzcmNFbGVtZW50Iiwib3JpZ2luYWxUYXJnZXQiLCJnZXQiLCJpbm5lcldpZHRoIiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJ3YXJuIiwiZW1wdHkiLCJub2RlVHlwZSIsImFkZEJhY2siLCJhZnRlciIsImJlZm9yZSIsInNwbGljZSIsImltYWdlcyIsIkltYWdlIiwiZGVzdHJveSIsInVud3JhcCIsImNvbnRlbnRzIiwicmVtb3ZlRGF0YSIsImEiLCJvIiwiYiIsImxpc3RlbmVyIiwiY2FwdHVyZSIsImF0dGFjaEV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwibmFtZXNwYWNlIiwic3RhdHVzIiwiY291bnQiLCJjYW1lbENhc2UiLCJyZWxhdGVkVGFyZ2V0Iiwib25UcmlnZ2VyIiwicmVnaXN0ZXIiLCJjYWxsIiwiY29uY2F0Iiwib2JqZWN0Iiwic3BlY2lhbCIsIm93bCIsIl9kZWZhdWx0IiwiYXBwbHkiLCJpbmRleE9mIiwiYXJndW1lbnRzIiwidGFnIiwiaW5BcnJheSIsImV2ZW50cyIsInJlc3VsdCIsIm9yaWdpbmFsRXZlbnQiLCJ0b3VjaGVzIiwiY2hhbmdlZFRvdWNoZXMiLCJwYWdlWCIsInBhZ2VZIiwiY2xpZW50WCIsImNsaWVudFkiLCJudW1iZXIiLCJpc05hTiIsInBhcnNlRmxvYXQiLCJzZWNvbmQiLCJmbiIsIm9wdGlvbiIsImFyZ3MiLCJBcnJheSIsIiR0aGlzIiwiQ29uc3RydWN0b3IiLCJaZXB0byIsIkF1dG9SZWZyZXNoIiwiY2Fyb3VzZWwiLCJfY29yZSIsIl9pbnRlcnZhbCIsIl92aXNpYmxlIiwiaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsIiwiYXV0b1JlZnJlc2giLCJ3YXRjaCIsImF1dG9SZWZyZXNoSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiTGF6eSIsIl9sb2FkZWQiLCJpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwgY2hhbmdlLm93bC5jYXJvdXNlbCByZXNpemVkLm93bC5jYXJvdXNlbCIsImxhenlMb2FkIiwibG9hZCIsIiRpdGVtIiwiJGVsZW1lbnRzIiwiaW1hZ2UiLCJ1cmwiLCJkZXZpY2VQaXhlbFJhdGlvIiwib25sb2FkIiwiYmFja2dyb3VuZC1pbWFnZSIsIm9wYWNpdHkiLCJoYW5kbGVycyIsIkF1dG9IZWlnaHQiLCJpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwgcmVmcmVzaGVkLm93bC5jYXJvdXNlbCIsImF1dG9IZWlnaHQiLCJjaGFuZ2VkLm93bC5jYXJvdXNlbCIsImxvYWRlZC5vd2wubGF6eSIsImF1dG9IZWlnaHRDbGFzcyIsInZpc2libGUiLCJ0b0FycmF5IiwiaGVpZ2h0cyIsIm1heGhlaWdodCIsIlZpZGVvIiwiX3ZpZGVvcyIsIl9wbGF5aW5nIiwicmVzaXplLm93bC5jYXJvdXNlbCIsInZpZGVvIiwiaXNJbkZ1bGxTY3JlZW4iLCJyZWZyZXNoZWQub3dsLmNhcm91c2VsIiwicHJlcGFyZWQub3dsLmNhcm91c2VsIiwiZmV0Y2giLCJwbGF5IiwidmlkZW9IZWlnaHQiLCJ2aWRlb1dpZHRoIiwiRXJyb3IiLCJ0aHVtYm5haWwiLCJ0bkxpbmsiLCJpY29uIiwicGF0aCIsImRpbWVuc2lvbnMiLCJjdXN0b21UbiIsInNyY1R5cGUiLCJsYXp5Q2xhc3MiLCJjcmVhdGUiLCJhamF4IiwianNvbnAiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJ0aHVtYm5haWxfbGFyZ2UiLCJmcmFtZWdyYWJfdXJsIiwiaHRtbCIsImluc2VydEFmdGVyIiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJtb3pGdWxsU2NyZWVuRWxlbWVudCIsIndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IiwiaGFzQ2xhc3MiLCJBbmltYXRlIiwic2NvcGUiLCJjb3JlIiwic3dhcHBpbmciLCJjaGFuZ2Uub3dsLmNhcm91c2VsIiwiZHJhZy5vd2wuY2Fyb3VzZWwgZHJhZ2dlZC5vd2wuY2Fyb3VzZWwgdHJhbnNsYXRlZC5vd2wuY2Fyb3VzZWwiLCJ0cmFuc2xhdGUub3dsLmNhcm91c2VsIiwiYW5pbWF0ZU91dCIsImFuaW1hdGVJbiIsInN3YXAiLCJhbmltYXRpb24iLCJjbGVhciIsImluY29taW5nIiwib3V0Z29pbmciLCJBdXRvcGxheSIsIl90aW1lb3V0IiwiX3BhdXNlZCIsIl9zZXRBdXRvUGxheUludGVydmFsIiwicGxheS5vd2wuYXV0b3BsYXkiLCJzIiwic3RvcC5vd2wuYXV0b3BsYXkiLCJtb3VzZW92ZXIub3dsLmF1dG9wbGF5IiwiYXV0b3BsYXlIb3ZlclBhdXNlIiwicGF1c2UiLCJtb3VzZWxlYXZlLm93bC5hdXRvcGxheSIsInRvdWNoc3RhcnQub3dsLmNvcmUiLCJ0b3VjaGVuZC5vd2wuY29yZSIsInRpbWVvdXQiLCJfZ2V0TmV4dFRpbWVvdXQiLCJoaWRkZW4iLCJOYXZpZ2F0aW9uIiwiX2luaXRpYWxpemVkIiwiX3BhZ2VzIiwiX2NvbnRyb2xzIiwiX3RlbXBsYXRlcyIsIl9vdmVycmlkZXMiLCJkb3RzRGF0YSIsImRvdENsYXNzIiwiYWRkZWQub3dsLmNhcm91c2VsIiwicG9wIiwicmVtb3ZlLm93bC5jYXJvdXNlbCIsImRyYXciLCJuYXZFbGVtZW50IiwibmF2Q29udGFpbmVyIiwibmF2Q29udGFpbmVyQ2xhc3MiLCJuYXZDbGFzcyIsInNsaWRlQnkiLCJkb3RzQ2xhc3MiLCJkb3RzRWFjaCIsImRvdHNTcGVlZCIsImRvdHNDb250YWluZXIiLCJvdmVycmlkZSIsIiRyZWxhdGl2ZSIsIiRwcmV2aW91cyIsIiRuZXh0IiwicHJvcCIsIiRhYnNvbHV0ZSIsImNvbnRyb2wiLCJvdmVyaWRlcyIsImoiLCJsb3dlciIsInVwcGVyIiwiZGlzYWJsZWQiLCJwYWdlIiwiZ2V0UG9zaXRpb24iLCJzdWNjZXNzb3IiLCJzdGFuZGFyZCIsIkhhc2giLCJfaGFzaGVzIiwiaGFzaCIsImxvY2F0aW9uIiwic3Vic3RyaW5nIiwiVVJMaGFzaExpc3RlbmVyIiwidGVzdCIsInByZWZpeGVkIiwidG9VcHBlckNhc2UiLCJwcmVmaXhlcyIsInN0eWxlIiwiV2Via2l0VHJhbnNpdGlvbiIsIk1velRyYW5zaXRpb24iLCJPVHJhbnNpdGlvbiIsIldlYmtpdEFuaW1hdGlvbiIsIk1vekFuaW1hdGlvbiIsIk9BbmltYXRpb24iLCJ0ZXN0cyIsImNzc3RyYW5zZm9ybXMiLCJjc3N0cmFuc2Zvcm1zM2QiLCJjc3N0cmFuc2l0aW9ucyIsImNzc2FuaW1hdGlvbnMiLCJTdHJpbmciXSwibWFwcGluZ3MiOiJBQUdBQSxFQUFFQyxVQUFVQyxNQUFNLFdBR2QsSUFBSUMsRUFBZSxXQUdmLElBQUlDLEVBQVNKLEVBQUVLLFFBQVFDLFlBQWNOLEVBQUVLLFFBQVFFLFNBQzNDQyxFQUFlUixFQUFFLGVBR00sR0FBdkJRLEVBQWFDLFFBQ2JULEVBQUVLLFFBQVFLLElBQUksU0FBVVAsR0FJNUJLLEVBQWFHLEtBQUssU0FBU0MsR0FDdkIsSUFBSUMsRUFBY2IsRUFBRWMsTUFDZkQsRUFBWVQsU0FBU1csSUFBTUYsRUFBWU4sU0FBVyxHQUFNSCxHQUN6RFMsRUFBWUcsWUFBWSxjQUFjQyxTQUFTLGVBTTFEQyxFQUFjLFdBR1gsSUFBSWQsRUFBU0osRUFBRUssUUFBUUMsWUFBY04sRUFBRUssUUFBUUUsU0FDM0NZLEVBQU1uQixFQUFFLGlDQUdNLEdBQWRtQixFQUFJVixRQUNKVCxFQUFFSyxRQUFRSyxJQUFJLFNBQVdRLEdBSTdCQyxFQUFJUixLQUFLLFNBQVNDLEdBQ2QsSUFBSVEsRUFBT3BCLEVBQUVjLE1BQ1JNLEVBQUtoQixTQUFTVyxJQUFNSyxFQUFLYixTQUFXLElBQVFILEdBQzdDZ0IsRUFBS0gsU0FBUyxXQVUxQmpCLEVBQUVLLFFBQVFnQixHQUFHLFNBQVVsQixHQUN2QkgsRUFBRUssUUFBUWdCLEdBQUcsU0FBV0gsR0FDeEJsQixFQUFFSyxRQUFRaUIsUUFBUSxZQU10QnRCLEVBQUVLLFFBQVFrQixPQUFPLFdBRWIsR0FBSXZCLEVBQUVLLFFBQVFtQixRQUFVLElBQ3BCeEIsRUFBRSxXQUFXaUIsU0FBUyxVQUN0QmpCLEVBQUUsYUFBYXlCLEtBQUssS0FBTSxvQkFFMUIsQ0FDQSxJQUFJQyxFQUFJMUIs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USxHQUFVLEdBbEQxQixJQUFJbVIsRUFBUXBpQixFQUFFLGFBQWFpVixJQUFJLEdBQUdtTixNQUM5QkQsRUFBVyxrQkFBa0IzUCxNQUFNLEtBQ25Db0YsR0FDSTFGLFlBQ0l4QyxLQUNJMlMsaUJBQWtCLHNCQUNsQkMsY0FBZSxnQkFDZkMsWUFBYSxpQkFDYnJRLFdBQVksa0JBR3BCK0wsV0FDSXZPLEtBQ0k4UyxnQkFBaUIscUJBQ2pCQyxhQUFjLGVBQ2RDLFdBQVksZ0JBQ1p6RSxVQUFXLGtCQUl2QjBFLEdBQ0lDLGNBQWUsV0FDWCxRQUFTWixFQUFLLGNBRWxCYSxnQkFBaUIsV0FDYixRQUFTYixFQUFLLGdCQUVsQmMsZUFBZ0IsV0FDWixRQUFTZCxFQUFLLGVBRWxCZSxjQUFlLFdBQ1gsUUFBU2YsRUFBSyxlQXNCdEJXLEVBQU1HLG1CQUVOOWlCLEVBQUVpUyxRQUFRQyxXQUFhLElBQUk4USxPQUFPZixFQUFTLGVBQzNDamlCLEVBQUVpUyxRQUFRQyxXQUFXeEMsSUFBTWtJLEVBQU8xRixXQUFXeEMsSUFBSzFQLEVBQUVpUyxRQUFRQyxhQUc1RHlRLEVBQU1JLGtCQUVOL2lCLEVBQUVpUyxRQUFRZ00sVUFBWSxJQUFJK0UsT0FBT2YsRUFBUyxjQUMxQ2ppQixFQUFFaVMsUUFBUWdNLFVBQVV2TyxJQUFNa0ksRUFBT3FHLFVBQVV2TyxJQUFLMVAsRUFBRWlTLFFBQVFnTSxZQUcxRDBFLEVBQU1DLGtCQUVONWlCLEVBQUVpUyxRQUFRTSxVQUFZLElBQUl5USxPQUFPZixFQUFTLGNBQzFDamlCLEVBQUVpUyxRQUFRdUIsWUFBY21QLEVBQU1FLG1CQXRFckMsQ0F5RUV4aUIsT0FBTzBZLE9BQVMxWSxPQUFPdUUsT0FBUXZFLE9BQVFKIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLyo9PT09PT09PT09PT09PT09PT09PT09QU5JTUFUSU9OPT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAvLyBGdW5jdGlvbiB3aGljaCBhZGRzIHRoZSAnYW5pbWF0ZWQnIGNsYXNzIHRvIGFueSAnLmFuaW1hdGFibGUnIGluIHZpZXdcclxuICAgIHZhciBkb0FuaW1hdGlvbnMgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgLy8gQ2FsYyBjdXJyZW50IG9mZnNldCBhbmQgZ2V0IGFsbCBhbmltYXRhYmxlc1xyXG4gICAgICAgIHZhciBvZmZzZXQgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAkKHdpbmRvdykuaGVpZ2h0KCksXHJcbiAgICAgICAgICAgICRhbmltYXRhYmxlcyA9ICQoJy5hbmltYXRhYmxlJyk7XHJcblxyXG4gICAgICAgIC8vIFVuYmluZCBzY3JvbGwgaGFuZGxlciBpZiB3ZSBoYXZlIG5vIGFuaW1hdGFibGVzXHJcbiAgICAgICAgaWYgKCRhbmltYXRhYmxlcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAkKHdpbmRvdykub2ZmKCdzY3JvbGwnLCBkb0FuaW1hdGlvbnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgYWxsIGFuaW1hdGFibGVzIGFuZCBhbmltYXRlIHRoZW0gaWYgbmVjZXNzYXJ5XHJcbiAgICAgICAgJGFuaW1hdGFibGVzLmVhY2goZnVuY3Rpb24oaSkge1xyXG4gICAgICAgICAgICB2YXIgJGFuaW1hdGFibGUgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICBpZiAoKCRhbmltYXRhYmxlLm9mZnNldCgpLnRvcCArICRhbmltYXRhYmxlLmhlaWdodCgpIC0gMTApIDwgb2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAkYW5pbWF0YWJsZS5yZW1vdmVDbGFzcygnYW5pbWF0YWJsZScpLmFkZENsYXNzKCdhbmltYXRlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbnZhciAgYWRkQ2Fsc3NGdW5jPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgLy8gQ2FsYyBjdXJyZW50IG9mZnNldCBhbmQgZ2V0IGFsbCBhbmltYXRhYmxlc1xyXG4gICAgICAgIHZhciBvZmZzZXQgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAkKHdpbmRvdykuaGVpZ2h0KCksXHJcbiAgICAgICAgICAgICRzYyA9ICQoJy5zY3JvbGwtc2xpZGVyLWluaXRpYWx0aGF0aW9uJyk7XHJcblxyXG4gICAgICAgIC8vIFVuYmluZCBzY3JvbGwgaGFuZGxlciBpZiB3ZSBoYXZlIG5vIGFuaW1hdGFibGVzXHJcbiAgICAgICAgaWYgKCRzYy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAkKHdpbmRvdykub2ZmKCdzY3JvbGwnLCAgYWRkQ2Fsc3NGdW5jKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGFsbCBhbmltYXRhYmxlcyBhbmQgYW5pbWF0ZSB0aGVtIGlmIG5lY2Vzc2FyeVxyXG4gICAgICAgICRzYy5lYWNoKGZ1bmN0aW9uKGkpIHtcclxuICAgICAgICAgICAgdmFyICRzYzEgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICBpZiAoKCRzYzEub2Zmc2V0KCkudG9wICsgJHNjMS5oZWlnaHQoKSAtIDEwMDApIDwgb2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAkc2MxLmFkZENsYXNzKCd0ZXN0Jyk7XHJcbiAgICAgICAgICAgICAgICAvLyRzYzEuY3NzKCd0cmFuc2Zvcm0nLCdtYXRyaXgoMSwgMCwgMCwgMSwgMCwgMCkhaW1wb3J0YW50Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgLy8gSG9vayBkb0FuaW1hdGlvbnMgb24gc2Nyb2xsLCBhbmQgdHJpZ2dlciBhIHNjcm9sbFxyXG4gICAgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBkb0FuaW1hdGlvbnMpO1xyXG4gICAgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCAgYWRkQ2Fsc3NGdW5jKTtcclxuICAgICQod2luZG93KS50cmlnZ2VyKCdzY3JvbGwnKTtcclxuXHJcbn0pO1xyXG5cclxuXHJcbi8qPT09PT1GT1IgVEFCTEVUIEhFQURFUj09PT09PT09PT09PT0qL1xyXG4kKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDk2MCkge1xyXG4gICAgICAgICQoJy5oZWFkZXInKS5hZGRDbGFzcygnc2hyaW5rJyk7XHJcbiAgICAgICAgJCgnLmZ1bGxwYWdlJykuYXR0cihcImlkXCIsIFwiZnVsbHBhZ2UtbmV3XCIpO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICB2YXIgdCA9ICQoXCIuaGVhZGVyXCIpLmhlaWdodCgpXHJcbiAgICAgICAgICAgICwgZSA9ICQoXCIuaGVhZGVyXCIpO1xyXG5cclxuICAgICAgICAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPj0gMSAqIHQgPyBlLmFkZENsYXNzKFwic2hyaW5rXCIpIDogZS5yZW1vdmVDbGFzcyhcInNocmlua1wiKSA7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vKj09PT09PT09PT09PT09PVNDcm9sbE1BZ2ljPT09PT09PT09PT09PT09Ki9cclxuXHJcblxyXG5cclxuLyo9PT09c2Vjb25kdC1zbGlkZXI9PT0qL1xyXG4hKGZ1bmN0aW9uKCQpIHtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyICRzbGlkZXIgPSAkKCcuc2Nyb2xsLXNsaWRlcicpLFxyXG4gICAgICAgICRzbGlkZXMgPSAkKCcuc2Nyb2xsLXNsaWRlJyksXHJcbiAgICAgICAgJHNsaWRlcldyYXBwZXIgPSAkKCcuc2Nyb2xsLXdyYXBwZXInKSxcclxuICAgICAgICAkZmlyc3RTbGlkZSA9ICRzbGlkZXMuZmlyc3QoKTtcclxuXHJcbiAgICB2YXIgc2V0dGluZ3MgPSB7fSxcclxuICAgICAgICByZXNpemluZyA9IGZhbHNlLFxyXG4gICAgICAgIHNjcm9sbENvbnRyb2xsZXIgPSBudWxsLFxyXG4gICAgICAgIHNjcm9sbFR3ZWVuID0gbnVsbCxcclxuICAgICAgICBzY3JvbGxUaW1lbGluZSA9IG51bGwsXHJcbiAgICAgICAgcHJvZ3Jlc3MgPSAwLFxyXG4gICAgICAgIHNjcm9sbFNjZW5lID0gbnVsbDtcclxuXHJcbiAgICBmdW5jdGlvbiBzY3JvbGxTbGlkZXIob3B0aW9ucykge1xyXG5cclxuICAgICAgICAvLyBEZWZhdWx0XHJcbiAgICAgICAgc2V0dGluZ3MgPSAkLmV4dGVuZCh7XHJcbiAgICAgICAgICAgIHNsaWRlcjogJy5zY3JvbGwtc2xpZGVyJyxcclxuICAgICAgICAgICAgc2xpZGVyV3JhcHBlcjogJy5zY3JvbGwtd3JhcHBlcicsXHJcbiAgICAgICAgICAgIHNsaWRlczogJy5zY3JvbGwtc2xpZGUnLFxyXG4gICAgICAgICAgICBzbGlkZVdpZHRoOiBudWxsLFxyXG4gICAgICAgICAgICBzbGlkZUhlaWdodDogbnVsbCxcclxuICAgICAgICB9LCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IGRpbWVuc2lvbnNcclxuICAgICAgICBzZXREaW1lbnNpb25zKCk7XHJcblxyXG4gICAgICAgIC8vIE9uIHJlc2l6ZVxyXG4gICAgICAgICQod2luZG93KS5vbiggJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQocmVzaXppbmcpO1xyXG4gICAgICAgICAgICByZXNpemluZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZXREaW1lbnNpb25zKCk7XHJcbiAgICAgICAgICAgIH0sIDI1MCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldERpbWVuc2lvbnMoKSB7XHJcblxyXG4gICAgICAgIHNldHRpbmdzLnNsaWRlV2lkdGggPSAkZmlyc3RTbGlkZS53aWR0aCgpO1xyXG4gICAgICAgIHNldHRpbmdzLnNsaWRlSGVpZ2h0ID0gJGZpcnN0U2xpZGUuaGVpZ2h0KCk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKHNldHRpbmdzLnNsaWRlV2lkdGgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHNldHRpbmdzLnNsaWRlSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHNsaWRlciB3aWR0aCBhbmQgaGVpZ2h0XHJcbiAgICAgICAgc2V0dGluZ3Muc2xpZGVyV2lkdGggPSBNYXRoLmNlaWwoKHNldHRpbmdzLnNsaWRlV2lkdGggKiAkc2xpZGVzLmxlbmd0aCkpO1xyXG4gICAgICAgIHNldHRpbmdzLnNsaWRlckhlaWdodCA9ICRmaXJzdFNsaWRlLm91dGVySGVpZ2h0KHRydWUpO1xyXG5cclxuICAgICAgICAvLyBTZXQgc2xpZGVyIHdpZHRoIGFuZCBoZWlnaHRcclxuICAgICAgICAkc2xpZGVyV3JhcHBlci53aWR0aChzZXR0aW5ncy5zbGlkZXJXaWR0aCk7XHJcbiAgICAgICAgLy8kc2xpZGVyV3JhcHBlci5oZWlnaHQoc2V0dGluZ3Muc2xpZGVySGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHNjZW5lXHJcbiAgICAgICAgc2V0U2NlbmUoKTtcclxuXHJcbiAgICAgICAgLy9yZXNpemluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldFNjZW5lKCkge1xyXG5cclxuICAgICAgICB2YXIgeERpc3QgPSAtJHNsaWRlcy53aWR0aCgpICogKCAkc2xpZGVzLmxlbmd0aCAtIDEgKSxcclxuICAgICAgICAgICAgdGxQYXJhbXMgPSB7IHg6IHhEaXN0LCBlYXNlOiBQb3dlcjIuZWFzZUluT3V0IH07XHJcblxyXG4gICAgICAgIGlmIChzY3JvbGxTY2VuZSAhPSBudWxsICYmIHNjcm9sbFRpbWVsaW5lICE9IG51bGwpIHtcclxuXHJcbiAgICAgICAgICAgIHByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgc2Nyb2xsU2NlbmUucHJvZ3Jlc3MocHJvZ3Jlc3MpO1xyXG5cclxuICAgICAgICAgICAgc2Nyb2xsVGltZWxpbmUgPSBuZXcgVGltZWxpbmVNYXgoKTtcclxuICAgICAgICAgICAgc2Nyb2xsVGltZWxpbmUudG8oICRzbGlkZXJXcmFwcGVyLCAyLCB0bFBhcmFtcyApO1xyXG5cclxuICAgICAgICAgICAgc2Nyb2xsU2NlbmUuc2V0VHdlZW4oc2Nyb2xsVGltZWxpbmUpO1xyXG5cclxuICAgICAgICAgICAgc2Nyb2xsU2NlbmUucmVmcmVzaCgpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJbml0IFNjcm9sbE1hZ2ljIGNvbnRyb2xsZXJcclxuICAgICAgICAgICAgc2Nyb2xsQ29udHJvbGxlciA9IG5ldyBTY3JvbGxNYWdpYy5Db250cm9sbGVyKCk7XHJcblxyXG4gICAgICAgICAgICAvL0NyZWF0ZSBUd2VlblxyXG4gICAgICAgICAgICBzY3JvbGxUaW1lbGluZSA9IG5ldyBUaW1lbGluZU1heCgpO1xyXG4gICAgICAgICAgICBzY3JvbGxUaW1lbGluZS50byggJHNsaWRlcldyYXBwZXIsIDIsIHRsUGFyYW1zICk7XHJcbiAgICAgICAgICAgIHNjcm9sbFRpbWVsaW5lLnByb2dyZXNzKCBwcm9ncmVzcyApO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHNjZW5lIHRvIHBpbiBhbmQgbGluayBhbmltYXRpb25cclxuICAgICAgICAgICAgc2Nyb2xsU2NlbmUgPSBuZXcgU2Nyb2xsTWFnaWMuU2NlbmUoe1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckVsZW1lbnQ6IHNldHRpbmdzLnNsaWRlcixcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJIb29rOiBcIm9uTGVhdmVcIixcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBzZXR0aW5ncy5zbGlkZXJXaWR0aFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnNldFBpbihzZXR0aW5ncy5zbGlkZXIpXHJcbiAgICAgICAgICAgICAgICAuc2V0VHdlZW4oc2Nyb2xsVGltZWxpbmUpXHJcbiAgICAgICAgICAgICAgICAuYWRkVG8oc2Nyb2xsQ29udHJvbGxlcilcclxuICAgICAgICAgICAgICAgIC5vbignc3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUaW1lbGluZS50aW1lKDApO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgICAgICBzY3JvbGxTbGlkZXIoKTtcclxuICAgIH0pO1xyXG5cclxufSkoalF1ZXJ5KTtcclxuXHJcbi8qPT09PT09PT09PXlvdXR1YmU9PT09PT09PSovXHJcblxyXG4gICAgJChmdW5jdGlvbigpIHtcclxuICAgICAgICAkKFwiLnlvdXR1YmVcIikuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgLy8gQmFzZWQgb24gdGhlIFlvdVR1YmUgSUQsIHdlIGNhbiBlYXNpbHkgZmluZCB0aGUgdGh1bWJuYWlsIGltYWdlXHJcbiAgICAgICAgICAgICQodGhpcykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJ3VybChodHRwOi8vaS55dGltZy5jb20vdmkvJyArIHRoaXMuaWQgKyAnL3NkZGVmYXVsdC5qcGcpJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBPdmVybGF5IHRoZSBQbGF5IGljb24gdG8gbWFrZSBpdCBsb29rIGxpa2UgYSB2aWRlbyBwbGF5ZXJcclxuICAgICAgICAgICAgJCh0aGlzKS5hcHBlbmQoJCgnPGRpdi8+JywgeydjbGFzcyc6ICdwbGF5J30pKTtcclxuXHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLmRlbGVnYXRlKCcjJyt0aGlzLmlkLCAnY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhbiBpRnJhbWUgd2l0aCBhdXRvcGxheSBzZXQgdG8gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgdmFyIGlmcmFtZV91cmwgPSBcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkL1wiICsgdGhpcy5pZCArIFwiP2F1dG9wbGF5PTEmYXV0b2hpZGU9MSZyZWw9MCZmcz0xXCI7XHJcbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5kYXRhKCdwYXJhbXMnKSkgaWZyYW1lX3VybCs9JyYnKyQodGhpcykuZGF0YSgncGFyYW1zJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVGhlIGhlaWdodCBhbmQgd2lkdGggb2YgdGhlIGlGcmFtZSBzaG91bGQgYmUgdGhlIHNhbWUgYXMgcGFyZW50XHJcbiAgICAgICAgICAgICAgICB2YXIgaWZyYW1lID0gJCgnPGlmcmFtZS8+JywgeydmcmFtZWJvcmRlcic6ICcwJywgJ3NyYyc6IGlmcmFtZV91cmwsICd3aWR0aCc6ICQodGhpcykud2lkdGgoKSwgJ2hlaWdodCc6ICQodGhpcykuaGVpZ2h0KCksJ2FsbG93ZnVsbHNjcmVlbic6J2FsbG93ZnVsbHNjcmVlbicgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSBZb3VUdWJlIHRodW1ibmFpbCB3aXRoIFlvdVR1YmUgSFRNTDUgUGxheWVyXHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlcGxhY2VXaXRoKGlmcmFtZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4vKj09PT09PT09PT0vL3lvdXR1YmU9PT09PT09PSovXHJcbi8qPT09PT09PT09PT09PT09PT09PT09VEFCUz09PT09PT09PT09PT09PT09PSovXHJcbnZhciB0YWJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ljZXRhYi1jb250YWluZXInKS5jaGlsZHJlbjtcclxudmFyIHRhYmNvbnRlbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ljZXRhYi1jb250ZW50JykuY2hpbGRyZW47XHJcblxyXG52YXIgbXlGdW5jdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHRhYmNoYW5nZSA9IHRoaXMubXludW07XHJcbiAgICBmb3IodmFyIGludD0wO2ludDx0YWJjb250ZW50cy5sZW5ndGg7aW50Kyspe1xyXG4gICAgICAgIHRhYmNvbnRlbnRzW2ludF0uY2xhc3NOYW1lID0gJyB0YWJjb250ZW50JztcclxuICAgICAgICB0YWJzW2ludF0uY2xhc3NOYW1lID0gJyBpY2V0YWInO1xyXG4gICAgfVxyXG4gICAgdGFiY29udGVudHNbdGFiY2hhbmdlXS5jbGFzc0xpc3QuYWRkKCd0YWItYWN0aXZlJyk7XHJcbiAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQtdGFiJyk7XHJcbn1cclxuXHJcblxyXG5mb3IodmFyIGluZGV4PTA7aW5kZXg8dGFicy5sZW5ndGg7aW5kZXgrKyl7XHJcbiAgICB0YWJzW2luZGV4XS5teW51bT1pbmRleDtcclxuICAgIHRhYnNbaW5kZXhdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbXlGdW5jdGlvbiwgZmFsc2UpO1xyXG59XHJcbi8qPT09PT09PT09PT1wb3B1cCBjb250YWN0PT09PT09PT09PT09PT09Ki9cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuXHJcblxyXG4gICAgJCgnLmNvbnRhY3QtYnV0dG9uLWNsaWNrJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCcubW9kYWwtY2FsbC1iYWNrJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQoJy5tb2RhbC1pbm5lcicpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAvKiQoJ2JvZHknKS5hZGRDbGFzcygnb3ZlcmZsb3cnKTsqL1xyXG4gICAgfSk7XHJcbiAgICAkKCcuYnRuLWNsb3NlJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCcubW9kYWwtY2FsbC1iYWNrJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQoJy5tb2RhbC1pbm5lcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAvKiQoJ2JvZHknKS5yZW1vdmVDbGFzcygnb3ZlcmZsb3cnKTsqL1xyXG4gICAgfSk7XHJcbiAgICAkKCcuZXh0cmEtc2VydmljZXMtY2xpY2snKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICQoJy5tb2RhbC1mb3JtLXNlcnZpY2VzJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgLyogJCgnLm1vZGFsLWlubmVyLS1zZXJ2aWNlcycpLmFkZENsYXNzKCdhY3RpdmUnKTsqL1xyXG4gICAgICAgIC8qJCgnYm9keScpLmFkZENsYXNzKCdvdmVyZmxvdycpOyovXHJcbiAgICB9KTtcclxuICAgICQoJy5idG4tY2xvc2Utc2VydmljZXMnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICQoJy5tb2RhbC1mb3JtLXNlcnZpY2VzJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgLyogJCgnLm1vZGFsLWlubmVyLS1zZXJ2aWNlcycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsqLy8qICQoJy5tb2RhbC1pbm5lci0tc2VydmljZXMnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7Ki9cclxuICAvKiAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnb3ZlcmZsb3cnKTsqL1xyXG4gICAgfSk7XHJcblxyXG59KTtcclxuXHJcbi8qPT09PT09PT09PU1FTlU9PT09PT09PT09PT0qL1xyXG4kKFwiLm1lbnUtdG9nZ2xlXCIpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcyhcIm9uXCIpO1xyXG4gICAgJCgnLm1lbnUtdG9nZ2xlJykudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAkKCcubmF2aWdhdGlvbl9fY29udGluZXInKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHJcblxyXG59KTtcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAkKFwiI293bC1leGFtcGxlXCIpLm93bENhcm91c2VsKHtcclxuICAgICAgICBuYXZpZ2F0aW9uIDogdHJ1ZSxcclxuICAgICAgICBzbGlkZVNwZWVkIDogMzAwMCxcclxuICAgICAgICBwYWdpbmF0aW9uU3BlZWQgOiA0MDAwLFxyXG4gICAgICAgIG5hdjohMCxcclxuICAgICAgICBkb3RzOiEwLFxyXG4gICAgICAgIHNpbmdsZUl0ZW06IHRydWUsXHJcbiAgICAgICAgcGFnaW5hdGlvbjogZmFsc2UsXHJcbiAgICAgICAgcmV3aW5kU3BlZWQ6IDUwMCxcclxuICAgICAgICBpdGVtczoxLFxyXG4gICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgYXV0b3BsYXk6dHJ1ZSxcclxuICAgICAgICBhdXRvcGxheVRpbWVvdXQ6NTAwMCxcclxuICAgICAgIHRvdWNoRHJhZzogZmFsc2UsXHJcbiAgICAgICBtb3VzZURyYWc6IGZhbHNlLFxyXG4gICAgICAgIGF1dG9wbGF5U3BlZWQ6NTAwMCxcclxuICAgICAgIG5hdlRleHQ6Wyc8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTE1LjQxIDcuNDFMMTQgNmwtNiA2IDYgNiAxLjQxLTEuNDFMMTAuODMgMTJ6XCI+PC9wYXRoPjwvc3ZnPicsJzxzdmcgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMTAgNkw4LjU5IDcuNDEgMTMuMTcgMTJsLTQuNTggNC41OUwxMCAxOGw2LTZ6XCI+PC9wYXRoPjwvc3ZnPiddLFxyXG4gICAgICAgIG5hdlNwZWVkOjEwMDBcclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbn0pO1xyXG5cclxuXHJcbi8qPT09PT09PT09PT09PVRBQlMgQ0FST1VTRUw9PT09PT09PT0qL1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAkKHdpbmRvdykub24oXCJyZXNpemVcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCh3aW5kb3cpLndpZHRoKCkgPD0gOTk4ID8gKCQoXCIuY29udGFpbmVyLWlubmVyLS1maXJzdC10YWJcIikuYWRkQ2xhc3MoXCJzdHVkeS1jYXJvdXNlbFwiKSxcclxuICAgICAgICAgICAgJChcIi5jb250YWluZXItaW5uZXItLWZpcnN0LXRhYlwiKS5hZGRDbGFzcyhcIm93bC1jYXJvdXNlbFwiKSkgOiAoJChcIi5jb250YWluZXItaW5uZXItLWZpcnN0LXRhYlwiKS5yZW1vdmVDbGFzcyhcInN0dWR5LWNhcm91c2VsXCIpLFxyXG4gICAgICAgICAgICAkKFwiLmNvbnRhaW5lci1pbm5lci0tZmlyc3QtdGFiXCIpLnJlbW92ZUNsYXNzKFwib3dsLWNhcm91c2VsXCIpKVxyXG4gICAgfSkudHJpZ2dlcihcInJlc2l6ZVwiKTtcclxuICAgICQoXCIuc3R1ZHktY2Fyb3VzZWxcIikub3dsQ2Fyb3VzZWwoe1xyXG4gICAgICAgIGxvb3A6ICEwLFxyXG4gICAgICAgIG1hcmdpbjogMzAsXHJcbiAgICAgICAgbmF2OiAhMCxcclxuICAgICAgICBuYXZTcGVlZDogNTAwLFxyXG4gICAgICAgIHRvdWNoRHJhZzogdHJ1ZSxcclxuICAgICAgICBtb3VzZURyYWc6IHRydWUsXHJcbiAgICAgICAgbmF2VGV4dDpbJzxzdmcgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMTUuNDEgNy40MUwxNCA2bC02IDYgNiA2IDEuNDEtMS40MUwxMC44MyAxMnpcIj48L3BhdGg+PC9zdmc+JywnPHN2ZyB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk0xMCA2TDguNTkgNy40MSAxMy4xNyAxMmwtNC41OCA0LjU5TDEwIDE4bDYtNnpcIj48L3BhdGg+PC9zdmc+J10sXHJcbiAgICAgICAgcmVzcG9uc2l2ZToge1xyXG4gICAgICAgICAgICAwOiB7XHJcbiAgICAgICAgICAgICAgICBpdGVtczogMVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICA5OTg6IHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zOiAxXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSk7XHJcblxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT1MSU5LIFRPIFNFQ1RJT049PT09PT09PT09PT09PSovXHJcbiQoXCIubmF2aWdhdGlvbi1saXN0X19pdGVtXCIpLmZpbmQoXCJhXCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHZhciBzZWN0aW9uID0gJCh0aGlzKS5hdHRyKFwiaHJlZlwiKTtcclxuICAgICQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoe1xyXG4gICAgICAgIHNjcm9sbFRvcDogJChzZWN0aW9uKS5vZmZzZXQoKS50b3AgLSAxMDBcclxuICAgIH0pO1xyXG4gICAgJCgnLm5hdmlnYXRpb25fX2NvbnRpbmVyJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgJCgnLm1lbnUtdG9nZ2xlJykudG9nZ2xlQ2xhc3MoXCJvblwiKTtcclxuICAgICQoJy5tZW51LXRvZ2dsZScpLnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG59KTtcclxuXHJcblxyXG5cclxuXHJcbi8qPT09PT09PT09PT09PT1jaGVja2JveGVzPT09PT09PT09Ki9cbi8qKlxyXG4gKiBPd2wgQ2Fyb3VzZWwgdjIuMi4xXHJcbiAqIENvcHlyaWdodCAyMDEzLTIwMTcgRGF2aWQgRGV1dHNjaFxyXG4gKiBMaWNlbnNlZCB1bmRlciAgKClcclxuICovXHJcbi8qKlxyXG4gKiBPd2wgY2Fyb3VzZWxcclxuICogQHZlcnNpb24gMi4xLjZcclxuICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2lcclxuICogQGF1dGhvciBEYXZpZCBEZXV0c2NoXHJcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG4gKiBAdG9kbyBMYXp5IExvYWQgSWNvblxyXG4gKiBAdG9kbyBwcmV2ZW50IGFuaW1hdGlvbmVuZCBidWJsaW5nXHJcbiAqIEB0b2RvIGl0ZW1zU2NhbGVVcFxyXG4gKiBAdG9kbyBUZXN0IFplcHRvXHJcbiAqIEB0b2RvIHN0YWdlUGFkZGluZyBjYWxjdWxhdGUgd3JvbmcgYWN0aXZlIGNsYXNzZXNcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgY2Fyb3VzZWwuXHJcbiAgICAgKiBAY2xhc3MgVGhlIE93bCBDYXJvdXNlbC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8alF1ZXJ5fSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gY3JlYXRlIHRoZSBjYXJvdXNlbCBmb3IuXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gT3dsKGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudCBzZXR0aW5ncyBmb3IgdGhlIGNhcm91c2VsLlxyXG4gICAgICAgICAqIEBwdWJsaWNcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnNldHRpbmdzID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudCBvcHRpb25zIHNldCBieSB0aGUgY2FsbGVyIGluY2x1ZGluZyBkZWZhdWx0cy5cclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIE93bC5EZWZhdWx0cywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFBsdWdpbiBlbGVtZW50LlxyXG4gICAgICAgICAqIEBwdWJsaWNcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLiRlbGVtZW50ID0gJChlbGVtZW50KTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUHJveGllZCBldmVudCBoYW5kbGVycy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSB7fTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlcyB0byB0aGUgcnVubmluZyBwbHVnaW5zIG9mIHRoaXMgY2Fyb3VzZWwuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3BsdWdpbnMgPSB7fTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudGx5IHN1cHByZXNzZWQgZXZlbnRzIHRvIHByZXZlbnQgdGhlbSBmcm9tIGJlZWluZyByZXRyaWdnZXJlZC5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fc3VwcmVzcyA9IHt9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBYnNvbHV0ZSBjdXJyZW50IHBvc2l0aW9uLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jdXJyZW50ID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQW5pbWF0aW9uIHNwZWVkIGluIG1pbGxpc2Vjb25kcy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fc3BlZWQgPSBudWxsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDb29yZGluYXRlcyBvZiBhbGwgaXRlbXMgaW4gcGl4ZWwuXHJcbiAgICAgICAgICogQHRvZG8gVGhlIG5hbWUgb2YgdGhpcyBtZW1iZXIgaXMgbWlzc2xlYWRpbmcuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2Nvb3JkaW5hdGVzID0gW107XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnQgYnJlYWtwb2ludC5cclxuICAgICAgICAgKiBAdG9kbyBSZWFsIG1lZGlhIHF1ZXJpZXMgd291bGQgYmUgbmljZS5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fYnJlYWtwb2ludCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnQgd2lkdGggb2YgdGhlIHBsdWdpbiBlbGVtZW50LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3dpZHRoID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIHJlYWwgaXRlbXMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zID0gW107XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFsbCBjbG9uZWQgaXRlbXMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2Nsb25lcyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBNZXJnZSB2YWx1ZXMgb2YgYWxsIGl0ZW1zLlxyXG4gICAgICAgICAqIEB0b2RvIE1heWJlIHRoaXMgY291bGQgYmUgcGFydCBvZiBhIHBsdWdpbi5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fbWVyZ2VycyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBXaWR0aHMgb2YgYWxsIGl0ZW1zLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3dpZHRocyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbnZhbGlkYXRlZCBwYXJ0cyB3aXRoaW4gdGhlIHVwZGF0ZSBwcm9jZXNzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlZCA9IHt9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBPcmRlcmVkIGxpc3Qgb2Ygd29ya2VycyBmb3IgdGhlIHVwZGF0ZSBwcm9jZXNzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9waXBlID0gW107XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnQgc3RhdGUgaW5mb3JtYXRpb24gZm9yIHRoZSBkcmFnIG9wZXJhdGlvbi5cclxuICAgICAgICAgKiBAdG9kbyAjMjYxXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2RyYWcgPSB7XHJcbiAgICAgICAgICAgIHRpbWU6IG51bGwsXHJcbiAgICAgICAgICAgIHRhcmdldDogbnVsbCxcclxuICAgICAgICAgICAgcG9pbnRlcjogbnVsbCxcclxuICAgICAgICAgICAgc3RhZ2U6IHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudDogbnVsbFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkaXJlY3Rpb246IG51bGxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDdXJyZW50IHN0YXRlIGluZm9ybWF0aW9uIGFuZCB0aGVpciB0YWdzLlxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3N0YXRlcyA9IHtcclxuICAgICAgICAgICAgY3VycmVudDoge30sXHJcbiAgICAgICAgICAgIHRhZ3M6IHtcclxuICAgICAgICAgICAgICAgICdpbml0aWFsaXppbmcnOiBbICdidXN5JyBdLFxyXG4gICAgICAgICAgICAgICAgJ2FuaW1hdGluZyc6IFsgJ2J1c3knIF0sXHJcbiAgICAgICAgICAgICAgICAnZHJhZ2dpbmcnOiBbICdpbnRlcmFjdGluZycgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJC5lYWNoKFsgJ29uUmVzaXplJywgJ29uVGhyb3R0bGVkUmVzaXplJyBdLCAkLnByb3h5KGZ1bmN0aW9uKGksIGhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnNbaGFuZGxlcl0gPSAkLnByb3h5KHRoaXNbaGFuZGxlcl0sIHRoaXMpO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKE93bC5QbHVnaW5zLCAkLnByb3h5KGZ1bmN0aW9uKGtleSwgcGx1Z2luKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BsdWdpbnNba2V5LmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDEpXVxyXG4gICAgICAgICAgICAgICAgPSBuZXcgcGx1Z2luKHRoaXMpO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKE93bC5Xb3JrZXJzLCAkLnByb3h5KGZ1bmN0aW9uKHByaW9yaXR5LCB3b3JrZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGlwZS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICdmaWx0ZXInOiB3b3JrZXIuZmlsdGVyLFxyXG4gICAgICAgICAgICAgICAgJ3J1bic6ICQucHJveHkod29ya2VyLnJ1biwgdGhpcylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLnNldHVwKCk7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IG9wdGlvbnMgZm9yIHRoZSBjYXJvdXNlbC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgT3dsLkRlZmF1bHRzID0ge1xyXG4gICAgICAgIGl0ZW1zOiAzLFxyXG4gICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgIGNlbnRlcjogZmFsc2UsXHJcbiAgICAgICAgcmV3aW5kOiBmYWxzZSxcclxuXHJcbiAgICAgICAgbW91c2VEcmFnOiB0cnVlLFxyXG4gICAgICAgIHRvdWNoRHJhZzogdHJ1ZSxcclxuICAgICAgICBwdWxsRHJhZzogdHJ1ZSxcclxuICAgICAgICBmcmVlRHJhZzogZmFsc2UsXHJcblxyXG4gICAgICAgIG1hcmdpbjogMCxcclxuICAgICAgICBzdGFnZVBhZGRpbmc6IDAsXHJcblxyXG4gICAgICAgIG1lcmdlOiBmYWxzZSxcclxuICAgICAgICBtZXJnZUZpdDogdHJ1ZSxcclxuICAgICAgICBhdXRvV2lkdGg6IGZhbHNlLFxyXG5cclxuICAgICAgICBzdGFydFBvc2l0aW9uOiAwLFxyXG4gICAgICAgIHJ0bDogZmFsc2UsXHJcblxyXG4gICAgICAgIHNtYXJ0U3BlZWQ6IDI1MCxcclxuICAgICAgICBmbHVpZFNwZWVkOiBmYWxzZSxcclxuICAgICAgICBkcmFnRW5kU3BlZWQ6IGZhbHNlLFxyXG5cclxuICAgICAgICByZXNwb25zaXZlOiB7fSxcclxuICAgICAgICByZXNwb25zaXZlUmVmcmVzaFJhdGU6IDIwMCxcclxuICAgICAgICByZXNwb25zaXZlQmFzZUVsZW1lbnQ6IHdpbmRvdyxcclxuXHJcbiAgICAgICAgZmFsbGJhY2tFYXNpbmc6ICdzd2luZycsXHJcblxyXG4gICAgICAgIGluZm86IGZhbHNlLFxyXG5cclxuICAgICAgICBuZXN0ZWRJdGVtU2VsZWN0b3I6IGZhbHNlLFxyXG4gICAgICAgIGl0ZW1FbGVtZW50OiAnZGl2JyxcclxuICAgICAgICBzdGFnZUVsZW1lbnQ6ICdkaXYnLFxyXG5cclxuICAgICAgICByZWZyZXNoQ2xhc3M6ICdvd2wtcmVmcmVzaCcsXHJcbiAgICAgICAgbG9hZGVkQ2xhc3M6ICdvd2wtbG9hZGVkJyxcclxuICAgICAgICBsb2FkaW5nQ2xhc3M6ICdvd2wtbG9hZGluZycsXHJcbiAgICAgICAgcnRsQ2xhc3M6ICdvd2wtcnRsJyxcclxuICAgICAgICByZXNwb25zaXZlQ2xhc3M6ICdvd2wtcmVzcG9uc2l2ZScsXHJcbiAgICAgICAgZHJhZ0NsYXNzOiAnb3dsLWRyYWcnLFxyXG4gICAgICAgIGl0ZW1DbGFzczogJ293bC1pdGVtJyxcclxuICAgICAgICBzdGFnZUNsYXNzOiAnb3dsLXN0YWdlJyxcclxuICAgICAgICBzdGFnZU91dGVyQ2xhc3M6ICdvd2wtc3RhZ2Utb3V0ZXInLFxyXG4gICAgICAgIGdyYWJDbGFzczogJ293bC1ncmFiJ1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEVudW1lcmF0aW9uIGZvciB3aWR0aC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEByZWFkb25seVxyXG4gICAgICogQGVudW0ge1N0cmluZ31cclxuICAgICAqL1xyXG4gICAgT3dsLldpZHRoID0ge1xyXG4gICAgICAgIERlZmF1bHQ6ICdkZWZhdWx0JyxcclxuICAgICAgICBJbm5lcjogJ2lubmVyJyxcclxuICAgICAgICBPdXRlcjogJ291dGVyJ1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEVudW1lcmF0aW9uIGZvciB0eXBlcy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEByZWFkb25seVxyXG4gICAgICogQGVudW0ge1N0cmluZ31cclxuICAgICAqL1xyXG4gICAgT3dsLlR5cGUgPSB7XHJcbiAgICAgICAgRXZlbnQ6ICdldmVudCcsXHJcbiAgICAgICAgU3RhdGU6ICdzdGF0ZSdcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb250YWlucyBhbGwgcmVnaXN0ZXJlZCBwbHVnaW5zLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBPd2wuUGx1Z2lucyA9IHt9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTGlzdCBvZiB3b3JrZXJzIGludm9sdmVkIGluIHRoZSB1cGRhdGUgcHJvY2Vzcy5cclxuICAgICAqL1xyXG4gICAgT3dsLldvcmtlcnMgPSBbIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3dpZHRoJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdGhpcy4kZWxlbWVudC53aWR0aCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3dpZHRoJywgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oY2FjaGUpIHtcclxuICAgICAgICAgICAgY2FjaGUuY3VycmVudCA9IHRoaXMuX2l0ZW1zICYmIHRoaXMuX2l0ZW1zW3RoaXMucmVsYXRpdmUodGhpcy5fY3VycmVudCldO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCcuY2xvbmVkJykucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnd2lkdGgnLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbihjYWNoZSkge1xyXG4gICAgICAgICAgICB2YXIgbWFyZ2luID0gdGhpcy5zZXR0aW5ncy5tYXJnaW4gfHwgJycsXHJcbiAgICAgICAgICAgICAgICBncmlkID0gIXRoaXMuc2V0dGluZ3MuYXV0b1dpZHRoLFxyXG4gICAgICAgICAgICAgICAgcnRsID0gdGhpcy5zZXR0aW5ncy5ydGwsXHJcbiAgICAgICAgICAgICAgICBjc3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3dpZHRoJzogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdtYXJnaW4tbGVmdCc6IHJ0bCA/IG1hcmdpbiA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICdtYXJnaW4tcmlnaHQnOiBydGwgPyAnJyA6IG1hcmdpblxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICFncmlkICYmIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCkuY3NzKGNzcyk7XHJcblxyXG4gICAgICAgICAgICBjYWNoZS5jc3MgPSBjc3M7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnd2lkdGgnLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbihjYWNoZSkge1xyXG4gICAgICAgICAgICB2YXIgd2lkdGggPSAodGhpcy53aWR0aCgpIC8gdGhpcy5zZXR0aW5ncy5pdGVtcykudG9GaXhlZCgzKSAtIHRoaXMuc2V0dGluZ3MubWFyZ2luLFxyXG4gICAgICAgICAgICAgICAgbWVyZ2UgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgaXRlcmF0b3IgPSB0aGlzLl9pdGVtcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBncmlkID0gIXRoaXMuc2V0dGluZ3MuYXV0b1dpZHRoLFxyXG4gICAgICAgICAgICAgICAgd2lkdGhzID0gW107XHJcblxyXG4gICAgICAgICAgICBjYWNoZS5pdGVtcyA9IHtcclxuICAgICAgICAgICAgICAgIG1lcmdlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgd2hpbGUgKGl0ZXJhdG9yLS0pIHtcclxuICAgICAgICAgICAgICAgIG1lcmdlID0gdGhpcy5fbWVyZ2Vyc1tpdGVyYXRvcl07XHJcbiAgICAgICAgICAgICAgICBtZXJnZSA9IHRoaXMuc2V0dGluZ3MubWVyZ2VGaXQgJiYgTWF0aC5taW4obWVyZ2UsIHRoaXMuc2V0dGluZ3MuaXRlbXMpIHx8IG1lcmdlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhY2hlLml0ZW1zLm1lcmdlID0gbWVyZ2UgPiAxIHx8IGNhY2hlLml0ZW1zLm1lcmdlO1xyXG5cclxuICAgICAgICAgICAgICAgIHdpZHRoc1tpdGVyYXRvcl0gPSAhZ3JpZCA/IHRoaXMuX2l0ZW1zW2l0ZXJhdG9yXS53aWR0aCgpIDogd2lkdGggKiBtZXJnZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fd2lkdGhzID0gd2lkdGhzO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBjbG9uZXMgPSBbXSxcclxuICAgICAgICAgICAgICAgIGl0ZW1zID0gdGhpcy5faXRlbXMsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3MsXHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBTaG91bGQgYmUgY29tcHV0ZWQgZnJvbSBudW1iZXIgb2YgbWluIHdpZHRoIGl0ZW1zIGluIHN0YWdlXHJcbiAgICAgICAgICAgICAgICB2aWV3ID0gTWF0aC5tYXgoc2V0dGluZ3MuaXRlbXMgKiAyLCA0KSxcclxuICAgICAgICAgICAgICAgIHNpemUgPSBNYXRoLmNlaWwoaXRlbXMubGVuZ3RoIC8gMikgKiAyLFxyXG4gICAgICAgICAgICAgICAgcmVwZWF0ID0gc2V0dGluZ3MubG9vcCAmJiBpdGVtcy5sZW5ndGggPyBzZXR0aW5ncy5yZXdpbmQgPyB2aWV3IDogTWF0aC5tYXgodmlldywgc2l6ZSkgOiAwLFxyXG4gICAgICAgICAgICAgICAgYXBwZW5kID0gJycsXHJcbiAgICAgICAgICAgICAgICBwcmVwZW5kID0gJyc7XHJcblxyXG4gICAgICAgICAgICByZXBlYXQgLz0gMjtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlIChyZXBlYXQtLSkge1xyXG4gICAgICAgICAgICAgICAgLy8gU3dpdGNoIHRvIG9ubHkgdXNpbmcgYXBwZW5kZWQgY2xvbmVzXHJcbiAgICAgICAgICAgICAgICBjbG9uZXMucHVzaCh0aGlzLm5vcm1hbGl6ZShjbG9uZXMubGVuZ3RoIC8gMiwgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgYXBwZW5kID0gYXBwZW5kICsgaXRlbXNbY2xvbmVzW2Nsb25lcy5sZW5ndGggLSAxXV1bMF0ub3V0ZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgY2xvbmVzLnB1c2godGhpcy5ub3JtYWxpemUoaXRlbXMubGVuZ3RoIC0gMSAtIChjbG9uZXMubGVuZ3RoIC0gMSkgLyAyLCB0cnVlKSk7XHJcbiAgICAgICAgICAgICAgICBwcmVwZW5kID0gaXRlbXNbY2xvbmVzW2Nsb25lcy5sZW5ndGggLSAxXV1bMF0ub3V0ZXJIVE1MICsgcHJlcGVuZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fY2xvbmVzID0gY2xvbmVzO1xyXG5cclxuICAgICAgICAgICAgJChhcHBlbmQpLmFkZENsYXNzKCdjbG9uZWQnKS5hcHBlbmRUbyh0aGlzLiRzdGFnZSk7XHJcbiAgICAgICAgICAgICQocHJlcGVuZCkuYWRkQ2xhc3MoJ2Nsb25lZCcpLnByZXBlbmRUbyh0aGlzLiRzdGFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnd2lkdGgnLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHJ0bCA9IHRoaXMuc2V0dGluZ3MucnRsID8gMSA6IC0xLFxyXG4gICAgICAgICAgICAgICAgc2l6ZSA9IHRoaXMuX2Nsb25lcy5sZW5ndGggKyB0aGlzLl9pdGVtcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBpdGVyYXRvciA9IC0xLFxyXG4gICAgICAgICAgICAgICAgcHJldmlvdXMgPSAwLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IDAsXHJcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgd2hpbGUgKCsraXRlcmF0b3IgPCBzaXplKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2aW91cyA9IGNvb3JkaW5hdGVzW2l0ZXJhdG9yIC0gMV0gfHwgMDtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB0aGlzLl93aWR0aHNbdGhpcy5yZWxhdGl2ZShpdGVyYXRvcildICsgdGhpcy5zZXR0aW5ncy5tYXJnaW47XHJcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlcy5wdXNoKHByZXZpb3VzICsgY3VycmVudCAqIHJ0bCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2Nvb3JkaW5hdGVzID0gY29vcmRpbmF0ZXM7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnd2lkdGgnLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLnNldHRpbmdzLnN0YWdlUGFkZGluZyxcclxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gdGhpcy5fY29vcmRpbmF0ZXMsXHJcbiAgICAgICAgICAgICAgICBjc3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3dpZHRoJzogTWF0aC5jZWlsKE1hdGguYWJzKGNvb3JkaW5hdGVzW2Nvb3JkaW5hdGVzLmxlbmd0aCAtIDFdKSkgKyBwYWRkaW5nICogMixcclxuICAgICAgICAgICAgICAgICAgICAncGFkZGluZy1sZWZ0JzogcGFkZGluZyB8fCAnJyxcclxuICAgICAgICAgICAgICAgICAgICAncGFkZGluZy1yaWdodCc6IHBhZGRpbmcgfHwgJydcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5jc3MoY3NzKTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAgZmlsdGVyOiBbICd3aWR0aCcsICdpdGVtcycsICdzZXR0aW5ncycgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKGNhY2hlKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGdyaWQgPSAhdGhpcy5zZXR0aW5ncy5hdXRvV2lkdGgsXHJcbiAgICAgICAgICAgICAgICBpdGVtcyA9IHRoaXMuJHN0YWdlLmNoaWxkcmVuKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZ3JpZCAmJiBjYWNoZS5pdGVtcy5tZXJnZSkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGl0ZXJhdG9yLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWNoZS5jc3Mud2lkdGggPSB0aGlzLl93aWR0aHNbdGhpcy5yZWxhdGl2ZShpdGVyYXRvcildO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLmVxKGl0ZXJhdG9yKS5jc3MoY2FjaGUuY3NzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChncmlkKSB7XHJcbiAgICAgICAgICAgICAgICBjYWNoZS5jc3Mud2lkdGggPSBjYWNoZS5pdGVtcy53aWR0aDtcclxuICAgICAgICAgICAgICAgIGl0ZW1zLmNzcyhjYWNoZS5jc3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnaXRlbXMnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29vcmRpbmF0ZXMubGVuZ3RoIDwgMSAmJiB0aGlzLiRzdGFnZS5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3dpZHRoJywgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oY2FjaGUpIHtcclxuICAgICAgICAgICAgY2FjaGUuY3VycmVudCA9IGNhY2hlLmN1cnJlbnQgPyB0aGlzLiRzdGFnZS5jaGlsZHJlbigpLmluZGV4KGNhY2hlLmN1cnJlbnQpIDogMDtcclxuICAgICAgICAgICAgY2FjaGUuY3VycmVudCA9IE1hdGgubWF4KHRoaXMubWluaW11bSgpLCBNYXRoLm1pbih0aGlzLm1heGltdW0oKSwgY2FjaGUuY3VycmVudCkpO1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0KGNhY2hlLmN1cnJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3Bvc2l0aW9uJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZSh0aGlzLmNvb3JkaW5hdGVzKHRoaXMuX2N1cnJlbnQpKTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAgZmlsdGVyOiBbICd3aWR0aCcsICdwb3NpdGlvbicsICdpdGVtcycsICdzZXR0aW5ncycgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgcnRsID0gdGhpcy5zZXR0aW5ncy5ydGwgPyAxIDogLTEsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nID0gdGhpcy5zZXR0aW5ncy5zdGFnZVBhZGRpbmcgKiAyLFxyXG4gICAgICAgICAgICAgICAgYmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzKHRoaXMuY3VycmVudCgpKSArIHBhZGRpbmcsXHJcbiAgICAgICAgICAgICAgICBlbmQgPSBiZWdpbiArIHRoaXMud2lkdGgoKSAqIHJ0bCxcclxuICAgICAgICAgICAgICAgIGlubmVyLCBvdXRlciwgbWF0Y2hlcyA9IFtdLCBpLCBuO1xyXG5cclxuICAgICAgICAgICAgZm9yIChpID0gMCwgbiA9IHRoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaW5uZXIgPSB0aGlzLl9jb29yZGluYXRlc1tpIC0gMV0gfHwgMDtcclxuICAgICAgICAgICAgICAgIG91dGVyID0gTWF0aC5hYnModGhpcy5fY29vcmRpbmF0ZXNbaV0pICsgcGFkZGluZyAqIHJ0bDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMub3AoaW5uZXIsICc8PScsIGJlZ2luKSAmJiAodGhpcy5vcChpbm5lciwgJz4nLCBlbmQpKSlcclxuICAgICAgICAgICAgICAgICAgICB8fCAodGhpcy5vcChvdXRlciwgJzwnLCBiZWdpbikgJiYgdGhpcy5vcChvdXRlciwgJz4nLCBlbmQpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2UuY2hpbGRyZW4oJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCc6ZXEoJyArIG1hdGNoZXMuam9pbignKSwgOmVxKCcpICsgJyknKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5jZW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCcuY2VudGVyJykucmVtb3ZlQ2xhc3MoJ2NlbnRlcicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc3RhZ2UuY2hpbGRyZW4oKS5lcSh0aGlzLmN1cnJlbnQoKSkuYWRkQ2xhc3MoJ2NlbnRlcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIGNhcm91c2VsLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLmVudGVyKCdpbml0aWFsaXppbmcnKTtcclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ2luaXRpYWxpemUnKTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcyh0aGlzLnNldHRpbmdzLnJ0bENsYXNzLCB0aGlzLnNldHRpbmdzLnJ0bCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCAmJiAhdGhpcy5pcygncHJlLWxvYWRpbmcnKSkge1xyXG4gICAgICAgICAgICB2YXIgaW1ncywgbmVzdGVkU2VsZWN0b3IsIHdpZHRoO1xyXG4gICAgICAgICAgICBpbWdzID0gdGhpcy4kZWxlbWVudC5maW5kKCdpbWcnKTtcclxuICAgICAgICAgICAgbmVzdGVkU2VsZWN0b3IgPSB0aGlzLnNldHRpbmdzLm5lc3RlZEl0ZW1TZWxlY3RvciA/ICcuJyArIHRoaXMuc2V0dGluZ3MubmVzdGVkSXRlbVNlbGVjdG9yIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB3aWR0aCA9IHRoaXMuJGVsZW1lbnQuY2hpbGRyZW4obmVzdGVkU2VsZWN0b3IpLndpZHRoKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaW1ncy5sZW5ndGggJiYgd2lkdGggPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkQXV0b1dpZHRoSW1hZ2VzKGltZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5sb2FkaW5nQ2xhc3MpO1xyXG5cclxuICAgICAgICAvLyBjcmVhdGUgc3RhZ2VcclxuICAgICAgICB0aGlzLiRzdGFnZSA9ICQoJzwnICsgdGhpcy5zZXR0aW5ncy5zdGFnZUVsZW1lbnQgKyAnIGNsYXNzPVwiJyArIHRoaXMuc2V0dGluZ3Muc3RhZ2VDbGFzcyArICdcIi8+JylcclxuICAgICAgICAgICAgLndyYXAoJzxkaXYgY2xhc3M9XCInICsgdGhpcy5zZXR0aW5ncy5zdGFnZU91dGVyQ2xhc3MgKyAnXCIvPicpO1xyXG5cclxuICAgICAgICAvLyBhcHBlbmQgc3RhZ2VcclxuICAgICAgICB0aGlzLiRlbGVtZW50LmFwcGVuZCh0aGlzLiRzdGFnZS5wYXJlbnQoKSk7XHJcblxyXG4gICAgICAgIC8vIGFwcGVuZCBjb250ZW50XHJcbiAgICAgICAgdGhpcy5yZXBsYWNlKHRoaXMuJGVsZW1lbnQuY2hpbGRyZW4oKS5ub3QodGhpcy4kc3RhZ2UucGFyZW50KCkpKTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgdmlzaWJpbGl0eVxyXG4gICAgICAgIGlmICh0aGlzLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKSB7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB2aWV3XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGludmFsaWRhdGUgd2lkdGhcclxuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCd3aWR0aCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudFxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmxvYWRpbmdDbGFzcylcclxuICAgICAgICAgICAgLmFkZENsYXNzKHRoaXMub3B0aW9ucy5sb2FkZWRDbGFzcyk7XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50SGFuZGxlcnMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5sZWF2ZSgnaW5pdGlhbGl6aW5nJyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdpbml0aWFsaXplZCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHVwcyB0aGUgY3VycmVudCBzZXR0aW5ncy5cclxuICAgICAqIEB0b2RvIFJlbW92ZSByZXNwb25zaXZlIGNsYXNzZXMuIFdoeSBzaG91bGQgYWRhcHRpdmUgZGVzaWducyBiZSBicm91Z2h0IGludG8gSUU4P1xyXG4gICAgICogQHRvZG8gU3VwcG9ydCBmb3IgbWVkaWEgcXVlcmllcyBieSB1c2luZyBgbWF0Y2hNZWRpYWAgd291bGQgYmUgbmljZS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB2aWV3cG9ydCA9IHRoaXMudmlld3BvcnQoKSxcclxuICAgICAgICAgICAgb3ZlcndyaXRlcyA9IHRoaXMub3B0aW9ucy5yZXNwb25zaXZlLFxyXG4gICAgICAgICAgICBtYXRjaCA9IC0xLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmICghb3ZlcndyaXRlcykge1xyXG4gICAgICAgICAgICBzZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQuZWFjaChvdmVyd3JpdGVzLCBmdW5jdGlvbihicmVha3BvaW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnJlYWtwb2ludCA8PSB2aWV3cG9ydCAmJiBicmVha3BvaW50ID4gbWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IE51bWJlcihicmVha3BvaW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG92ZXJ3cml0ZXNbbWF0Y2hdKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5zdGFnZVBhZGRpbmcgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzLnN0YWdlUGFkZGluZyA9IHNldHRpbmdzLnN0YWdlUGFkZGluZygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlbGV0ZSBzZXR0aW5ncy5yZXNwb25zaXZlO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVzcG9uc2l2ZSBjbGFzc1xyXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MucmVzcG9uc2l2ZUNsYXNzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2NsYXNzJyxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2NsYXNzJykucmVwbGFjZShuZXcgUmVnRXhwKCcoJyArIHRoaXMub3B0aW9ucy5yZXNwb25zaXZlQ2xhc3MgKyAnLSlcXFxcUytcXFxccycsICdnJyksICckMScgKyBtYXRjaClcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlJywgeyBwcm9wZXJ0eTogeyBuYW1lOiAnc2V0dGluZ3MnLCB2YWx1ZTogc2V0dGluZ3MgfSB9KTtcclxuICAgICAgICB0aGlzLl9icmVha3BvaW50ID0gbWF0Y2g7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgnc2V0dGluZ3MnKTtcclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ2NoYW5nZWQnLCB7IHByb3BlcnR5OiB7IG5hbWU6ICdzZXR0aW5ncycsIHZhbHVlOiB0aGlzLnNldHRpbmdzIH0gfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyBvcHRpb24gbG9naWMgaWYgbmVjZXNzZXJ5LlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9wdGlvbnNMb2dpYyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnN0YWdlUGFkZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLm1lcmdlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFByZXBhcmVzIGFuIGl0ZW0gYmVmb3JlIGFkZC5cclxuICAgICAqIEB0b2RvIFJlbmFtZSBldmVudCBwYXJhbWV0ZXIgYGNvbnRlbnRgIHRvIGBpdGVtYC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEByZXR1cm5zIHtqUXVlcnl8SFRNTEVsZW1lbnR9IC0gVGhlIGl0ZW0gY29udGFpbmVyLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnByZXBhcmUgPSBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgdmFyIGV2ZW50ID0gdGhpcy50cmlnZ2VyKCdwcmVwYXJlJywgeyBjb250ZW50OiBpdGVtIH0pO1xyXG5cclxuICAgICAgICBpZiAoIWV2ZW50LmRhdGEpIHtcclxuICAgICAgICAgICAgZXZlbnQuZGF0YSA9ICQoJzwnICsgdGhpcy5zZXR0aW5ncy5pdGVtRWxlbWVudCArICcvPicpXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3ModGhpcy5vcHRpb25zLml0ZW1DbGFzcykuYXBwZW5kKGl0ZW0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ3ByZXBhcmVkJywgeyBjb250ZW50OiBldmVudC5kYXRhIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZXZlbnQuZGF0YTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSB2aWV3LlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBpID0gMCxcclxuICAgICAgICAgICAgbiA9IHRoaXMuX3BpcGUubGVuZ3RoLFxyXG4gICAgICAgICAgICBmaWx0ZXIgPSAkLnByb3h5KGZ1bmN0aW9uKHApIHsgcmV0dXJuIHRoaXNbcF0gfSwgdGhpcy5faW52YWxpZGF0ZWQpLFxyXG4gICAgICAgICAgICBjYWNoZSA9IHt9O1xyXG5cclxuICAgICAgICB3aGlsZSAoaSA8IG4pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2ludmFsaWRhdGVkLmFsbCB8fCAkLmdyZXAodGhpcy5fcGlwZVtpXS5maWx0ZXIsIGZpbHRlcikubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcGlwZVtpXS5ydW4oY2FjaGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2ludmFsaWRhdGVkID0ge307XHJcblxyXG4gICAgICAgICF0aGlzLmlzKCd2YWxpZCcpICYmIHRoaXMuZW50ZXIoJ3ZhbGlkJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgd2lkdGggb2YgdGhlIHZpZXcuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge093bC5XaWR0aH0gW2RpbWVuc2lvbj1Pd2wuV2lkdGguRGVmYXVsdF0gLSBUaGUgZGltZW5zaW9uIHRvIHJldHVybi5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IC0gVGhlIHdpZHRoIG9mIHRoZSB2aWV3IGluIHBpeGVsLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLndpZHRoID0gZnVuY3Rpb24oZGltZW5zaW9uKSB7XHJcbiAgICAgICAgZGltZW5zaW9uID0gZGltZW5zaW9uIHx8IE93bC5XaWR0aC5EZWZhdWx0O1xyXG4gICAgICAgIHN3aXRjaCAoZGltZW5zaW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgT3dsLldpZHRoLklubmVyOlxyXG4gICAgICAgICAgICBjYXNlIE93bC5XaWR0aC5PdXRlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aCAtIHRoaXMuc2V0dGluZ3Muc3RhZ2VQYWRkaW5nICogMiArIHRoaXMuc2V0dGluZ3MubWFyZ2luO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWZyZXNoZXMgdGhlIGNhcm91c2VsIHByaW1hcmlseSBmb3IgYWRhcHRpdmUgcHVycG9zZXMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuZW50ZXIoJ3JlZnJlc2hpbmcnKTtcclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ3JlZnJlc2gnKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cCgpO1xyXG5cclxuICAgICAgICB0aGlzLm9wdGlvbnNMb2dpYygpO1xyXG5cclxuICAgICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5yZWZyZXNoQ2xhc3MpO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5yZWZyZXNoQ2xhc3MpO1xyXG5cclxuICAgICAgICB0aGlzLmxlYXZlKCdyZWZyZXNoaW5nJyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdyZWZyZXNoZWQnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2luZG93IGByZXNpemVgIGV2ZW50LlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uVGhyb3R0bGVkUmVzaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnJlc2l6ZVRpbWVyKTtcclxuICAgICAgICB0aGlzLnJlc2l6ZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQodGhpcy5faGFuZGxlcnMub25SZXNpemUsIHRoaXMuc2V0dGluZ3MucmVzcG9uc2l2ZVJlZnJlc2hSYXRlKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2luZG93IGByZXNpemVgIGV2ZW50LlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3dpZHRoID09PSB0aGlzLiRlbGVtZW50LndpZHRoKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZW50ZXIoJ3Jlc2l6aW5nJyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRyaWdnZXIoJ3Jlc2l6ZScpLmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGVhdmUoJ3Jlc2l6aW5nJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgnd2lkdGgnKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcblxyXG4gICAgICAgIHRoaXMubGVhdmUoJ3Jlc2l6aW5nJyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdyZXNpemVkJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXJzIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICogQHRvZG8gQ2hlY2sgYG1zUG9pbnRlckVuYWJsZWRgXHJcbiAgICAgKiBAdG9kbyAjMjYxXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucmVnaXN0ZXJFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLm9uKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCArICcub3dsLmNvcmUnLCAkLnByb3h5KHRoaXMub25UcmFuc2l0aW9uRW5kLCB0aGlzKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5yZXNwb25zaXZlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZXJzLm9uVGhyb3R0bGVkUmVzaXplKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLm1vdXNlRHJhZykge1xyXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5kcmFnQ2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5vbignbW91c2Vkb3duLm93bC5jb3JlJywgJC5wcm94eSh0aGlzLm9uRHJhZ1N0YXJ0LCB0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLm9uKCdkcmFnc3RhcnQub3dsLmNvcmUgc2VsZWN0c3RhcnQub3dsLmNvcmUnLCBmdW5jdGlvbigpIHsgcmV0dXJuIGZhbHNlIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MudG91Y2hEcmFnKXtcclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2Uub24oJ3RvdWNoc3RhcnQub3dsLmNvcmUnLCAkLnByb3h5KHRoaXMub25EcmFnU3RhcnQsIHRoaXMpKTtcclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2Uub24oJ3RvdWNoY2FuY2VsLm93bC5jb3JlJywgJC5wcm94eSh0aGlzLm9uRHJhZ0VuZCwgdGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIGB0b3VjaHN0YXJ0YCBhbmQgYG1vdXNlZG93bmAgZXZlbnRzLlxyXG4gICAgICogQHRvZG8gSG9yaXpvbnRhbCBzd2lwZSB0aHJlc2hvbGQgYXMgb3B0aW9uXHJcbiAgICAgKiBAdG9kbyAjMjYxXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBldmVudCBhcmd1bWVudHMuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUub25EcmFnU3RhcnQgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciBzdGFnZSA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmIChldmVudC53aGljaCA9PT0gMykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoJC5zdXBwb3J0LnRyYW5zZm9ybSkge1xyXG4gICAgICAgICAgICBzdGFnZSA9IHRoaXMuJHN0YWdlLmNzcygndHJhbnNmb3JtJykucmVwbGFjZSgvLipcXCh8XFwpfCAvZywgJycpLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgIHN0YWdlID0ge1xyXG4gICAgICAgICAgICAgICAgeDogc3RhZ2Vbc3RhZ2UubGVuZ3RoID09PSAxNiA/IDEyIDogNF0sXHJcbiAgICAgICAgICAgICAgICB5OiBzdGFnZVtzdGFnZS5sZW5ndGggPT09IDE2ID8gMTMgOiA1XVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0YWdlID0gdGhpcy4kc3RhZ2UucG9zaXRpb24oKTtcclxuICAgICAgICAgICAgc3RhZ2UgPSB7XHJcbiAgICAgICAgICAgICAgICB4OiB0aGlzLnNldHRpbmdzLnJ0bCA/XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UubGVmdCArIHRoaXMuJHN0YWdlLndpZHRoKCkgLSB0aGlzLndpZHRoKCkgKyB0aGlzLnNldHRpbmdzLm1hcmdpbiA6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UubGVmdCxcclxuICAgICAgICAgICAgICAgIHk6IHN0YWdlLnRvcFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXMoJ2FuaW1hdGluZycpKSB7XHJcbiAgICAgICAgICAgICQuc3VwcG9ydC50cmFuc2Zvcm0gPyB0aGlzLmFuaW1hdGUoc3RhZ2UueCkgOiB0aGlzLiRzdGFnZS5zdG9wKClcclxuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCdwb3NpdGlvbicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuZ3JhYkNsYXNzLCBldmVudC50eXBlID09PSAnbW91c2Vkb3duJyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3BlZWQoMCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2RyYWcudGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIHRoaXMuX2RyYWcudGFyZ2V0ID0gJChldmVudC50YXJnZXQpO1xyXG4gICAgICAgIHRoaXMuX2RyYWcuc3RhZ2Uuc3RhcnQgPSBzdGFnZTtcclxuICAgICAgICB0aGlzLl9kcmFnLnN0YWdlLmN1cnJlbnQgPSBzdGFnZTtcclxuICAgICAgICB0aGlzLl9kcmFnLnBvaW50ZXIgPSB0aGlzLnBvaW50ZXIoZXZlbnQpO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5vbignbW91c2V1cC5vd2wuY29yZSB0b3VjaGVuZC5vd2wuY29yZScsICQucHJveHkodGhpcy5vbkRyYWdFbmQsIHRoaXMpKTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub25lKCdtb3VzZW1vdmUub3dsLmNvcmUgdG91Y2htb3ZlLm93bC5jb3JlJywgJC5wcm94eShmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgZGVsdGEgPSB0aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5wb2ludGVyLCB0aGlzLnBvaW50ZXIoZXZlbnQpKTtcclxuXHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdtb3VzZW1vdmUub3dsLmNvcmUgdG91Y2htb3ZlLm93bC5jb3JlJywgJC5wcm94eSh0aGlzLm9uRHJhZ01vdmUsIHRoaXMpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWx0YS54KSA8IE1hdGguYWJzKGRlbHRhLnkpICYmIHRoaXMuaXMoJ3ZhbGlkJykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZW50ZXIoJ2RyYWdnaW5nJyk7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignZHJhZycpO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIHRoZSBgdG91Y2htb3ZlYCBhbmQgYG1vdXNlbW92ZWAgZXZlbnRzLlxyXG4gICAgICogQHRvZG8gIzI2MVxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uRHJhZ01vdmUgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciBtaW5pbXVtID0gbnVsbCxcclxuICAgICAgICAgICAgbWF4aW11bSA9IG51bGwsXHJcbiAgICAgICAgICAgIHB1bGwgPSBudWxsLFxyXG4gICAgICAgICAgICBkZWx0YSA9IHRoaXMuZGlmZmVyZW5jZSh0aGlzLl9kcmFnLnBvaW50ZXIsIHRoaXMucG9pbnRlcihldmVudCkpLFxyXG4gICAgICAgICAgICBzdGFnZSA9IHRoaXMuZGlmZmVyZW5jZSh0aGlzLl9kcmFnLnN0YWdlLnN0YXJ0LCBkZWx0YSk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5pcygnZHJhZ2dpbmcnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5sb29wKSB7XHJcbiAgICAgICAgICAgIG1pbmltdW0gPSB0aGlzLmNvb3JkaW5hdGVzKHRoaXMubWluaW11bSgpKTtcclxuICAgICAgICAgICAgbWF4aW11bSA9IHRoaXMuY29vcmRpbmF0ZXModGhpcy5tYXhpbXVtKCkgKyAxKSAtIG1pbmltdW07XHJcbiAgICAgICAgICAgIHN0YWdlLnggPSAoKChzdGFnZS54IC0gbWluaW11bSkgJSBtYXhpbXVtICsgbWF4aW11bSkgJSBtYXhpbXVtKSArIG1pbmltdW07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWluaW11bSA9IHRoaXMuc2V0dGluZ3MucnRsID8gdGhpcy5jb29yZGluYXRlcyh0aGlzLm1heGltdW0oKSkgOiB0aGlzLmNvb3JkaW5hdGVzKHRoaXMubWluaW11bSgpKTtcclxuICAgICAgICAgICAgbWF4aW11bSA9IHRoaXMuc2V0dGluZ3MucnRsID8gdGhpcy5jb29yZGluYXRlcyh0aGlzLm1pbmltdW0oKSkgOiB0aGlzLmNvb3JkaW5hdGVzKHRoaXMubWF4aW11bSgpKTtcclxuICAgICAgICAgICAgcHVsbCA9IHRoaXMuc2V0dGluZ3MucHVsbERyYWcgPyAtMSAqIGRlbHRhLnggLyA1IDogMDtcclxuICAgICAgICAgICAgc3RhZ2UueCA9IE1hdGgubWF4KE1hdGgubWluKHN0YWdlLngsIG1pbmltdW0gKyBwdWxsKSwgbWF4aW11bSArIHB1bGwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fZHJhZy5zdGFnZS5jdXJyZW50ID0gc3RhZ2U7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0ZShzdGFnZS54KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIHRoZSBgdG91Y2hlbmRgIGFuZCBgbW91c2V1cGAgZXZlbnRzLlxyXG4gICAgICogQHRvZG8gIzI2MVxyXG4gICAgICogQHRvZG8gVGhyZXNob2xkIGZvciBjbGljayBldmVudFxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uRHJhZ0VuZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGRlbHRhID0gdGhpcy5kaWZmZXJlbmNlKHRoaXMuX2RyYWcucG9pbnRlciwgdGhpcy5wb2ludGVyKGV2ZW50KSksXHJcbiAgICAgICAgICAgIHN0YWdlID0gdGhpcy5fZHJhZy5zdGFnZS5jdXJyZW50LFxyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBkZWx0YS54ID4gMCBeIHRoaXMuc2V0dGluZ3MucnRsID8gJ2xlZnQnIDogJ3JpZ2h0JztcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub2ZmKCcub3dsLmNvcmUnKTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZ3JhYkNsYXNzKTtcclxuXHJcbiAgICAgICAgaWYgKGRlbHRhLnggIT09IDAgJiYgdGhpcy5pcygnZHJhZ2dpbmcnKSB8fCAhdGhpcy5pcygndmFsaWQnKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNwZWVkKHRoaXMuc2V0dGluZ3MuZHJhZ0VuZFNwZWVkIHx8IHRoaXMuc2V0dGluZ3Muc21hcnRTcGVlZCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCh0aGlzLmNsb3Nlc3Qoc3RhZ2UueCwgZGVsdGEueCAhPT0gMCA/IGRpcmVjdGlvbiA6IHRoaXMuX2RyYWcuZGlyZWN0aW9uKSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgncG9zaXRpb24nKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2RyYWcuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xyXG5cclxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRlbHRhLngpID4gMyB8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRoaXMuX2RyYWcudGltZSA+IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZy50YXJnZXQub25lKCdjbGljay5vd2wuY29yZScsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaXMoJ2RyYWdnaW5nJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5sZWF2ZSgnZHJhZ2dpbmcnKTtcclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ2RyYWdnZWQnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBjbG9zZXN0IGl0ZW0gZm9yIGEgY29vcmRpbmF0ZS5cclxuICAgICAqIEB0b2RvIFNldHRpbmcgYGZyZWVEcmFnYCBtYWtlcyBgY2xvc2VzdGAgbm90IHJldXNhYmxlLiBTZWUgIzE2NS5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb29yZGluYXRlIC0gVGhlIGNvb3JkaW5hdGUgaW4gcGl4ZWwuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGlyZWN0aW9uIC0gVGhlIGRpcmVjdGlvbiB0byBjaGVjayBmb3IgdGhlIGNsb3Nlc3QgaXRlbS4gRXRoZXIgYGxlZnRgIG9yIGByaWdodGAuXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBjbG9zZXN0IGl0ZW0uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuY2xvc2VzdCA9IGZ1bmN0aW9uKGNvb3JkaW5hdGUsIGRpcmVjdGlvbikge1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IC0xLFxyXG4gICAgICAgICAgICBwdWxsID0gMzAsXHJcbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy53aWR0aCgpLFxyXG4gICAgICAgICAgICBjb29yZGluYXRlcyA9IHRoaXMuY29vcmRpbmF0ZXMoKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmZyZWVEcmFnKSB7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGNsb3Nlc3QgaXRlbVxyXG4gICAgICAgICAgICAkLmVhY2goY29vcmRpbmF0ZXMsICQucHJveHkoZnVuY3Rpb24oaW5kZXgsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBvbiBhIGxlZnQgcHVsbCwgY2hlY2sgb24gY3VycmVudCBtYWluLXBhZ2UtcGFnZVxyXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2xlZnQnICYmIGNvb3JkaW5hdGUgPiB2YWx1ZSAtIHB1bGwgJiYgY29vcmRpbmF0ZSA8IHZhbHVlICsgcHVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb24gYSByaWdodCBwdWxsLCBjaGVjayBvbiBwcmV2aW91cyBtYWluLXBhZ2UtcGFnZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGRvIHNvLCBzdWJ0cmFjdCB3aWR0aCBmcm9tIHZhbHVlIGFuZCBzZXQgcG9zaXRpb24gPSBtYWluLXBhZ2UtcGFnZSArIDFcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAncmlnaHQnICYmIGNvb3JkaW5hdGUgPiB2YWx1ZSAtIHdpZHRoIC0gcHVsbCAmJiBjb29yZGluYXRlIDwgdmFsdWUgLSB3aWR0aCArIHB1bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGluZGV4ICsgMTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcChjb29yZGluYXRlLCAnPCcsIHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICYmIHRoaXMub3AoY29vcmRpbmF0ZSwgJz4nLCBjb29yZGluYXRlc1tpbmRleCArIDFdIHx8IHZhbHVlIC0gd2lkdGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBkaXJlY3Rpb24gPT09ICdsZWZ0JyA/IGluZGV4ICsgMSA6IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uID09PSAtMTtcclxuICAgICAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmxvb3ApIHtcclxuICAgICAgICAgICAgLy8gbm9uIGxvb3AgYm91bmRyaWVzXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wKGNvb3JkaW5hdGUsICc+JywgY29vcmRpbmF0ZXNbdGhpcy5taW5pbXVtKCldKSkge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBjb29yZGluYXRlID0gdGhpcy5taW5pbXVtKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcChjb29yZGluYXRlLCAnPCcsIGNvb3JkaW5hdGVzW3RoaXMubWF4aW11bSgpXSkpIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gY29vcmRpbmF0ZSA9IHRoaXMubWF4aW11bSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQW5pbWF0ZXMgdGhlIHN0YWdlLlxyXG4gICAgICogQHRvZG8gIzI3MFxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNvb3JkaW5hdGUgLSBUaGUgY29vcmRpbmF0ZSBpbiBwaXhlbHMuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuYW5pbWF0ZSA9IGZ1bmN0aW9uKGNvb3JkaW5hdGUpIHtcclxuICAgICAgICB2YXIgYW5pbWF0ZSA9IHRoaXMuc3BlZWQoKSA+IDA7XHJcblxyXG4gICAgICAgIHRoaXMuaXMoJ2FuaW1hdGluZycpICYmIHRoaXMub25UcmFuc2l0aW9uRW5kKCk7XHJcblxyXG4gICAgICAgIGlmIChhbmltYXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW50ZXIoJ2FuaW1hdGluZycpO1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ3RyYW5zbGF0ZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCQuc3VwcG9ydC50cmFuc2Zvcm0zZCAmJiAkLnN1cHBvcnQudHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoJyArIGNvb3JkaW5hdGUgKyAncHgsMHB4LDBweCknLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogKHRoaXMuc3BlZWQoKSAvIDEwMDApICsgJ3MnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYW5pbWF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IGNvb3JkaW5hdGUgKyAncHgnXHJcbiAgICAgICAgICAgIH0sIHRoaXMuc3BlZWQoKSwgdGhpcy5zZXR0aW5ncy5mYWxsYmFja0Vhc2luZywgJC5wcm94eSh0aGlzLm9uVHJhbnNpdGlvbkVuZCwgdGhpcykpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLmNzcyh7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiBjb29yZGluYXRlICsgJ3B4J1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGNhcm91c2VsIGlzIGluIGEgc3BlY2lmaWMgc3RhdGUgb3Igbm90LlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0YXRlIC0gVGhlIHN0YXRlIHRvIGNoZWNrLlxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IC0gVGhlIGZsYWcgd2hpY2ggaW5kaWNhdGVzIGlmIHRoZSBjYXJvdXNlbCBpcyBidXN5LlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmlzID0gZnVuY3Rpb24oc3RhdGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGVzLmN1cnJlbnRbc3RhdGVdICYmIHRoaXMuX3N0YXRlcy5jdXJyZW50W3N0YXRlXSA+IDA7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgYWJzb2x1dGUgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb25dIC0gVGhlIG5ldyBhYnNvbHV0ZSBwb3NpdGlvbiBvciBub3RoaW5nIHRvIGxlYXZlIGl0IHVuY2hhbmdlZC5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBjdXJyZW50IGl0ZW0uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuY3VycmVudCA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5faXRlbXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwb3NpdGlvbiA9IHRoaXMubm9ybWFsaXplKHBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnQgIT09IHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHZhciBldmVudCA9IHRoaXMudHJpZ2dlcignY2hhbmdlJywgeyBwcm9wZXJ0eTogeyBuYW1lOiAncG9zaXRpb24nLCB2YWx1ZTogcG9zaXRpb24gfSB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5ub3JtYWxpemUoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSBwb3NpdGlvbjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgncG9zaXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlZCcsIHsgcHJvcGVydHk6IHsgbmFtZTogJ3Bvc2l0aW9uJywgdmFsdWU6IHRoaXMuX2N1cnJlbnQgfSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEludmFsaWRhdGVzIHRoZSBnaXZlbiBwYXJ0IG9mIHRoZSB1cGRhdGUgcm91dGluZS5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbcGFydF0gLSBUaGUgcGFydCB0byBpbnZhbGlkYXRlLlxyXG4gICAgICogQHJldHVybnMge0FycmF5LjxTdHJpbmc+fSAtIFRoZSBpbnZhbGlkYXRlZCBwYXJ0cy5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5pbnZhbGlkYXRlID0gZnVuY3Rpb24ocGFydCkge1xyXG4gICAgICAgIGlmICgkLnR5cGUocGFydCkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludmFsaWRhdGVkW3BhcnRdID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5pcygndmFsaWQnKSAmJiB0aGlzLmxlYXZlKCd2YWxpZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJC5tYXAodGhpcy5faW52YWxpZGF0ZWQsIGZ1bmN0aW9uKHYsIGkpIHsgcmV0dXJuIGkgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXRzIHRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBpdGVtLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBuZXcgaXRlbS5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgcG9zaXRpb24gPSB0aGlzLm5vcm1hbGl6ZShwb3NpdGlvbik7XHJcblxyXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gMDtcclxuICAgICAgICB0aGlzLl9jdXJyZW50ID0gcG9zaXRpb247XHJcblxyXG4gICAgICAgIHRoaXMuc3VwcHJlc3MoWyAndHJhbnNsYXRlJywgJ3RyYW5zbGF0ZWQnIF0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGUodGhpcy5jb29yZGluYXRlcyhwb3NpdGlvbikpO1xyXG5cclxuICAgICAgICB0aGlzLnJlbGVhc2UoWyAndHJhbnNsYXRlJywgJ3RyYW5zbGF0ZWQnIF0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE5vcm1hbGl6ZXMgYW4gYWJzb2x1dGUgb3IgYSByZWxhdGl2ZSBwb3NpdGlvbiBvZiBhbiBpdGVtLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIGFic29sdXRlIG9yIHJlbGF0aXZlIHBvc2l0aW9uIHRvIG5vcm1hbGl6ZS5cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbGF0aXZlPWZhbHNlXSAtIFdoZXRoZXIgdGhlIGdpdmVuIHBvc2l0aW9uIGlzIHJlbGF0aXZlIG9yIG5vdC5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IC0gVGhlIG5vcm1hbGl6ZWQgcG9zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24ocG9zaXRpb24sIHJlbGF0aXZlKSB7XHJcbiAgICAgICAgdmFyIG4gPSB0aGlzLl9pdGVtcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIG0gPSByZWxhdGl2ZSA/IDAgOiB0aGlzLl9jbG9uZXMubGVuZ3RoO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaXNOdW1lcmljKHBvc2l0aW9uKSB8fCBuIDwgMSkge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uIDwgMCB8fCBwb3NpdGlvbiA+PSBuICsgbSkge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9ICgocG9zaXRpb24gLSBtIC8gMikgJSBuICsgbikgJSBuICsgbSAvIDI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgYW4gYWJzb2x1dGUgcG9zaXRpb24gb2YgYW4gaXRlbSBpbnRvIGEgcmVsYXRpdmUgb25lLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIHRvIGNvbnZlcnQuXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSAtIFRoZSBjb252ZXJ0ZWQgcG9zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucmVsYXRpdmUgPSBmdW5jdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIHBvc2l0aW9uIC09IHRoaXMuX2Nsb25lcy5sZW5ndGggLyAyO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZShwb3NpdGlvbiwgdHJ1ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgbWF4aW11bSBwb3NpdGlvbiBmb3IgdGhlIGN1cnJlbnQgaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbGF0aXZlPWZhbHNlXSAtIFdoZXRoZXIgdG8gcmV0dXJuIGFuIGFic29sdXRlIHBvc2l0aW9uIG9yIGEgcmVsYXRpdmUgcG9zaXRpb24uXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm1heGltdW0gPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xyXG4gICAgICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3MsXHJcbiAgICAgICAgICAgIG1heGltdW0gPSB0aGlzLl9jb29yZGluYXRlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIGl0ZXJhdG9yLFxyXG4gICAgICAgICAgICByZWNpcHJvY2FsSXRlbXNXaWR0aCxcclxuICAgICAgICAgICAgZWxlbWVudFdpZHRoO1xyXG5cclxuICAgICAgICBpZiAoc2V0dGluZ3MubG9vcCkge1xyXG4gICAgICAgICAgICBtYXhpbXVtID0gdGhpcy5fY2xvbmVzLmxlbmd0aCAvIDIgKyB0aGlzLl9pdGVtcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc2V0dGluZ3MuYXV0b1dpZHRoIHx8IHNldHRpbmdzLm1lcmdlKSB7XHJcbiAgICAgICAgICAgIGl0ZXJhdG9yID0gdGhpcy5faXRlbXMubGVuZ3RoO1xyXG4gICAgICAgICAgICByZWNpcHJvY2FsSXRlbXNXaWR0aCA9IHRoaXMuX2l0ZW1zWy0taXRlcmF0b3JdLndpZHRoKCk7XHJcbiAgICAgICAgICAgIGVsZW1lbnRXaWR0aCA9IHRoaXMuJGVsZW1lbnQud2lkdGgoKTtcclxuICAgICAgICAgICAgd2hpbGUgKGl0ZXJhdG9yLS0pIHtcclxuICAgICAgICAgICAgICAgIHJlY2lwcm9jYWxJdGVtc1dpZHRoICs9IHRoaXMuX2l0ZW1zW2l0ZXJhdG9yXS53aWR0aCgpICsgdGhpcy5zZXR0aW5ncy5tYXJnaW47XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjaXByb2NhbEl0ZW1zV2lkdGggPiBlbGVtZW50V2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXhpbXVtID0gaXRlcmF0b3IgKyAxO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc2V0dGluZ3MuY2VudGVyKSB7XHJcbiAgICAgICAgICAgIG1heGltdW0gPSB0aGlzLl9pdGVtcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1heGltdW0gPSB0aGlzLl9pdGVtcy5sZW5ndGggLSBzZXR0aW5ncy5pdGVtcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChyZWxhdGl2ZSkge1xyXG4gICAgICAgICAgICBtYXhpbXVtIC09IHRoaXMuX2Nsb25lcy5sZW5ndGggLyAyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KG1heGltdW0sIDApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIG1pbmltdW0gcG9zaXRpb24gZm9yIHRoZSBjdXJyZW50IGl0ZW0uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyZWxhdGl2ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIHJldHVybiBhbiBhYnNvbHV0ZSBwb3NpdGlvbiBvciBhIHJlbGF0aXZlIHBvc2l0aW9uLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5taW5pbXVtID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcclxuICAgICAgICByZXR1cm4gcmVsYXRpdmUgPyAwIDogdGhpcy5fY2xvbmVzLmxlbmd0aCAvIDI7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhbiBpdGVtIGF0IHRoZSBzcGVjaWZpZWQgcmVsYXRpdmUgcG9zaXRpb24uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uXSAtIFRoZSByZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgaXRlbS5cclxuICAgICAqIEByZXR1cm4ge2pRdWVyeXxBcnJheS48alF1ZXJ5Pn0gLSBUaGUgaXRlbSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gb3IgYWxsIGl0ZW1zIGlmIG5vIHBvc2l0aW9uIHdhcyBnaXZlbi5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5pdGVtcyA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zLnNsaWNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwb3NpdGlvbiA9IHRoaXMubm9ybWFsaXplKHBvc2l0aW9uLCB0cnVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXRlbXNbcG9zaXRpb25dO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYW4gaXRlbSBhdCB0aGUgc3BlY2lmaWVkIHJlbGF0aXZlIHBvc2l0aW9uLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwb3NpdGlvbl0gLSBUaGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGl0ZW0uXHJcbiAgICAgKiBAcmV0dXJuIHtqUXVlcnl8QXJyYXkuPGpRdWVyeT59IC0gVGhlIGl0ZW0gYXQgdGhlIGdpdmVuIHBvc2l0aW9uIG9yIGFsbCBpdGVtcyBpZiBubyBwb3NpdGlvbiB3YXMgZ2l2ZW4uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUubWVyZ2VycyA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21lcmdlcnMuc2xpY2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBvc2l0aW9uID0gdGhpcy5ub3JtYWxpemUocG9zaXRpb24sIHRydWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tZXJnZXJzW3Bvc2l0aW9uXTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBhYnNvbHV0ZSBwb3NpdGlvbnMgb2YgY2xvbmVzIGZvciBhbiBpdGVtLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwb3NpdGlvbl0gLSBUaGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGl0ZW0uXHJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXkuPE51bWJlcj59IC0gVGhlIGFic29sdXRlIHBvc2l0aW9ucyBvZiBjbG9uZXMgZm9yIHRoZSBpdGVtIG9yIGFsbCBpZiBubyBwb3NpdGlvbiB3YXMgZ2l2ZW4uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuY2xvbmVzID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICB2YXIgb2RkID0gdGhpcy5fY2xvbmVzLmxlbmd0aCAvIDIsXHJcbiAgICAgICAgICAgIGV2ZW4gPSBvZGQgKyB0aGlzLl9pdGVtcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIG1hcCA9IGZ1bmN0aW9uKGluZGV4KSB7IHJldHVybiBpbmRleCAlIDIgPT09IDAgPyBldmVuICsgaW5kZXggLyAyIDogb2RkIC0gKGluZGV4ICsgMSkgLyAyIH07XHJcblxyXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkLm1hcCh0aGlzLl9jbG9uZXMsIGZ1bmN0aW9uKHYsIGkpIHsgcmV0dXJuIG1hcChpKSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAkLm1hcCh0aGlzLl9jbG9uZXMsIGZ1bmN0aW9uKHYsIGkpIHsgcmV0dXJuIHYgPT09IHBvc2l0aW9uID8gbWFwKGkpIDogbnVsbCB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBzcGVlZC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIGFuaW1hdGlvbiBzcGVlZCBpbiBtaWxsaXNlY29uZHMgb3Igbm90aGluZyB0byBsZWF2ZSBpdCB1bmNoYW5nZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSAtIFRoZSBjdXJyZW50IGFuaW1hdGlvbiBzcGVlZCBpbiBtaWxsaXNlY29uZHMuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuc3BlZWQgPSBmdW5jdGlvbihzcGVlZCkge1xyXG4gICAgICAgIGlmIChzcGVlZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NwZWVkID0gc3BlZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fc3BlZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgY29vcmRpbmF0ZSBvZiBhbiBpdGVtLlxyXG4gICAgICogQHRvZG8gVGhlIG5hbWUgb2YgdGhpcyBtZXRob2QgaXMgbWlzc2xlYW5kaW5nLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBpdGVtIHdpdGhpbiBgbWluaW11bSgpYCBhbmQgYG1heGltdW0oKWAuXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfEFycmF5LjxOdW1iZXI+fSAtIFRoZSBjb29yZGluYXRlIG9mIHRoZSBpdGVtIGluIHBpeGVsIG9yIGFsbCBjb29yZGluYXRlcy5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5jb29yZGluYXRlcyA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgdmFyIG11bHRpcGxpZXIgPSAxLFxyXG4gICAgICAgICAgICBuZXdQb3NpdGlvbiA9IHBvc2l0aW9uIC0gMSxcclxuICAgICAgICAgICAgY29vcmRpbmF0ZTtcclxuXHJcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICQubWFwKHRoaXMuX2Nvb3JkaW5hdGVzLCAkLnByb3h5KGZ1bmN0aW9uKGNvb3JkaW5hdGUsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb29yZGluYXRlcyhpbmRleCk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmNlbnRlcikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5ydGwpIHtcclxuICAgICAgICAgICAgICAgIG11bHRpcGxpZXIgPSAtMTtcclxuICAgICAgICAgICAgICAgIG5ld1Bvc2l0aW9uID0gcG9zaXRpb24gKyAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb29yZGluYXRlID0gdGhpcy5fY29vcmRpbmF0ZXNbcG9zaXRpb25dO1xyXG4gICAgICAgICAgICBjb29yZGluYXRlICs9ICh0aGlzLndpZHRoKCkgLSBjb29yZGluYXRlICsgKHRoaXMuX2Nvb3JkaW5hdGVzW25ld1Bvc2l0aW9uXSB8fCAwKSkgLyAyICogbXVsdGlwbGllcjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb29yZGluYXRlID0gdGhpcy5fY29vcmRpbmF0ZXNbbmV3UG9zaXRpb25dIHx8IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb29yZGluYXRlID0gTWF0aC5jZWlsKGNvb3JkaW5hdGUpO1xyXG5cclxuICAgICAgICByZXR1cm4gY29vcmRpbmF0ZTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBzcGVlZCBmb3IgYSB0cmFuc2xhdGlvbi5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBmcm9tIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBzdGFydCBpdGVtLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRvIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSB0YXJnZXQgaXRlbS5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbZmFjdG9yPXVuZGVmaW5lZF0gLSBUaGUgdGltZSBmYWN0b3IgaW4gbWlsbGlzZWNvbmRzLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn0gLSBUaGUgdGltZSBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSB0cmFuc2xhdGlvbi5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5kdXJhdGlvbiA9IGZ1bmN0aW9uKGZyb20sIHRvLCBmYWN0b3IpIHtcclxuICAgICAgICBpZiAoZmFjdG9yID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KE1hdGguYWJzKHRvIC0gZnJvbSksIDEpLCA2KSAqIE1hdGguYWJzKChmYWN0b3IgfHwgdGhpcy5zZXR0aW5ncy5zbWFydFNwZWVkKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2xpZGVzIHRvIHRoZSBzcGVjaWZpZWQgaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgaXRlbS5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uKHBvc2l0aW9uLCBzcGVlZCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5jdXJyZW50KCksXHJcbiAgICAgICAgICAgIHJldmVydCA9IG51bGwsXHJcbiAgICAgICAgICAgIGRpc3RhbmNlID0gcG9zaXRpb24gLSB0aGlzLnJlbGF0aXZlKGN1cnJlbnQpLFxyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAoZGlzdGFuY2UgPiAwKSAtIChkaXN0YW5jZSA8IDApLFxyXG4gICAgICAgICAgICBpdGVtcyA9IHRoaXMuX2l0ZW1zLmxlbmd0aCxcclxuICAgICAgICAgICAgbWluaW11bSA9IHRoaXMubWluaW11bSgpLFxyXG4gICAgICAgICAgICBtYXhpbXVtID0gdGhpcy5tYXhpbXVtKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmxvb3ApIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLnJld2luZCAmJiBNYXRoLmFicyhkaXN0YW5jZSkgPiBpdGVtcyAvIDIpIHtcclxuICAgICAgICAgICAgICAgIGRpc3RhbmNlICs9IGRpcmVjdGlvbiAqIC0xICogaXRlbXM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gY3VycmVudCArIGRpc3RhbmNlO1xyXG4gICAgICAgICAgICByZXZlcnQgPSAoKHBvc2l0aW9uIC0gbWluaW11bSkgJSBpdGVtcyArIGl0ZW1zKSAlIGl0ZW1zICsgbWluaW11bTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXZlcnQgIT09IHBvc2l0aW9uICYmIHJldmVydCAtIGRpc3RhbmNlIDw9IG1heGltdW0gJiYgcmV2ZXJ0IC0gZGlzdGFuY2UgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gcmV2ZXJ0IC0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHJldmVydDtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXQoY3VycmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MucmV3aW5kKSB7XHJcbiAgICAgICAgICAgIG1heGltdW0gKz0gMTtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSAocG9zaXRpb24gJSBtYXhpbXVtICsgbWF4aW11bSkgJSBtYXhpbXVtO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gTWF0aC5tYXgobWluaW11bSwgTWF0aC5taW4obWF4aW11bSwgcG9zaXRpb24pKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3BlZWQodGhpcy5kdXJhdGlvbihjdXJyZW50LCBwb3NpdGlvbiwgc3BlZWQpKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnQocG9zaXRpb24pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy4kZWxlbWVudC5pcygnOnZpc2libGUnKSkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTbGlkZXMgdG8gdGhlIG5leHQgaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oc3BlZWQpIHtcclxuICAgICAgICBzcGVlZCA9IHNwZWVkIHx8IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudG8odGhpcy5yZWxhdGl2ZSh0aGlzLmN1cnJlbnQoKSkgKyAxLCBzcGVlZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2xpZGVzIHRvIHRoZSBwcmV2aW91cyBpdGVtLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzcGVlZF0gLSBUaGUgdGltZSBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSB0cmFuc2l0aW9uLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbihzcGVlZCkge1xyXG4gICAgICAgIHNwZWVkID0gc3BlZWQgfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy50byh0aGlzLnJlbGF0aXZlKHRoaXMuY3VycmVudCgpKSAtIDEsIHNwZWVkKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIHRoZSBlbmQgb2YgYW4gYW5pbWF0aW9uLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gICAgICAgIC8vIGlmIGNzczIgYW5pbWF0aW9uIHRoZW4gZXZlbnQgb2JqZWN0IGlzIHVuZGVmaW5lZFxyXG4gICAgICAgIGlmIChldmVudCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2F0Y2ggb25seSBvd2wtc3RhZ2UgdHJhbnNpdGlvbkVuZCBldmVudFxyXG4gICAgICAgICAgICBpZiAoKGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50IHx8IGV2ZW50Lm9yaWdpbmFsVGFyZ2V0KSAhPT0gdGhpcy4kc3RhZ2UuZ2V0KDApKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGVhdmUoJ2FuaW1hdGluZycpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlcigndHJhbnNsYXRlZCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdmlld3BvcnQgd2lkdGguXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IC0gVGhlIHdpZHRoIGluIHBpeGVsLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnZpZXdwb3J0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHdpZHRoO1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZUJhc2VFbGVtZW50ICE9PSB3aW5kb3cpIHtcclxuICAgICAgICAgICAgd2lkdGggPSAkKHRoaXMub3B0aW9ucy5yZXNwb25zaXZlQmFzZUVsZW1lbnQpLndpZHRoKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuaW5uZXJXaWR0aCkge1xyXG4gICAgICAgICAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkge1xyXG4gICAgICAgICAgICB3aWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NhbiBub3QgZGV0ZWN0IHZpZXdwb3J0IHdpZHRoLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVwbGFjZXMgdGhlIGN1cnJlbnQgY29udGVudC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8alF1ZXJ5fFN0cmluZ30gY29udGVudCAtIFRoZSBuZXcgY29udGVudC5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24oY29udGVudCkge1xyXG4gICAgICAgIHRoaXMuJHN0YWdlLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5faXRlbXMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKGNvbnRlbnQpIHtcclxuICAgICAgICAgICAgY29udGVudCA9IChjb250ZW50IGluc3RhbmNlb2YgalF1ZXJ5KSA/IGNvbnRlbnQgOiAkKGNvbnRlbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MubmVzdGVkSXRlbVNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LmZpbmQoJy4nICsgdGhpcy5zZXR0aW5ncy5uZXN0ZWRJdGVtU2VsZWN0b3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udGVudC5maWx0ZXIoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5vZGVUeXBlID09PSAxO1xyXG4gICAgICAgIH0pLmVhY2goJC5wcm94eShmdW5jdGlvbihpbmRleCwgaXRlbSkge1xyXG4gICAgICAgICAgICBpdGVtID0gdGhpcy5wcmVwYXJlKGl0ZW0pO1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5hcHBlbmQoaXRlbSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgIHRoaXMuX21lcmdlcnMucHVzaChpdGVtLmZpbmQoJ1tkYXRhLW1lcmdlXScpLmFkZEJhY2soJ1tkYXRhLW1lcmdlXScpLmF0dHIoJ2RhdGEtbWVyZ2UnKSAqIDEgfHwgMSk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLnJlc2V0KHRoaXMuaXNOdW1lcmljKHRoaXMuc2V0dGluZ3Muc3RhcnRQb3NpdGlvbikgPyB0aGlzLnNldHRpbmdzLnN0YXJ0UG9zaXRpb24gOiAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCdpdGVtcycpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYW4gaXRlbS5cclxuICAgICAqIEB0b2RvIFVzZSBgaXRlbWAgaW5zdGVhZCBvZiBgY29udGVudGAgZm9yIHRoZSBldmVudCBhcmd1bWVudHMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fGpRdWVyeXxTdHJpbmd9IGNvbnRlbnQgLSBUaGUgaXRlbSBjb250ZW50IHRvIGFkZC5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb25dIC0gVGhlIHJlbGF0aXZlIHBvc2l0aW9uIGF0IHdoaWNoIHRvIGluc2VydCB0aGUgaXRlbSBvdGhlcndpc2UgdGhlIGl0ZW0gd2lsbCBiZSBhZGRlZCB0byB0aGUgZW5kLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGNvbnRlbnQsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnJlbGF0aXZlKHRoaXMuX2N1cnJlbnQpO1xyXG5cclxuICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWQgPyB0aGlzLl9pdGVtcy5sZW5ndGggOiB0aGlzLm5vcm1hbGl6ZShwb3NpdGlvbiwgdHJ1ZSk7XHJcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZW50IDogJChjb250ZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdhZGQnLCB7IGNvbnRlbnQ6IGNvbnRlbnQsIHBvc2l0aW9uOiBwb3NpdGlvbiB9KTtcclxuXHJcbiAgICAgICAgY29udGVudCA9IHRoaXMucHJlcGFyZShjb250ZW50KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2l0ZW1zLmxlbmd0aCA9PT0gMCB8fCBwb3NpdGlvbiA9PT0gdGhpcy5faXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zLmxlbmd0aCA9PT0gMCAmJiB0aGlzLiRzdGFnZS5hcHBlbmQoY29udGVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zLmxlbmd0aCAhPT0gMCAmJiB0aGlzLl9pdGVtc1twb3NpdGlvbiAtIDFdLmFmdGVyKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9pdGVtcy5wdXNoKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9tZXJnZXJzLnB1c2goY29udGVudC5maW5kKCdbZGF0YS1tZXJnZV0nKS5hZGRCYWNrKCdbZGF0YS1tZXJnZV0nKS5hdHRyKCdkYXRhLW1lcmdlJykgKiAxIHx8IDEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zW3Bvc2l0aW9uXS5iZWZvcmUoY29udGVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zLnNwbGljZShwb3NpdGlvbiwgMCwgY29udGVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21lcmdlcnMuc3BsaWNlKHBvc2l0aW9uLCAwLCBjb250ZW50LmZpbmQoJ1tkYXRhLW1lcmdlXScpLmFkZEJhY2soJ1tkYXRhLW1lcmdlXScpLmF0dHIoJ2RhdGEtbWVyZ2UnKSAqIDEgfHwgMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9pdGVtc1tjdXJyZW50XSAmJiB0aGlzLnJlc2V0KHRoaXMuX2l0ZW1zW2N1cnJlbnRdLmluZGV4KCkpO1xyXG5cclxuICAgICAgICB0aGlzLmludmFsaWRhdGUoJ2l0ZW1zJyk7XHJcblxyXG4gICAgICAgIHRoaXMudHJpZ2dlcignYWRkZWQnLCB7IGNvbnRlbnQ6IGNvbnRlbnQsIHBvc2l0aW9uOiBwb3NpdGlvbiB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFuIGl0ZW0gYnkgaXRzIHBvc2l0aW9uLlxyXG4gICAgICogQHRvZG8gVXNlIGBpdGVtYCBpbnN0ZWFkIG9mIGBjb250ZW50YCBmb3IgdGhlIGV2ZW50IGFyZ3VtZW50cy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSByZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgaXRlbSB0byByZW1vdmUuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICBwb3NpdGlvbiA9IHRoaXMubm9ybWFsaXplKHBvc2l0aW9uLCB0cnVlKTtcclxuXHJcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdyZW1vdmUnLCB7IGNvbnRlbnQ6IHRoaXMuX2l0ZW1zW3Bvc2l0aW9uXSwgcG9zaXRpb246IHBvc2l0aW9uIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9pdGVtc1twb3NpdGlvbl0ucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5faXRlbXMuc3BsaWNlKHBvc2l0aW9uLCAxKTtcclxuICAgICAgICB0aGlzLl9tZXJnZXJzLnNwbGljZShwb3NpdGlvbiwgMSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgnaXRlbXMnKTtcclxuXHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdyZW1vdmVkJywgeyBjb250ZW50OiBudWxsLCBwb3NpdGlvbjogcG9zaXRpb24gfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUHJlbG9hZHMgaW1hZ2VzIHdpdGggYXV0byB3aWR0aC5cclxuICAgICAqIEB0b2RvIFJlcGxhY2UgYnkgYSBtb3JlIGdlbmVyaWMgYXBwcm9hY2hcclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5wcmVsb2FkQXV0b1dpZHRoSW1hZ2VzID0gZnVuY3Rpb24oaW1hZ2VzKSB7XHJcbiAgICAgICAgaW1hZ2VzLmVhY2goJC5wcm94eShmdW5jdGlvbihpLCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW50ZXIoJ3ByZS1sb2FkaW5nJyk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAkKG5ldyBJbWFnZSgpKS5vbmUoJ2xvYWQnLCAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYXR0cignc3JjJywgZS50YXJnZXQuc3JjKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKCdvcGFjaXR5JywgMSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxlYXZlKCdwcmUtbG9hZGluZycpO1xyXG4gICAgICAgICAgICAgICAgIXRoaXMuaXMoJ3ByZS1sb2FkaW5nJykgJiYgIXRoaXMuaXMoJ2luaXRpYWxpemluZycpICYmIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKSkuYXR0cignc3JjJywgZWxlbWVudC5hdHRyKCdzcmMnKSB8fCBlbGVtZW50LmF0dHIoJ2RhdGEtc3JjJykgfHwgZWxlbWVudC5hdHRyKCdkYXRhLXNyYy1yZXRpbmEnKSk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBjYXJvdXNlbC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub2ZmKCcub3dsLmNvcmUnKTtcclxuICAgICAgICB0aGlzLiRzdGFnZS5vZmYoJy5vd2wuY29yZScpO1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9mZignLm93bC5jb3JlJyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnJlc3BvbnNpdmUgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lcik7XHJcbiAgICAgICAgICAgIHRoaXMub2ZmKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZXJzLm9uVGhyb3R0bGVkUmVzaXplKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5fcGx1Z2lucykge1xyXG4gICAgICAgICAgICB0aGlzLl9wbHVnaW5zW2ldLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCcuY2xvbmVkJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuJHN0YWdlLnVud3JhcCgpO1xyXG4gICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCkuY29udGVudHMoKS51bndyYXAoKTtcclxuICAgICAgICB0aGlzLiRzdGFnZS5jaGlsZHJlbigpLnVud3JhcCgpO1xyXG5cclxuICAgICAgICB0aGlzLiRlbGVtZW50XHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMucmVmcmVzaENsYXNzKVxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmxvYWRpbmdDbGFzcylcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5sb2FkZWRDbGFzcylcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5ydGxDbGFzcylcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5kcmFnQ2xhc3MpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZ3JhYkNsYXNzKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCB0aGlzLiRlbGVtZW50LmF0dHIoJ2NsYXNzJykucmVwbGFjZShuZXcgUmVnRXhwKHRoaXMub3B0aW9ucy5yZXNwb25zaXZlQ2xhc3MgKyAnLVxcXFxTK1xcXFxzJywgJ2cnKSwgJycpKVxyXG4gICAgICAgICAgICAucmVtb3ZlRGF0YSgnb3dsLmNhcm91c2VsJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogT3BlcmF0b3JzIHRvIGNhbGN1bGF0ZSByaWdodC10by1sZWZ0IGFuZCBsZWZ0LXRvLXJpZ2h0LlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFthXSAtIFRoZSBsZWZ0IHNpZGUgb3BlcmFuZC5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb10gLSBUaGUgb3BlcmF0b3IuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2JdIC0gVGhlIHJpZ2h0IHNpZGUgb3BlcmFuZC5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5vcCA9IGZ1bmN0aW9uKGEsIG8sIGIpIHtcclxuICAgICAgICB2YXIgcnRsID0gdGhpcy5zZXR0aW5ncy5ydGw7XHJcbiAgICAgICAgc3dpdGNoIChvKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJzwnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ0bCA/IGEgPiBiIDogYSA8IGI7XHJcbiAgICAgICAgICAgIGNhc2UgJz4nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ0bCA/IGEgPCBiIDogYSA+IGI7XHJcbiAgICAgICAgICAgIGNhc2UgJz49JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBydGwgPyBhIDw9IGIgOiBhID49IGI7XHJcbiAgICAgICAgICAgIGNhc2UgJzw9JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBydGwgPyBhID49IGIgOiBhIDw9IGI7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXR0YWNoZXMgdG8gYW4gaW50ZXJuYWwgZXZlbnQuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gVGhlIGV2ZW50IHNvdXJjZS5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCAtIFRoZSBldmVudCBuYW1lLlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgLSBUaGUgZXZlbnQgaGFuZGxlciB0byBhdHRhY2guXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGNhcHR1cmUgLSBXZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkIGF0IHRoZSBjYXB0dXJpbmcgcGhhc2Ugb3Igbm90LlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uID0gZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIGxpc3RlbmVyLCBjYXB0dXJlKSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBjYXB0dXJlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuYXR0YWNoRXZlbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5hdHRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGV0YWNoZXMgZnJvbSBhbiBpbnRlcm5hbCBldmVudC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBUaGUgZXZlbnQgc291cmNlLlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IC0gVGhlIGV2ZW50IG5hbWUuXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciAtIFRoZSBhdHRhY2hlZCBldmVudCBoYW5kbGVyIHRvIGRldGFjaC5cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gY2FwdHVyZSAtIFdldGhlciB0aGUgYXR0YWNoZWQgZXZlbnQgaGFuZGxlciB3YXMgcmVnaXN0ZXJlZCBhcyBhIGNhcHR1cmluZyBsaXN0ZW5lciBvciBub3QuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIGxpc3RlbmVyLCBjYXB0dXJlKSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBjYXB0dXJlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZGV0YWNoRXZlbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5kZXRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlcnMgYSBwdWJsaWMgZXZlbnQuXHJcbiAgICAgKiBAdG9kbyBSZW1vdmUgYHN0YXR1c2AsIGByZWxhdGVkVGFyZ2V0YCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBUaGUgZXZlbnQgbmFtZS5cclxuICAgICAqIEBwYXJhbSB7Kn0gW2RhdGE9bnVsbF0gLSBUaGUgZXZlbnQgZGF0YS5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZXNwYWNlPWNhcm91c2VsXSAtIFRoZSBldmVudCBuYW1lc3BhY2UuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3N0YXRlXSAtIFRoZSBzdGF0ZSB3aGljaCBpcyBhc3NvY2lhdGVkIHdpdGggdGhlIGV2ZW50LlxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZW50ZXI9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIHRoZSBjYWxsIGVudGVycyB0aGUgc3BlY2lmaWVkIHN0YXRlIG9yIG5vdC5cclxuICAgICAqIEByZXR1cm5zIHtFdmVudH0gLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbihuYW1lLCBkYXRhLCBuYW1lc3BhY2UsIHN0YXRlLCBlbnRlcikge1xyXG4gICAgICAgIHZhciBzdGF0dXMgPSB7XHJcbiAgICAgICAgICAgIGl0ZW06IHsgY291bnQ6IHRoaXMuX2l0ZW1zLmxlbmd0aCwgaW5kZXg6IHRoaXMuY3VycmVudCgpIH1cclxuICAgICAgICB9LCBoYW5kbGVyID0gJC5jYW1lbENhc2UoXHJcbiAgICAgICAgICAgICQuZ3JlcChbICdvbicsIG5hbWUsIG5hbWVzcGFjZSBdLCBmdW5jdGlvbih2KSB7IHJldHVybiB2IH0pXHJcbiAgICAgICAgICAgICAgICAuam9pbignLScpLnRvTG93ZXJDYXNlKClcclxuICAgICAgICApLCBldmVudCA9ICQuRXZlbnQoXHJcbiAgICAgICAgICAgIFsgbmFtZSwgJ293bCcsIG5hbWVzcGFjZSB8fCAnY2Fyb3VzZWwnIF0uam9pbignLicpLnRvTG93ZXJDYXNlKCksXHJcbiAgICAgICAgICAgICQuZXh0ZW5kKHsgcmVsYXRlZFRhcmdldDogdGhpcyB9LCBzdGF0dXMsIGRhdGEpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9zdXByZXNzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICQuZWFjaCh0aGlzLl9wbHVnaW5zLCBmdW5jdGlvbihuYW1lLCBwbHVnaW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4ub25UcmlnZ2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLm9uVHJpZ2dlcihldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcih7IHR5cGU6IE93bC5UeXBlLkV2ZW50LCBuYW1lOiBuYW1lIH0pO1xyXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZXZlbnQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MgJiYgdHlwZW9mIHRoaXMuc2V0dGluZ3NbaGFuZGxlcl0gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NbaGFuZGxlcl0uY2FsbCh0aGlzLCBldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBldmVudDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFbnRlcnMgYSBzdGF0ZS5cclxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIHN0YXRlIG5hbWUuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgICAgJC5lYWNoKFsgbmFtZSBdLmNvbmNhdCh0aGlzLl9zdGF0ZXMudGFnc1tuYW1lXSB8fCBbXSksICQucHJveHkoZnVuY3Rpb24oaSwgbmFtZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc3RhdGVzLmN1cnJlbnRbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGVzLmN1cnJlbnRbbmFtZV0gPSAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZXMuY3VycmVudFtuYW1lXSsrO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMZWF2ZXMgYSBzdGF0ZS5cclxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIHN0YXRlIG5hbWUuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUubGVhdmUgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgICAgJC5lYWNoKFsgbmFtZSBdLmNvbmNhdCh0aGlzLl9zdGF0ZXMudGFnc1tuYW1lXSB8fCBbXSksICQucHJveHkoZnVuY3Rpb24oaSwgbmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZXMuY3VycmVudFtuYW1lXS0tO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlcnMgYW4gZXZlbnQgb3Igc3RhdGUuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IC0gVGhlIGV2ZW50IG9yIHN0YXRlIHRvIHJlZ2lzdGVyLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24ob2JqZWN0KSB7XHJcbiAgICAgICAgaWYgKG9iamVjdC50eXBlID09PSBPd2wuVHlwZS5FdmVudCkge1xyXG4gICAgICAgICAgICBpZiAoISQuZXZlbnQuc3BlY2lhbFtvYmplY3QubmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICQuZXZlbnQuc3BlY2lhbFtvYmplY3QubmFtZV0gPSB7fTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCEkLmV2ZW50LnNwZWNpYWxbb2JqZWN0Lm5hbWVdLm93bCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9kZWZhdWx0ID0gJC5ldmVudC5zcGVjaWFsW29iamVjdC5uYW1lXS5fZGVmYXVsdDtcclxuICAgICAgICAgICAgICAgICQuZXZlbnQuc3BlY2lhbFtvYmplY3QubmFtZV0uX2RlZmF1bHQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kZWZhdWx0ICYmIF9kZWZhdWx0LmFwcGx5ICYmICghZS5uYW1lc3BhY2UgfHwgZS5uYW1lc3BhY2UuaW5kZXhPZignb3dsJykgPT09IC0xKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2RlZmF1bHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUubmFtZXNwYWNlICYmIGUubmFtZXNwYWNlLmluZGV4T2YoJ293bCcpID4gLTE7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJC5ldmVudC5zcGVjaWFsW29iamVjdC5uYW1lXS5vd2wgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChvYmplY3QudHlwZSA9PT0gT3dsLlR5cGUuU3RhdGUpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9zdGF0ZXMudGFnc1tvYmplY3QubmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlcy50YWdzW29iamVjdC5uYW1lXSA9IG9iamVjdC50YWdzO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGVzLnRhZ3Nbb2JqZWN0Lm5hbWVdID0gdGhpcy5fc3RhdGVzLnRhZ3Nbb2JqZWN0Lm5hbWVdLmNvbmNhdChvYmplY3QudGFncyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlcy50YWdzW29iamVjdC5uYW1lXSA9ICQuZ3JlcCh0aGlzLl9zdGF0ZXMudGFnc1tvYmplY3QubmFtZV0sICQucHJveHkoZnVuY3Rpb24odGFnLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5pbkFycmF5KHRhZywgdGhpcy5fc3RhdGVzLnRhZ3Nbb2JqZWN0Lm5hbWVdKSA9PT0gaTtcclxuICAgICAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdXBwcmVzc2VzIGV2ZW50cy5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IGV2ZW50cyAtIFRoZSBldmVudHMgdG8gc3VwcHJlc3MuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuc3VwcHJlc3MgPSBmdW5jdGlvbihldmVudHMpIHtcclxuICAgICAgICAkLmVhY2goZXZlbnRzLCAkLnByb3h5KGZ1bmN0aW9uKGluZGV4LCBldmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdXByZXNzW2V2ZW50XSA9IHRydWU7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbGVhc2VzIHN1cHByZXNzZWQgZXZlbnRzLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtBcnJheS48U3RyaW5nPn0gZXZlbnRzIC0gVGhlIGV2ZW50cyB0byByZWxlYXNlLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbihldmVudHMpIHtcclxuICAgICAgICAkLmVhY2goZXZlbnRzLCAkLnByb3h5KGZ1bmN0aW9uKGluZGV4LCBldmVudCkge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fc3VwcmVzc1tldmVudF07XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdW5pZmllZCBwb2ludGVyIGNvb3JkaW5hdGVzIGZyb20gZXZlbnQuXHJcbiAgICAgKiBAdG9kbyAjMjYxXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSAtIFRoZSBgbW91c2Vkb3duYCBvciBgdG91Y2hzdGFydGAgZXZlbnQuXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAtIENvbnRhaW5zIGB4YCBhbmQgYHlgIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcG9pbnRlciBwb3NpdGlvbi5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5wb2ludGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0geyB4OiBudWxsLCB5OiBudWxsIH07XHJcblxyXG4gICAgICAgIGV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudCB8fCBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XHJcblxyXG4gICAgICAgIGV2ZW50ID0gZXZlbnQudG91Y2hlcyAmJiBldmVudC50b3VjaGVzLmxlbmd0aCA/XHJcbiAgICAgICAgICAgIGV2ZW50LnRvdWNoZXNbMF0gOiBldmVudC5jaGFuZ2VkVG91Y2hlcyAmJiBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggP1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0gOiBldmVudDtcclxuXHJcbiAgICAgICAgaWYgKGV2ZW50LnBhZ2VYKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC54ID0gZXZlbnQucGFnZVg7XHJcbiAgICAgICAgICAgIHJlc3VsdC55ID0gZXZlbnQucGFnZVk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0LnggPSBldmVudC5jbGllbnRYO1xyXG4gICAgICAgICAgICByZXN1bHQueSA9IGV2ZW50LmNsaWVudFk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERldGVybWluZXMgaWYgdGhlIGlucHV0IGlzIGEgTnVtYmVyIG9yIHNvbWV0aGluZyB0aGF0IGNhbiBiZSBjb2VyY2VkIHRvIGEgTnVtYmVyXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd8T2JqZWN0fEFycmF5fEJvb2xlYW58UmVnRXhwfEZ1bmN0aW9ufFN5bWJvbH0gLSBUaGUgaW5wdXQgdG8gYmUgdGVzdGVkXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gLSBBbiBpbmRpY2F0aW9uIGlmIHRoZSBpbnB1dCBpcyBhIE51bWJlciBvciBjYW4gYmUgY29lcmNlZCB0byBhIE51bWJlclxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmlzTnVtZXJpYyA9IGZ1bmN0aW9uKG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChudW1iZXIpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBkaWZmZXJlbmNlIG9mIHR3byB2ZWN0b3JzLlxyXG4gICAgICogQHRvZG8gIzI2MVxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IC0gVGhlIGZpcnN0IHZlY3Rvci5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAtIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gICAgICogQHJldHVybnMge09iamVjdH0gLSBUaGUgZGlmZmVyZW5jZS5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5kaWZmZXJlbmNlID0gZnVuY3Rpb24oZmlyc3QsIHNlY29uZCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IGZpcnN0LnggLSBzZWNvbmQueCxcclxuICAgICAgICAgICAgeTogZmlyc3QueSAtIHNlY29uZC55XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgalF1ZXJ5IFBsdWdpbiBmb3IgdGhlIE93bCBDYXJvdXNlbFxyXG4gICAgICogQHRvZG8gTmF2aWdhdGlvbiBwbHVnaW4gYG5leHRgIGFuZCBgcHJldmBcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgJC5mbi5vd2xDYXJvdXNlbCA9IGZ1bmN0aW9uKG9wdGlvbikge1xyXG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgIGRhdGEgPSAkdGhpcy5kYXRhKCdvd2wuY2Fyb3VzZWwnKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YSA9IG5ldyBPd2wodGhpcywgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnb3dsLmNhcm91c2VsJywgZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJC5lYWNoKFtcclxuICAgICAgICAgICAgICAgICAgICAnbmV4dCcsICdwcmV2JywgJ3RvJywgJ2Rlc3Ryb3knLCAncmVmcmVzaCcsICdyZXBsYWNlJywgJ2FkZCcsICdyZW1vdmUnXHJcbiAgICAgICAgICAgICAgICBdLCBmdW5jdGlvbihpLCBldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEucmVnaXN0ZXIoeyB0eXBlOiBPd2wuVHlwZS5FdmVudCwgbmFtZTogZXZlbnQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS4kZWxlbWVudC5vbihldmVudCArICcub3dsLmNhcm91c2VsLmNvcmUnLCAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIGUucmVsYXRlZFRhcmdldCAhPT0gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdXBwcmVzcyhbIGV2ZW50IF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtldmVudF0uYXBwbHkodGhpcywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZShbIGV2ZW50IF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnICYmIG9wdGlvbi5jaGFyQXQoMCkgIT09ICdfJykge1xyXG4gICAgICAgICAgICAgICAgZGF0YVtvcHRpb25dLmFwcGx5KGRhdGEsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgalF1ZXJ5IFBsdWdpblxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICAkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yID0gT3dsO1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIEF1dG9SZWZyZXNoIFBsdWdpblxyXG4gKiBAdmVyc2lvbiAyLjEuMFxyXG4gKiBAYXV0aG9yIEFydHVzIEtvbGFub3dza2lcclxuICogQGF1dGhvciBEYXZpZCBEZXV0c2NoXHJcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG4gKi9cclxuOyhmdW5jdGlvbigkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgdGhlIGF1dG8gcmVmcmVzaCBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIEF1dG8gUmVmcmVzaCBQbHVnaW5cclxuICAgICAqIEBwYXJhbSB7T3dsfSBjYXJvdXNlbCAtIFRoZSBPd2wgQ2Fyb3VzZWxcclxuICAgICAqL1xyXG4gICAgdmFyIEF1dG9SZWZyZXNoID0gZnVuY3Rpb24oY2Fyb3VzZWwpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPd2x9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY29yZSA9IGNhcm91c2VsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZyZXNoIGludGVydmFsLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogV2hldGhlciB0aGUgZWxlbWVudCBpcyBjdXJyZW50bHkgdmlzaWJsZSBvciBub3QuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3Zpc2libGUgPSBudWxsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbGwgZXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICAgICdpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9SZWZyZXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcclxuICAgICAgICB0aGlzLl9jb3JlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQXV0b1JlZnJlc2guRGVmYXVsdHMsIHRoaXMuX2NvcmUub3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBvcHRpb25zLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBBdXRvUmVmcmVzaC5EZWZhdWx0cyA9IHtcclxuICAgICAgICBhdXRvUmVmcmVzaDogdHJ1ZSxcclxuICAgICAgICBhdXRvUmVmcmVzaEludGVydmFsOiA1MDBcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXYXRjaGVzIHRoZSBlbGVtZW50LlxyXG4gICAgICovXHJcbiAgICBBdXRvUmVmcmVzaC5wcm90b3R5cGUud2F0Y2ggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5faW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHRoaXMuX2NvcmUuJGVsZW1lbnQuaXMoJzp2aXNpYmxlJyk7XHJcbiAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoJC5wcm94eSh0aGlzLnJlZnJlc2gsIHRoaXMpLCB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9SZWZyZXNoSW50ZXJ2YWwpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlZnJlc2hlcyB0aGUgZWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgQXV0b1JlZnJlc2gucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5fY29yZS4kZWxlbWVudC5pcygnOnZpc2libGUnKSA9PT0gdGhpcy5fdmlzaWJsZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl92aXNpYmxlID0gIXRoaXMuX3Zpc2libGU7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ293bC1oaWRkZW4nLCAhdGhpcy5fdmlzaWJsZSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3Zpc2libGUgJiYgKHRoaXMuX2NvcmUuaW52YWxpZGF0ZSgnd2lkdGgnKSAmJiB0aGlzLl9jb3JlLnJlZnJlc2goKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbi5cclxuICAgICAqL1xyXG4gICAgQXV0b1JlZnJlc2gucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgcHJvcGVydHk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsKTtcclxuXHJcbiAgICAgICAgZm9yIChoYW5kbGVyIGluIHRoaXMuX2hhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT0gJ2Z1bmN0aW9uJyAmJiAodGhpc1twcm9wZXJ0eV0gPSBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5BdXRvUmVmcmVzaCA9IEF1dG9SZWZyZXNoO1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIExhenkgUGx1Z2luXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgQmFydG9zeiBXb2pjaWVjaG93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHRoZSBsYXp5IHBsdWdpbi5cclxuICAgICAqIEBjbGFzcyBUaGUgTGF6eSBQbHVnaW5cclxuICAgICAqIEBwYXJhbSB7T3dsfSBjYXJvdXNlbCAtIFRoZSBPd2wgQ2Fyb3VzZWxcclxuICAgICAqL1xyXG4gICAgdmFyIExhenkgPSBmdW5jdGlvbihjYXJvdXNlbCkge1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPd2x9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY29yZSA9IGNhcm91c2VsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbHJlYWR5IGxvYWRlZCBpdGVtcy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge0FycmF5LjxqUXVlcnk+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBFdmVudCBoYW5kbGVycy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9oYW5kbGVycyA9IHtcclxuICAgICAgICAgICAgJ2luaXRpYWxpemVkLm93bC5jYXJvdXNlbCBjaGFuZ2Uub3dsLmNhcm91c2VsIHJlc2l6ZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWUubmFtZXNwYWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY29yZS5zZXR0aW5ncyB8fCAhdGhpcy5fY29yZS5zZXR0aW5ncy5sYXp5TG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoKGUucHJvcGVydHkgJiYgZS5wcm9wZXJ0eS5uYW1lID09ICdwb3NpdGlvbicpIHx8IGUudHlwZSA9PSAnaW5pdGlhbGl6ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5fY29yZS5zZXR0aW5ncyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbiA9IChzZXR0aW5ncy5jZW50ZXIgJiYgTWF0aC5jZWlsKHNldHRpbmdzLml0ZW1zIC8gMikgfHwgc2V0dGluZ3MuaXRlbXMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gKChzZXR0aW5ncy5jZW50ZXIgJiYgbiAqIC0xKSB8fCAwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSAoZS5wcm9wZXJ0eSAmJiBlLnByb3BlcnR5LnZhbHVlICE9PSB1bmRlZmluZWQgPyBlLnByb3BlcnR5LnZhbHVlIDogdGhpcy5fY29yZS5jdXJyZW50KCkpICsgaSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVzID0gdGhpcy5fY29yZS5jbG9uZXMoKS5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWQgPSAkLnByb3h5KGZ1bmN0aW9uKGksIHYpIHsgdGhpcy5sb2FkKHYpIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSsrIDwgbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWQoY2xvbmVzIC8gMiArIHRoaXMuX2NvcmUucmVsYXRpdmUocG9zaXRpb24pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVzICYmICQuZWFjaCh0aGlzLl9jb3JlLmNsb25lcyh0aGlzLl9jb3JlLnJlbGF0aXZlKHBvc2l0aW9uKSksIGxvYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbisrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcylcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZXQgdGhlIGRlZmF1bHQgb3B0aW9uc1xyXG4gICAgICAgIHRoaXMuX2NvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBMYXp5LkRlZmF1bHRzLCB0aGlzLl9jb3JlLm9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciBldmVudCBoYW5kbGVyXHJcbiAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBvcHRpb25zLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBMYXp5LkRlZmF1bHRzID0ge1xyXG4gICAgICAgIGxhenlMb2FkOiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWRzIGFsbCByZXNvdXJjZXMgb2YgYW4gaXRlbSBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBpdGVtLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBMYXp5LnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICB2YXIgJGl0ZW0gPSB0aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLmVxKHBvc2l0aW9uKSxcclxuICAgICAgICAgICAgJGVsZW1lbnRzID0gJGl0ZW0gJiYgJGl0ZW0uZmluZCgnLm93bC1sYXp5Jyk7XHJcblxyXG4gICAgICAgIGlmICghJGVsZW1lbnRzIHx8ICQuaW5BcnJheSgkaXRlbS5nZXQoMCksIHRoaXMuX2xvYWRlZCkgPiAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkZWxlbWVudHMuZWFjaCgkLnByb3h5KGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudCksIGltYWdlLFxyXG4gICAgICAgICAgICAgICAgdXJsID0gKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID4gMSAmJiAkZWxlbWVudC5hdHRyKCdkYXRhLXNyYy1yZXRpbmEnKSkgfHwgJGVsZW1lbnQuYXR0cignZGF0YS1zcmMnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignbG9hZCcsIHsgZWxlbWVudDogJGVsZW1lbnQsIHVybDogdXJsIH0sICdsYXp5Jyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoJGVsZW1lbnQuaXMoJ2ltZycpKSB7XHJcbiAgICAgICAgICAgICAgICAkZWxlbWVudC5vbmUoJ2xvYWQub3dsLmxhenknLCAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50LmNzcygnb3BhY2l0eScsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignbG9hZGVkJywgeyBlbGVtZW50OiAkZWxlbWVudCwgdXJsOiB1cmwgfSwgJ2xhenknKTtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpKS5hdHRyKCdzcmMnLCB1cmwpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9ICQucHJveHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtaW1hZ2UnOiAndXJsKFwiJyArIHVybCArICdcIiknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnb3BhY2l0eSc6ICcxJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignbG9hZGVkJywgeyBlbGVtZW50OiAkZWxlbWVudCwgdXJsOiB1cmwgfSwgJ2xhenknKTtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0gdXJsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLl9sb2FkZWQucHVzaCgkaXRlbS5nZXQoMCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIExhenkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgcHJvcGVydHk7XHJcblxyXG4gICAgICAgIGZvciAoaGFuZGxlciBpbiB0aGlzLmhhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuaGFuZGxlcnNbaGFuZGxlcl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByb3BlcnR5IGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzW3Byb3BlcnR5XSAhPSAnZnVuY3Rpb24nICYmICh0aGlzW3Byb3BlcnR5XSA9IG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLkxhenkgPSBMYXp5O1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIEF1dG9IZWlnaHQgUGx1Z2luXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgQmFydG9zeiBXb2pjaWVjaG93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHRoZSBhdXRvIGhlaWdodCBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIEF1dG8gSGVpZ2h0IFBsdWdpblxyXG4gICAgICogQHBhcmFtIHtPd2x9IGNhcm91c2VsIC0gVGhlIE93bCBDYXJvdXNlbFxyXG4gICAgICovXHJcbiAgICB2YXIgQXV0b0hlaWdodCA9IGZ1bmN0aW9uKGNhcm91c2VsKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBjb3JlLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T3dsfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2NvcmUgPSBjYXJvdXNlbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0ge1xyXG4gICAgICAgICAgICAnaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsIHJlZnJlc2hlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9IZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2NoYW5nZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvSGVpZ2h0ICYmIGUucHJvcGVydHkubmFtZSA9PSAncG9zaXRpb24nKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2xvYWRlZC5vd2wubGF6eSc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b0hlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgICYmIGUuZWxlbWVudC5jbG9zZXN0KCcuJyArIHRoaXMuX2NvcmUuc2V0dGluZ3MuaXRlbUNsYXNzKS5pbmRleCgpID09PSB0aGlzLl9jb3JlLmN1cnJlbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xyXG4gICAgICAgIHRoaXMuX2NvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBBdXRvSGVpZ2h0LkRlZmF1bHRzLCB0aGlzLl9jb3JlLm9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciBldmVudCBoYW5kbGVyc1xyXG4gICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgQXV0b0hlaWdodC5EZWZhdWx0cyA9IHtcclxuICAgICAgICBhdXRvSGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICBhdXRvSGVpZ2h0Q2xhc3M6ICdvd2wtaGVpZ2h0J1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgdGhlIHZpZXcuXHJcbiAgICAgKi9cclxuICAgIEF1dG9IZWlnaHQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMuX2NvcmUuX2N1cnJlbnQsXHJcbiAgICAgICAgICAgIGVuZCA9IHN0YXJ0ICsgdGhpcy5fY29yZS5zZXR0aW5ncy5pdGVtcyxcclxuICAgICAgICAgICAgdmlzaWJsZSA9IHRoaXMuX2NvcmUuJHN0YWdlLmNoaWxkcmVuKCkudG9BcnJheSgpLnNsaWNlKHN0YXJ0LCBlbmQpLFxyXG4gICAgICAgICAgICBoZWlnaHRzID0gW10sXHJcbiAgICAgICAgICAgIG1heGhlaWdodCA9IDA7XHJcblxyXG4gICAgICAgICQuZWFjaCh2aXNpYmxlLCBmdW5jdGlvbihpbmRleCwgaXRlbSkge1xyXG4gICAgICAgICAgICBoZWlnaHRzLnB1c2goJChpdGVtKS5oZWlnaHQoKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1heGhlaWdodCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGhlaWdodHMpO1xyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLiRzdGFnZS5wYXJlbnQoKVxyXG4gICAgICAgICAgICAuaGVpZ2h0KG1heGhlaWdodClcclxuICAgICAgICAgICAgLmFkZENsYXNzKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b0hlaWdodENsYXNzKTtcclxuICAgIH07XHJcblxyXG4gICAgQXV0b0hlaWdodC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVyLCBwcm9wZXJ0eTtcclxuXHJcbiAgICAgICAgZm9yIChoYW5kbGVyIGluIHRoaXMuX2hhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT0gJ2Z1bmN0aW9uJyAmJiAodGhpc1twcm9wZXJ0eV0gPSBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5BdXRvSGVpZ2h0ID0gQXV0b0hlaWdodDtcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBWaWRlbyBQbHVnaW5cclxuICogQHZlcnNpb24gMi4xLjBcclxuICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2lcclxuICogQGF1dGhvciBEYXZpZCBEZXV0c2NoXHJcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG4gKi9cclxuOyhmdW5jdGlvbigkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgdGhlIHZpZGVvIHBsdWdpbi5cclxuICAgICAqIEBjbGFzcyBUaGUgVmlkZW8gUGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge093bH0gY2Fyb3VzZWwgLSBUaGUgT3dsIENhcm91c2VsXHJcbiAgICAgKi9cclxuICAgIHZhciBWaWRlbyA9IGZ1bmN0aW9uKGNhcm91c2VsKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBjb3JlLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T3dsfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2NvcmUgPSBjYXJvdXNlbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FjaGUgYWxsIHZpZGVvIFVSTHMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fdmlkZW9zID0ge307XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnQgcGxheWluZyBpdGVtLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7alF1ZXJ5fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3BsYXlpbmcgPSBudWxsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbGwgZXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgICAgICogQHRvZG8gVGhlIGNsb25lZCBjb250ZW50IHJlbW92YWxlIGlzIHRvbyBsYXRlXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICAgICdpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUucmVnaXN0ZXIoeyB0eXBlOiAnc3RhdGUnLCBuYW1lOiAncGxheWluZycsIHRhZ3M6IFsgJ2ludGVyYWN0aW5nJyBdIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ3Jlc2l6ZS5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLnZpZGVvICYmIHRoaXMuaXNJbkZ1bGxTY3JlZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdyZWZyZXNoZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5pcygncmVzaXppbmcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUuJHN0YWdlLmZpbmQoJy5jbG9uZWQgLm93bC12aWRlby1mcmFtZScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2NoYW5nZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgZS5wcm9wZXJ0eS5uYW1lID09PSAncG9zaXRpb24nICYmIHRoaXMuX3BsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdwcmVwYXJlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZS5uYW1lc3BhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyICRlbGVtZW50ID0gJChlLmNvbnRlbnQpLmZpbmQoJy5vd2wtdmlkZW8nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJGVsZW1lbnQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZldGNoKCRlbGVtZW50LCAkKGUuY29udGVudCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcclxuICAgICAgICB0aGlzLl9jb3JlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgVmlkZW8uRGVmYXVsdHMsIHRoaXMuX2NvcmUub3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub24oJ2NsaWNrLm93bC52aWRlbycsICcub3dsLXZpZGVvLXBsYXktaWNvbicsICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXkoZSk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgVmlkZW8uRGVmYXVsdHMgPSB7XHJcbiAgICAgICAgdmlkZW86IGZhbHNlLFxyXG4gICAgICAgIHZpZGVvSGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICB2aWRlb1dpZHRoOiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHZpZGVvIElEIGFuZCB0aGUgdHlwZSAoWW91VHViZS9WaW1lby92emFhciBvbmx5KS5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSB0YXJnZXQgLSBUaGUgdGFyZ2V0IGNvbnRhaW5pbmcgdGhlIHZpZGVvIGRhdGEuXHJcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gaXRlbSAtIFRoZSBpdGVtIGNvbnRhaW5pbmcgdGhlIHZpZGVvLlxyXG4gICAgICovXHJcbiAgICBWaWRlby5wcm90b3R5cGUuZmV0Y2ggPSBmdW5jdGlvbih0YXJnZXQsIGl0ZW0pIHtcclxuICAgICAgICB2YXIgdHlwZSA9IChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuYXR0cignZGF0YS12aW1lby1pZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2aW1lbyc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldC5hdHRyKCdkYXRhLXZ6YWFyLWlkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3Z6YWFyJ1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3lvdXR1YmUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSgpLFxyXG4gICAgICAgICAgICBpZCA9IHRhcmdldC5hdHRyKCdkYXRhLXZpbWVvLWlkJykgfHwgdGFyZ2V0LmF0dHIoJ2RhdGEteW91dHViZS1pZCcpIHx8IHRhcmdldC5hdHRyKCdkYXRhLXZ6YWFyLWlkJyksXHJcbiAgICAgICAgICAgIHdpZHRoID0gdGFyZ2V0LmF0dHIoJ2RhdGEtd2lkdGgnKSB8fCB0aGlzLl9jb3JlLnNldHRpbmdzLnZpZGVvV2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodCA9IHRhcmdldC5hdHRyKCdkYXRhLWhlaWdodCcpIHx8IHRoaXMuX2NvcmUuc2V0dGluZ3MudmlkZW9IZWlnaHQsXHJcbiAgICAgICAgICAgIHVybCA9IHRhcmdldC5hdHRyKCdocmVmJyk7XHJcblxyXG4gICAgICAgIGlmICh1cmwpIHtcclxuXHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgICAgUGFyc2VzIHRoZSBpZCdzIG91dCBvZiB0aGUgZm9sbG93aW5nIHVybHMgKGFuZCBwcm9iYWJseSBtb3JlKTpcclxuICAgICAgICAgICAgICAgICAgICBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PTppZFxyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBzOi8veW91dHUuYmUvOmlkXHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cHM6Ly92aW1lby5jb20vOmlkXHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cHM6Ly92aW1lby5jb20vY2hhbm5lbHMvOmNoYW5uZWwvOmlkXHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cHM6Ly92aW1lby5jb20vZ3JvdXBzLzpncm91cC92aWRlb3MvOmlkXHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cHM6Ly9hcHAudnphYXIuY29tL3ZpZGVvcy86aWRcclxuICAgICAgICAgICAgICAgICAgICBWaXN1YWwgZXhhbXBsZTogaHR0cHM6Ly9yZWdleHBlci5jb20vIyhodHRwJTNBJTdDaHR0cHMlM0ElN0MpJTVDJTJGJTVDJTJGKHBsYXllci4lN0N3d3cuJTdDYXBwLiklM0YodmltZW8lNUMuY29tJTdDeW91dHUoYmUlNUMuY29tJTdDJTVDLmJlJTdDYmUlNUMuZ29vZ2xlYXBpcyU1Qy5jb20pJTdDdnphYXIlNUMuY29tKSU1QyUyRih2aWRlbyU1QyUyRiU3Q3ZpZGVvcyU1QyUyRiU3Q2VtYmVkJTVDJTJGJTdDY2hhbm5lbHMlNUMlMkYuJTJCJTVDJTJGJTdDZ3JvdXBzJTVDJTJGLiUyQiU1QyUyRiU3Q3dhdGNoJTVDJTNGdiUzRCU3Q3YlNUMlMkYpJTNGKCU1QkEtWmEtejAtOS5fJTI1LSU1RCopKCU1QyUyNiU1Q1MlMkIpJTNGXHJcbiAgICAgICAgICAgICovXHJcblxyXG4gICAgICAgICAgICBpZCA9IHVybC5tYXRjaCgvKGh0dHA6fGh0dHBzOnwpXFwvXFwvKHBsYXllci58d3d3LnxhcHAuKT8odmltZW9cXC5jb218eW91dHUoYmVcXC5jb218XFwuYmV8YmVcXC5nb29nbGVhcGlzXFwuY29tKXx2emFhclxcLmNvbSlcXC8odmlkZW9cXC98dmlkZW9zXFwvfGVtYmVkXFwvfGNoYW5uZWxzXFwvLitcXC98Z3JvdXBzXFwvLitcXC98d2F0Y2hcXD92PXx2XFwvKT8oW0EtWmEtejAtOS5fJS1dKikoXFwmXFxTKyk/Lyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaWRbM10uaW5kZXhPZigneW91dHUnKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gJ3lvdXR1YmUnO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlkWzNdLmluZGV4T2YoJ3ZpbWVvJykgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9ICd2aW1lbyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaWRbM10uaW5kZXhPZigndnphYXInKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gJ3Z6YWFyJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVmlkZW8gVVJMIG5vdCBzdXBwb3J0ZWQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWQgPSBpZFs2XTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdmlkZW8gVVJMLicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdmlkZW9zW3VybF0gPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgIGlkOiBpZCxcclxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGl0ZW0uYXR0cignZGF0YS12aWRlbycsIHVybCk7XHJcblxyXG4gICAgICAgIHRoaXMudGh1bWJuYWlsKHRhcmdldCwgdGhpcy5fdmlkZW9zW3VybF0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgdmlkZW8gdGh1bWJuYWlsLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtqUXVlcnl9IHRhcmdldCAtIFRoZSB0YXJnZXQgY29udGFpbmluZyB0aGUgdmlkZW8gZGF0YS5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvIC0gVGhlIHZpZGVvIGluZm8gb2JqZWN0LlxyXG4gICAgICogQHNlZSBgZmV0Y2hgXHJcbiAgICAgKi9cclxuICAgIFZpZGVvLnByb3RvdHlwZS50aHVtYm5haWwgPSBmdW5jdGlvbih0YXJnZXQsIHZpZGVvKSB7XHJcbiAgICAgICAgdmFyIHRuTGluayxcclxuICAgICAgICAgICAgaWNvbixcclxuICAgICAgICAgICAgcGF0aCxcclxuICAgICAgICAgICAgZGltZW5zaW9ucyA9IHZpZGVvLndpZHRoICYmIHZpZGVvLmhlaWdodCA/ICdzdHlsZT1cIndpZHRoOicgKyB2aWRlby53aWR0aCArICdweDtoZWlnaHQ6JyArIHZpZGVvLmhlaWdodCArICdweDtcIicgOiAnJyxcclxuICAgICAgICAgICAgY3VzdG9tVG4gPSB0YXJnZXQuZmluZCgnaW1nJyksXHJcbiAgICAgICAgICAgIHNyY1R5cGUgPSAnc3JjJyxcclxuICAgICAgICAgICAgbGF6eUNsYXNzID0gJycsXHJcbiAgICAgICAgICAgIHNldHRpbmdzID0gdGhpcy5fY29yZS5zZXR0aW5ncyxcclxuICAgICAgICAgICAgY3JlYXRlID0gZnVuY3Rpb24ocGF0aCkge1xyXG4gICAgICAgICAgICAgICAgaWNvbiA9ICc8ZGl2IGNsYXNzPVwib3dsLXZpZGVvLXBsYXktaWNvblwiPjwvZGl2Pic7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLmxhenlMb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG5MaW5rID0gJzxkaXYgY2xhc3M9XCJvd2wtdmlkZW8tdG4gJyArIGxhenlDbGFzcyArICdcIiAnICsgc3JjVHlwZSArICc9XCInICsgcGF0aCArICdcIj48L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0bkxpbmsgPSAnPGRpdiBjbGFzcz1cIm93bC12aWRlby10blwiIHN0eWxlPVwib3BhY2l0eToxO2JhY2tncm91bmQtaW1hZ2U6dXJsKCcgKyBwYXRoICsgJylcIj48L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmFmdGVyKHRuTGluayk7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuYWZ0ZXIoaWNvbik7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHdyYXAgdmlkZW8gY29udGVudCBpbnRvIG93bC12aWRlby13cmFwcGVyIGRpdlxyXG4gICAgICAgIHRhcmdldC53cmFwKCc8ZGl2IGNsYXNzPVwib3dsLXZpZGVvLXdyYXBwZXJcIicgKyBkaW1lbnNpb25zICsgJz48L2Rpdj4nKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MubGF6eUxvYWQpIHtcclxuICAgICAgICAgICAgc3JjVHlwZSA9ICdkYXRhLXNyYyc7XHJcbiAgICAgICAgICAgIGxhenlDbGFzcyA9ICdvd2wtbGF6eSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBjdXN0b20gdGh1bWJuYWlsXHJcbiAgICAgICAgaWYgKGN1c3RvbVRuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjcmVhdGUoY3VzdG9tVG4uYXR0cihzcmNUeXBlKSk7XHJcbiAgICAgICAgICAgIGN1c3RvbVRuLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodmlkZW8udHlwZSA9PT0gJ3lvdXR1YmUnKSB7XHJcbiAgICAgICAgICAgIHBhdGggPSBcIi8vaW1nLnlvdXR1YmUuY29tL3ZpL1wiICsgdmlkZW8uaWQgKyBcIi9ocWRlZmF1bHQuanBnXCI7XHJcbiAgICAgICAgICAgIGNyZWF0ZShwYXRoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHZpZGVvLnR5cGUgPT09ICd2aW1lbycpIHtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnLy92aW1lby5jb20vYXBpL3YyL3ZpZGVvLycgKyB2aWRlby5pZCArICcuanNvbicsXHJcbiAgICAgICAgICAgICAgICBqc29ucDogJ2NhbGxiYWNrJyxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbnAnLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBkYXRhWzBdLnRodW1ibmFpbF9sYXJnZTtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGUocGF0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmlkZW8udHlwZSA9PT0gJ3Z6YWFyJykge1xyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvL3Z6YWFyLmNvbS9hcGkvdmlkZW9zLycgKyB2aWRlby5pZCArICcuanNvbicsXHJcbiAgICAgICAgICAgICAgICBqc29ucDogJ2NhbGxiYWNrJyxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbnAnLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBkYXRhLmZyYW1lZ3JhYl91cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlKHBhdGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RvcHMgdGhlIGN1cnJlbnQgdmlkZW8uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIFZpZGVvLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fY29yZS50cmlnZ2VyKCdzdG9wJywgbnVsbCwgJ3ZpZGVvJyk7XHJcbiAgICAgICAgdGhpcy5fcGxheWluZy5maW5kKCcub3dsLXZpZGVvLWZyYW1lJykucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5fcGxheWluZy5yZW1vdmVDbGFzcygnb3dsLXZpZGVvLXBsYXlpbmcnKTtcclxuICAgICAgICB0aGlzLl9wbGF5aW5nID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9jb3JlLmxlYXZlKCdwbGF5aW5nJyk7XHJcbiAgICAgICAgdGhpcy5fY29yZS50cmlnZ2VyKCdzdG9wcGVkJywgbnVsbCwgJ3ZpZGVvJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RhcnRzIHRoZSBjdXJyZW50IHZpZGVvLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBWaWRlby5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KSxcclxuICAgICAgICAgICAgaXRlbSA9IHRhcmdldC5jbG9zZXN0KCcuJyArIHRoaXMuX2NvcmUuc2V0dGluZ3MuaXRlbUNsYXNzKSxcclxuICAgICAgICAgICAgdmlkZW8gPSB0aGlzLl92aWRlb3NbaXRlbS5hdHRyKCdkYXRhLXZpZGVvJyldLFxyXG4gICAgICAgICAgICB3aWR0aCA9IHZpZGVvLndpZHRoIHx8ICcxMDAlJyxcclxuICAgICAgICAgICAgaGVpZ2h0ID0gdmlkZW8uaGVpZ2h0IHx8IHRoaXMuX2NvcmUuJHN0YWdlLmhlaWdodCgpLFxyXG4gICAgICAgICAgICBodG1sO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fcGxheWluZykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLmVudGVyKCdwbGF5aW5nJyk7XHJcbiAgICAgICAgdGhpcy5fY29yZS50cmlnZ2VyKCdwbGF5JywgbnVsbCwgJ3ZpZGVvJyk7XHJcblxyXG4gICAgICAgIGl0ZW0gPSB0aGlzLl9jb3JlLml0ZW1zKHRoaXMuX2NvcmUucmVsYXRpdmUoaXRlbS5pbmRleCgpKSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvcmUucmVzZXQoaXRlbS5pbmRleCgpKTtcclxuXHJcbiAgICAgICAgaWYgKHZpZGVvLnR5cGUgPT09ICd5b3V0dWJlJykge1xyXG4gICAgICAgICAgICBodG1sID0gJzxpZnJhbWUgd2lkdGg9XCInICsgd2lkdGggKyAnXCIgaGVpZ2h0PVwiJyArIGhlaWdodCArICdcIiBzcmM9XCIvL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8nICtcclxuICAgICAgICAgICAgICAgIHZpZGVvLmlkICsgJz9hdXRvcGxheT0xJnJlbD0wJnY9JyArIHZpZGVvLmlkICsgJ1wiIGZyYW1lYm9yZGVyPVwiMFwiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4nO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmlkZW8udHlwZSA9PT0gJ3ZpbWVvJykge1xyXG4gICAgICAgICAgICBodG1sID0gJzxpZnJhbWUgc3JjPVwiLy9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLycgKyB2aWRlby5pZCArXHJcbiAgICAgICAgICAgICAgICAnP2F1dG9wbGF5PTFcIiB3aWR0aD1cIicgKyB3aWR0aCArICdcIiBoZWlnaHQ9XCInICsgaGVpZ2h0ICtcclxuICAgICAgICAgICAgICAgICdcIiBmcmFtZWJvcmRlcj1cIjBcIiB3ZWJraXRhbGxvd2Z1bGxzY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4nO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmlkZW8udHlwZSA9PT0gJ3Z6YWFyJykge1xyXG4gICAgICAgICAgICBodG1sID0gJzxpZnJhbWUgZnJhbWVib3JkZXI9XCIwXCInICsgJ2hlaWdodD1cIicgKyBoZWlnaHQgKyAnXCInICsgJ3dpZHRoPVwiJyArIHdpZHRoICtcclxuICAgICAgICAgICAgICAgICdcIiBhbGxvd2Z1bGxzY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuIHdlYmtpdEFsbG93RnVsbFNjcmVlbiAnICtcclxuICAgICAgICAgICAgICAgICdzcmM9XCIvL3ZpZXcudnphYXIuY29tLycgKyB2aWRlby5pZCArICcvcGxheWVyP2F1dG9wbGF5PXRydWVcIj48L2lmcmFtZT4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJCgnPGRpdiBjbGFzcz1cIm93bC12aWRlby1mcmFtZVwiPicgKyBodG1sICsgJzwvZGl2PicpLmluc2VydEFmdGVyKGl0ZW0uZmluZCgnLm93bC12aWRlbycpKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcGxheWluZyA9IGl0ZW0uYWRkQ2xhc3MoJ293bC12aWRlby1wbGF5aW5nJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgYW4gdmlkZW8gaXMgY3VycmVudGx5IGluIGZ1bGwgc2NyZWVuIG1vZGUgb3Igbm90LlxyXG4gICAgICogQHRvZG8gQmFkIHN0eWxlIGJlY2F1c2UgbG9va3MgbGlrZSBhIHJlYWRvbmx5IG1ldGhvZCBidXQgY2hhbmdlcyBtZW1iZXJzLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIFZpZGVvLnByb3RvdHlwZS5pc0luRnVsbFNjcmVlbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgfHwgZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnQgfHxcclxuICAgICAgICAgICAgZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHJldHVybiBlbGVtZW50ICYmICQoZWxlbWVudCkucGFyZW50KCkuaGFzQ2xhc3MoJ293bC12aWRlby1mcmFtZScpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXHJcbiAgICAgKi9cclxuICAgIFZpZGVvLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXIsIHByb3BlcnR5O1xyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZignY2xpY2sub3dsLnZpZGVvJyk7XHJcblxyXG4gICAgICAgIGZvciAoaGFuZGxlciBpbiB0aGlzLl9oYW5kbGVycykge1xyXG4gICAgICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihoYW5kbGVyLCB0aGlzLl9oYW5kbGVyc1toYW5kbGVyXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAocHJvcGVydHkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpIHtcclxuICAgICAgICAgICAgdHlwZW9mIHRoaXNbcHJvcGVydHldICE9ICdmdW5jdGlvbicgJiYgKHRoaXNbcHJvcGVydHldID0gbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuVmlkZW8gPSBWaWRlbztcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBBbmltYXRlIFBsdWdpblxyXG4gKiBAdmVyc2lvbiAyLjEuMFxyXG4gKiBAYXV0aG9yIEJhcnRvc3ogV29qY2llY2hvd3NraVxyXG4gKiBAYXV0aG9yIERhdmlkIERldXRzY2hcclxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyB0aGUgYW5pbWF0ZSBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIE5hdmlnYXRpb24gUGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge093bH0gc2NvcGUgLSBUaGUgT3dsIENhcm91c2VsXHJcbiAgICAgKi9cclxuICAgIHZhciBBbmltYXRlID0gZnVuY3Rpb24oc2NvcGUpIHtcclxuICAgICAgICB0aGlzLmNvcmUgPSBzY29wZTtcclxuICAgICAgICB0aGlzLmNvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBBbmltYXRlLkRlZmF1bHRzLCB0aGlzLmNvcmUub3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5zd2FwcGluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLm5leHQgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICAgICdjaGFuZ2Uub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgZS5wcm9wZXJ0eS5uYW1lID09ICdwb3NpdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzID0gdGhpcy5jb3JlLmN1cnJlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHQgPSBlLnByb3BlcnR5LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2RyYWcub3dsLmNhcm91c2VsIGRyYWdnZWQub3dsLmNhcm91c2VsIHRyYW5zbGF0ZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN3YXBwaW5nID0gZS50eXBlID09ICd0cmFuc2xhdGVkJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICd0cmFuc2xhdGUub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5zd2FwcGluZyAmJiAodGhpcy5jb3JlLm9wdGlvbnMuYW5pbWF0ZU91dCB8fCB0aGlzLmNvcmUub3B0aW9ucy5hbmltYXRlSW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zd2FwKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jb3JlLiRlbGVtZW50Lm9uKHRoaXMuaGFuZGxlcnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgQW5pbWF0ZS5EZWZhdWx0cyA9IHtcclxuICAgICAgICBhbmltYXRlT3V0OiBmYWxzZSxcclxuICAgICAgICBhbmltYXRlSW46IGZhbHNlXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVG9nZ2xlcyB0aGUgYW5pbWF0aW9uIGNsYXNzZXMgd2hlbmV2ZXIgYW4gdHJhbnNsYXRpb25zIHN0YXJ0cy5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufHVuZGVmaW5lZH1cclxuICAgICAqL1xyXG4gICAgQW5pbWF0ZS5wcm90b3R5cGUuc3dhcCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jb3JlLnNldHRpbmdzLml0ZW1zICE9PSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghJC5zdXBwb3J0LmFuaW1hdGlvbiB8fCAhJC5zdXBwb3J0LnRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb3JlLnNwZWVkKDApO1xyXG5cclxuICAgICAgICB2YXIgbGVmdCxcclxuICAgICAgICAgICAgY2xlYXIgPSAkLnByb3h5KHRoaXMuY2xlYXIsIHRoaXMpLFxyXG4gICAgICAgICAgICBwcmV2aW91cyA9IHRoaXMuY29yZS4kc3RhZ2UuY2hpbGRyZW4oKS5lcSh0aGlzLnByZXZpb3VzKSxcclxuICAgICAgICAgICAgbmV4dCA9IHRoaXMuY29yZS4kc3RhZ2UuY2hpbGRyZW4oKS5lcSh0aGlzLm5leHQpLFxyXG4gICAgICAgICAgICBpbmNvbWluZyA9IHRoaXMuY29yZS5zZXR0aW5ncy5hbmltYXRlSW4sXHJcbiAgICAgICAgICAgIG91dGdvaW5nID0gdGhpcy5jb3JlLnNldHRpbmdzLmFuaW1hdGVPdXQ7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvcmUuY3VycmVudCgpID09PSB0aGlzLnByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvdXRnb2luZykge1xyXG4gICAgICAgICAgICBsZWZ0ID0gdGhpcy5jb3JlLmNvb3JkaW5hdGVzKHRoaXMucHJldmlvdXMpIC0gdGhpcy5jb3JlLmNvb3JkaW5hdGVzKHRoaXMubmV4dCk7XHJcbiAgICAgICAgICAgIHByZXZpb3VzLm9uZSgkLnN1cHBvcnQuYW5pbWF0aW9uLmVuZCwgY2xlYXIpXHJcbiAgICAgICAgICAgICAgICAuY3NzKCB7ICdsZWZ0JzogbGVmdCArICdweCcgfSApXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2FuaW1hdGVkIG93bC1hbmltYXRlZC1vdXQnKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKG91dGdvaW5nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpbmNvbWluZykge1xyXG4gICAgICAgICAgICBuZXh0Lm9uZSgkLnN1cHBvcnQuYW5pbWF0aW9uLmVuZCwgY2xlYXIpXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2FuaW1hdGVkIG93bC1hbmltYXRlZC1pbicpXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoaW5jb21pbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQW5pbWF0ZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgJChlLnRhcmdldCkuY3NzKCB7ICdsZWZ0JzogJycgfSApXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgb3dsLWFuaW1hdGVkLW91dCBvd2wtYW5pbWF0ZWQtaW4nKVxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3ModGhpcy5jb3JlLnNldHRpbmdzLmFuaW1hdGVJbilcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMuY29yZS5zZXR0aW5ncy5hbmltYXRlT3V0KTtcclxuICAgICAgICB0aGlzLmNvcmUub25UcmFuc2l0aW9uRW5kKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbi5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgQW5pbWF0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVyLCBwcm9wZXJ0eTtcclxuXHJcbiAgICAgICAgZm9yIChoYW5kbGVyIGluIHRoaXMuaGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5jb3JlLiRlbGVtZW50Lm9mZihoYW5kbGVyLCB0aGlzLmhhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT0gJ2Z1bmN0aW9uJyAmJiAodGhpc1twcm9wZXJ0eV0gPSBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5BbmltYXRlID0gQW5pbWF0ZTtcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBBdXRvcGxheSBQbHVnaW5cclxuICogQHZlcnNpb24gMi4xLjBcclxuICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2lcclxuICogQGF1dGhvciBBcnR1cyBLb2xhbm93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHRoZSBhdXRvcGxheSBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIEF1dG9wbGF5IFBsdWdpblxyXG4gICAgICogQHBhcmFtIHtPd2x9IHNjb3BlIC0gVGhlIE93bCBDYXJvdXNlbFxyXG4gICAgICovXHJcbiAgICB2YXIgQXV0b3BsYXkgPSBmdW5jdGlvbihjYXJvdXNlbCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgY29yZS5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge093bH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jb3JlID0gY2Fyb3VzZWw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBhdXRvcGxheSB0aW1lb3V0LlxyXG4gICAgICAgICAqIEB0eXBlIHtUaW1lb3V0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSBudWxsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hlbmV2ZXIgdGhlIGF1dG9wbGF5IGlzIHBhdXNlZC5cclxuICAgICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9wYXVzZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0ge1xyXG4gICAgICAgICAgICAnY2hhbmdlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiBlLnByb3BlcnR5Lm5hbWUgPT09ICdzZXR0aW5ncycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUubmFtZXNwYWNlICYmIGUucHJvcGVydHkubmFtZSA9PT0gJ3Bvc2l0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3BsYXk/JywgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0QXV0b1BsYXlJbnRlcnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAncGxheS5vd2wuYXV0b3BsYXknOiAkLnByb3h5KGZ1bmN0aW9uKGUsIHQsIHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheSh0LCBzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdzdG9wLm93bC5hdXRvcGxheSc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAnbW91c2VvdmVyLm93bC5hdXRvcGxheSc6ICQucHJveHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheUhvdmVyUGF1c2UgJiYgdGhpcy5fY29yZS5pcygncm90YXRpbmcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdtb3VzZWxlYXZlLm93bC5hdXRvcGxheSc6ICQucHJveHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheUhvdmVyUGF1c2UgJiYgdGhpcy5fY29yZS5pcygncm90YXRpbmcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ3RvdWNoc3RhcnQub3dsLmNvcmUnOiAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlIb3ZlclBhdXNlICYmIHRoaXMuX2NvcmUuaXMoJ3JvdGF0aW5nJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAndG91Y2hlbmQub3dsLmNvcmUnOiAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlIb3ZlclBhdXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gcmVnaXN0ZXIgZXZlbnQgaGFuZGxlcnNcclxuICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9uKHRoaXMuX2hhbmRsZXJzKTtcclxuXHJcbiAgICAgICAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xyXG4gICAgICAgIHRoaXMuX2NvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBBdXRvcGxheS5EZWZhdWx0cywgdGhpcy5fY29yZS5vcHRpb25zKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IG9wdGlvbnMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIEF1dG9wbGF5LkRlZmF1bHRzID0ge1xyXG4gICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICBhdXRvcGxheVRpbWVvdXQ6IDUwMDAsXHJcbiAgICAgICAgYXV0b3BsYXlIb3ZlclBhdXNlOiBmYWxzZSxcclxuICAgICAgICBhdXRvcGxheVNwZWVkOiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0cyB0aGUgYXV0b3BsYXkuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3RpbWVvdXRdIC0gVGhlIGludGVydmFsIGJlZm9yZSB0aGUgbmV4dCBhbmltYXRpb24gc3RhcnRzLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzcGVlZF0gLSBUaGUgYW5pbWF0aW9uIHNwZWVkIGZvciB0aGUgYW5pbWF0aW9ucy5cclxuICAgICAqL1xyXG4gICAgQXV0b3BsYXkucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbih0aW1lb3V0LCBzcGVlZCkge1xyXG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fY29yZS5pcygncm90YXRpbmcnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLmVudGVyKCdyb3RhdGluZycpO1xyXG5cclxuICAgICAgICB0aGlzLl9zZXRBdXRvUGxheUludGVydmFsKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhIG5ldyB0aW1lb3V0XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt0aW1lb3V0XSAtIFRoZSBpbnRlcnZhbCBiZWZvcmUgdGhlIG5leHQgYW5pbWF0aW9uIHN0YXJ0cy5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIGFuaW1hdGlvbiBzcGVlZCBmb3IgdGhlIGFuaW1hdGlvbnMuXHJcbiAgICAgKiBAcmV0dXJuIHtUaW1lb3V0fVxyXG4gICAgICovXHJcbiAgICBBdXRvcGxheS5wcm90b3R5cGUuX2dldE5leHRUaW1lb3V0ID0gZnVuY3Rpb24odGltZW91dCwgc3BlZWQpIHtcclxuICAgICAgICBpZiAoIHRoaXMuX3RpbWVvdXQgKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB3aW5kb3cuc2V0VGltZW91dCgkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcGF1c2VkIHx8IHRoaXMuX2NvcmUuaXMoJ2J1c3knKSB8fCB0aGlzLl9jb3JlLmlzKCdpbnRlcmFjdGluZycpIHx8IGRvY3VtZW50LmhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUubmV4dChzcGVlZCB8fCB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5U3BlZWQpO1xyXG4gICAgICAgIH0sIHRoaXMpLCB0aW1lb3V0IHx8IHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlUaW1lb3V0KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIGF1dG9wbGF5IGluIG1vdGlvbi5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIEF1dG9wbGF5LnByb3RvdHlwZS5fc2V0QXV0b1BsYXlJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSB0aGlzLl9nZXROZXh0VGltZW91dCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3BzIHRoZSBhdXRvcGxheS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgQXV0b3BsYXkucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2NvcmUuaXMoJ3JvdGF0aW5nJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcclxuICAgICAgICB0aGlzLl9jb3JlLmxlYXZlKCdyb3RhdGluZycpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3BzIHRoZSBhdXRvcGxheS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgQXV0b3BsYXkucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9jb3JlLmlzKCdyb3RhdGluZycpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbi5cclxuICAgICAqL1xyXG4gICAgQXV0b3BsYXkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgcHJvcGVydHk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RvcCgpO1xyXG5cclxuICAgICAgICBmb3IgKGhhbmRsZXIgaW4gdGhpcy5faGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vZmYoaGFuZGxlciwgdGhpcy5faGFuZGxlcnNbaGFuZGxlcl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByb3BlcnR5IGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzW3Byb3BlcnR5XSAhPSAnZnVuY3Rpb24nICYmICh0aGlzW3Byb3BlcnR5XSA9IG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLmF1dG9wbGF5ID0gQXV0b3BsYXk7XHJcblxyXG59KSh3aW5kb3cuWmVwdG8gfHwgd2luZG93LmpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XHJcblxyXG4vKipcclxuICogTmF2aWdhdGlvbiBQbHVnaW5cclxuICogQHZlcnNpb24gMi4xLjBcclxuICogQGF1dGhvciBBcnR1cyBLb2xhbm93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHRoZSBuYXZpZ2F0aW9uIHBsdWdpbi5cclxuICAgICAqIEBjbGFzcyBUaGUgTmF2aWdhdGlvbiBQbHVnaW5cclxuICAgICAqIEBwYXJhbSB7T3dsfSBjYXJvdXNlbCAtIFRoZSBPd2wgQ2Fyb3VzZWwuXHJcbiAgICAgKi9cclxuICAgIHZhciBOYXZpZ2F0aW9uID0gZnVuY3Rpb24oY2Fyb3VzZWwpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPd2x9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY29yZSA9IGNhcm91c2VsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgcGx1Z2luIGlzIGluaXRpYWxpemVkIG9yIG5vdC5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcGFnaW5nIGluZGV4ZXMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtBcnJheX1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9wYWdlcyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbGwgRE9NIGVsZW1lbnRzIG9mIHRoZSB1c2VyIGludGVyZmFjZS5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jb250cm9scyA9IHt9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBNYXJrdXAgZm9yIGFuIGluZGljYXRvci5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge0FycmF5LjxTdHJpbmc+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3RlbXBsYXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgY2Fyb3VzZWwgZWxlbWVudC5cclxuICAgICAgICAgKiBAdHlwZSB7alF1ZXJ5fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQgPSB0aGlzLl9jb3JlLiRlbGVtZW50O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBPdmVycmlkZGVuIG1ldGhvZHMgb2YgdGhlIGNhcm91c2VsLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX292ZXJyaWRlcyA9IHtcclxuICAgICAgICAgICAgbmV4dDogdGhpcy5fY29yZS5uZXh0LFxyXG4gICAgICAgICAgICBwcmV2OiB0aGlzLl9jb3JlLnByZXYsXHJcbiAgICAgICAgICAgIHRvOiB0aGlzLl9jb3JlLnRvXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0ge1xyXG4gICAgICAgICAgICAncHJlcGFyZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5kb3RzRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlcy5wdXNoKCc8ZGl2IGNsYXNzPVwiJyArIHRoaXMuX2NvcmUuc2V0dGluZ3MuZG90Q2xhc3MgKyAnXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoZS5jb250ZW50KS5maW5kKCdbZGF0YS1kb3RdJykuYWRkQmFjaygnW2RhdGEtZG90XScpLmF0dHIoJ2RhdGEtZG90JykgKyAnPC9kaXY+Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAnYWRkZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5kb3RzRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlcy5zcGxpY2UoZS5wb3NpdGlvbiwgMCwgdGhpcy5fdGVtcGxhdGVzLnBvcCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdyZW1vdmUub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5kb3RzRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlcy5zcGxpY2UoZS5wb3NpdGlvbiwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAnY2hhbmdlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiBlLnByb3BlcnR5Lm5hbWUgPT0gJ3Bvc2l0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2luaXRpYWxpemVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmICF0aGlzLl9pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignaW5pdGlhbGl6ZScsIG51bGwsICduYXZpZ2F0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29yZS50cmlnZ2VyKCdpbml0aWFsaXplZCcsIG51bGwsICduYXZpZ2F0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAncmVmcmVzaGVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29yZS50cmlnZ2VyKCdyZWZyZXNoJywgbnVsbCwgJ25hdmlnYXRpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcigncmVmcmVzaGVkJywgbnVsbCwgJ25hdmlnYXRpb24nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcylcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXHJcbiAgICAgICAgdGhpcy5fY29yZS5vcHRpb25zID0gJC5leHRlbmQoe30sIE5hdmlnYXRpb24uRGVmYXVsdHMsIHRoaXMuX2NvcmUub3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBvcHRpb25zLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHRvZG8gUmVuYW1lIGBzbGlkZUJ5YCB0byBgbmF2QnlgXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24uRGVmYXVsdHMgPSB7XHJcbiAgICAgICAgbmF2OiBmYWxzZSxcclxuICAgICAgICBuYXZUZXh0OiBbICcnLCAnJyBdLFxyXG4gICAgICAgIG5hdlNwZWVkOiBmYWxzZSxcclxuICAgICAgICBuYXZFbGVtZW50OiAnZGl2JyxcclxuICAgICAgICBuYXZDb250YWluZXI6IGZhbHNlLFxyXG4gICAgICAgIG5hdkNvbnRhaW5lckNsYXNzOiAnb3dsLW5hdicsXHJcbiAgICAgICAgbmF2Q2xhc3M6IFsgJ293bC1wcmV2JywgJ293bC1uZXh0JyBdLFxyXG4gICAgICAgIHNsaWRlQnk6IDEsXHJcbiAgICAgICAgZG90Q2xhc3M6ICdvd2wtZG90JyxcclxuICAgICAgICBkb3RzQ2xhc3M6ICdvd2wtZG90cycsXHJcbiAgICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgICBkb3RzRWFjaDogZmFsc2UsXHJcbiAgICAgICAgZG90c0RhdGE6IGZhbHNlLFxyXG4gICAgICAgIGRvdHNTcGVlZDogZmFsc2UsXHJcbiAgICAgICAgZG90c0NvbnRhaW5lcjogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgbGF5b3V0IG9mIHRoZSBwbHVnaW4gYW5kIGV4dGVuZHMgdGhlIGNhcm91c2VsLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIG92ZXJyaWRlLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3M7XHJcblxyXG4gICAgICAgIC8vIGNyZWF0ZSBET00gc3RydWN0dXJlIGZvciByZWxhdGl2ZSBuYXZpZ2F0aW9uXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJHJlbGF0aXZlID0gKHNldHRpbmdzLm5hdkNvbnRhaW5lciA/ICQoc2V0dGluZ3MubmF2Q29udGFpbmVyKVxyXG4gICAgICAgICAgICA6ICQoJzxkaXY+JykuYWRkQ2xhc3Moc2V0dGluZ3MubmF2Q29udGFpbmVyQ2xhc3MpLmFwcGVuZFRvKHRoaXMuJGVsZW1lbnQpKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJHByZXZpb3VzID0gJCgnPCcgKyBzZXR0aW5ncy5uYXZFbGVtZW50ICsgJz4nKVxyXG4gICAgICAgICAgICAuYWRkQ2xhc3Moc2V0dGluZ3MubmF2Q2xhc3NbMF0pXHJcbiAgICAgICAgICAgIC5odG1sKHNldHRpbmdzLm5hdlRleHRbMF0pXHJcbiAgICAgICAgICAgIC5wcmVwZW5kVG8odGhpcy5fY29udHJvbHMuJHJlbGF0aXZlKVxyXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXYoc2V0dGluZ3MubmF2U3BlZWQpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJG5leHQgPSAkKCc8JyArIHNldHRpbmdzLm5hdkVsZW1lbnQgKyAnPicpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyhzZXR0aW5ncy5uYXZDbGFzc1sxXSlcclxuICAgICAgICAgICAgLmh0bWwoc2V0dGluZ3MubmF2VGV4dFsxXSlcclxuICAgICAgICAgICAgLmFwcGVuZFRvKHRoaXMuX2NvbnRyb2xzLiRyZWxhdGl2ZSlcclxuICAgICAgICAgICAgLm9uKCdjbGljaycsICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0KHNldHRpbmdzLm5hdlNwZWVkKTtcclxuICAgICAgICAgICAgfSwgdGhpcykpO1xyXG5cclxuICAgICAgICAvLyBjcmVhdGUgRE9NIHN0cnVjdHVyZSBmb3IgYWJzb2x1dGUgbmF2aWdhdGlvblxyXG4gICAgICAgIGlmICghc2V0dGluZ3MuZG90c0RhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5fdGVtcGxhdGVzID0gWyAkKCc8ZGl2PicpXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3Moc2V0dGluZ3MuZG90Q2xhc3MpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxzcGFuPicpKVxyXG4gICAgICAgICAgICAgICAgLnByb3AoJ291dGVySFRNTCcpIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUgPSAoc2V0dGluZ3MuZG90c0NvbnRhaW5lciA/ICQoc2V0dGluZ3MuZG90c0NvbnRhaW5lcilcclxuICAgICAgICAgICAgOiAkKCc8ZGl2PicpLmFkZENsYXNzKHNldHRpbmdzLmRvdHNDbGFzcykuYXBwZW5kVG8odGhpcy4kZWxlbWVudCkpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG5cclxuICAgICAgICB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUub24oJ2NsaWNrJywgJ2RpdicsICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSAkKGUudGFyZ2V0KS5wYXJlbnQoKS5pcyh0aGlzLl9jb250cm9scy4kYWJzb2x1dGUpXHJcbiAgICAgICAgICAgICAgICA/ICQoZS50YXJnZXQpLmluZGV4KCkgOiAkKGUudGFyZ2V0KS5wYXJlbnQoKS5pbmRleCgpO1xyXG5cclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50byhpbmRleCwgc2V0dGluZ3MuZG90c1NwZWVkKTtcclxuICAgICAgICB9LCB0aGlzKSk7XHJcblxyXG4gICAgICAgIC8vIG92ZXJyaWRlIHB1YmxpYyBtZXRob2RzIG9mIHRoZSBjYXJvdXNlbFxyXG4gICAgICAgIGZvciAob3ZlcnJpZGUgaW4gdGhpcy5fb3ZlcnJpZGVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmVbb3ZlcnJpZGVdID0gJC5wcm94eSh0aGlzW292ZXJyaWRlXSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgY29udHJvbCwgcHJvcGVydHksIG92ZXJyaWRlO1xyXG5cclxuICAgICAgICBmb3IgKGhhbmRsZXIgaW4gdGhpcy5faGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5vZmYoaGFuZGxlciwgdGhpcy5faGFuZGxlcnNbaGFuZGxlcl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnRyb2wgaW4gdGhpcy5fY29udHJvbHMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29udHJvbHNbY29udHJvbF0ucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAob3ZlcnJpZGUgaW4gdGhpcy5vdmVyaWRlcykge1xyXG4gICAgICAgICAgICB0aGlzLl9jb3JlW292ZXJyaWRlXSA9IHRoaXMuX292ZXJyaWRlc1tvdmVycmlkZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAocHJvcGVydHkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpIHtcclxuICAgICAgICAgICAgdHlwZW9mIHRoaXNbcHJvcGVydHldICE9ICdmdW5jdGlvbicgJiYgKHRoaXNbcHJvcGVydHldID0gbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgdGhlIGludGVybmFsIHN0YXRlLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaSwgaiwgayxcclxuICAgICAgICAgICAgbG93ZXIgPSB0aGlzLl9jb3JlLmNsb25lcygpLmxlbmd0aCAvIDIsXHJcbiAgICAgICAgICAgIHVwcGVyID0gbG93ZXIgKyB0aGlzLl9jb3JlLml0ZW1zKCkubGVuZ3RoLFxyXG4gICAgICAgICAgICBtYXhpbXVtID0gdGhpcy5fY29yZS5tYXhpbXVtKHRydWUpLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3MsXHJcbiAgICAgICAgICAgIHNpemUgPSBzZXR0aW5ncy5jZW50ZXIgfHwgc2V0dGluZ3MuYXV0b1dpZHRoIHx8IHNldHRpbmdzLmRvdHNEYXRhXHJcbiAgICAgICAgICAgICAgICA/IDEgOiBzZXR0aW5ncy5kb3RzRWFjaCB8fCBzZXR0aW5ncy5pdGVtcztcclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdzLnNsaWRlQnkgIT09ICdwYWdlJykge1xyXG4gICAgICAgICAgICBzZXR0aW5ncy5zbGlkZUJ5ID0gTWF0aC5taW4oc2V0dGluZ3Muc2xpZGVCeSwgc2V0dGluZ3MuaXRlbXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdzLmRvdHMgfHwgc2V0dGluZ3Muc2xpZGVCeSA9PSAncGFnZScpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFnZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoaSA9IGxvd2VyLCBqID0gMCwgayA9IDA7IGkgPCB1cHBlcjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaiA+PSBzaXplIHx8IGogPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYWdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IE1hdGgubWluKG1heGltdW0sIGkgLSBsb3dlciksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogaSAtIGxvd2VyICsgc2l6ZSAtIDFcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5taW4obWF4aW11bSwgaSAtIGxvd2VyKSA9PT0gbWF4aW11bSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaiA9IDAsICsraztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGogKz0gdGhpcy5fY29yZS5tZXJnZXJzKHRoaXMuX2NvcmUucmVsYXRpdmUoaSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYXdzIHRoZSB1c2VyIGludGVyZmFjZS5cclxuICAgICAqIEB0b2RvIFRoZSBvcHRpb24gYGRvdHNEYXRhYCB3b250IHdvcmsuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24ucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZGlmZmVyZW5jZSxcclxuICAgICAgICAgICAgc2V0dGluZ3MgPSB0aGlzLl9jb3JlLnNldHRpbmdzLFxyXG4gICAgICAgICAgICBkaXNhYmxlZCA9IHRoaXMuX2NvcmUuaXRlbXMoKS5sZW5ndGggPD0gc2V0dGluZ3MuaXRlbXMsXHJcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSksXHJcbiAgICAgICAgICAgIGxvb3AgPSBzZXR0aW5ncy5sb29wIHx8IHNldHRpbmdzLnJld2luZDtcclxuXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJHJlbGF0aXZlLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsICFzZXR0aW5ncy5uYXYgfHwgZGlzYWJsZWQpO1xyXG5cclxuICAgICAgICBpZiAoc2V0dGluZ3MubmF2KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xzLiRwcmV2aW91cy50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCAhbG9vcCAmJiBpbmRleCA8PSB0aGlzLl9jb3JlLm1pbmltdW0odHJ1ZSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9jb250cm9scy4kbmV4dC50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCAhbG9vcCAmJiBpbmRleCA+PSB0aGlzLl9jb3JlLm1heGltdW0odHJ1ZSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJGFic29sdXRlLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsICFzZXR0aW5ncy5kb3RzIHx8IGRpc2FibGVkKTtcclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdzLmRvdHMpIHtcclxuICAgICAgICAgICAgZGlmZmVyZW5jZSA9IHRoaXMuX3BhZ2VzLmxlbmd0aCAtIHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5jaGlsZHJlbigpLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5kb3RzRGF0YSAmJiBkaWZmZXJlbmNlICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuaHRtbCh0aGlzLl90ZW1wbGF0ZXMuam9pbignJykpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpZmZlcmVuY2UgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuYXBwZW5kKG5ldyBBcnJheShkaWZmZXJlbmNlICsgMSkuam9pbih0aGlzLl90ZW1wbGF0ZXNbMF0pKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkaWZmZXJlbmNlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY29udHJvbHMuJGFic29sdXRlLmNoaWxkcmVuKCkuc2xpY2UoZGlmZmVyZW5jZSkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuY2hpbGRyZW4oKS5lcSgkLmluQXJyYXkodGhpcy5jdXJyZW50KCksIHRoaXMuX3BhZ2VzKSkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeHRlbmRzIGV2ZW50IGRhdGEuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBldmVudCBvYmplY3Qgd2hpY2ggZ2V0cyB0aHJvd24uXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24ucHJvdG90eXBlLm9uVHJpZ2dlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5fY29yZS5zZXR0aW5ncztcclxuXHJcbiAgICAgICAgZXZlbnQucGFnZSA9IHtcclxuICAgICAgICAgICAgaW5kZXg6ICQuaW5BcnJheSh0aGlzLmN1cnJlbnQoKSwgdGhpcy5fcGFnZXMpLFxyXG4gICAgICAgICAgICBjb3VudDogdGhpcy5fcGFnZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBzaXplOiBzZXR0aW5ncyAmJiAoc2V0dGluZ3MuY2VudGVyIHx8IHNldHRpbmdzLmF1dG9XaWR0aCB8fCBzZXR0aW5ncy5kb3RzRGF0YVxyXG4gICAgICAgICAgICAgICAgPyAxIDogc2V0dGluZ3MuZG90c0VhY2ggfHwgc2V0dGluZ3MuaXRlbXMpXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50IHBhZ2UgcG9zaXRpb24gb2YgdGhlIGNhcm91c2VsLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUuY3VycmVudCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSk7XHJcbiAgICAgICAgcmV0dXJuICQuZ3JlcCh0aGlzLl9wYWdlcywgJC5wcm94eShmdW5jdGlvbihwYWdlLCBpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFnZS5zdGFydCA8PSBjdXJyZW50ICYmIHBhZ2UuZW5kID49IGN1cnJlbnQ7XHJcbiAgICAgICAgfSwgdGhpcykpLnBvcCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIGN1cnJlbnQgc3VjY2Vzb3IvcHJlZGVjZXNzb3IgcG9zaXRpb24uXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKHN1Y2Nlc3Nvcikge1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiwgbGVuZ3RoLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3M7XHJcblxyXG4gICAgICAgIGlmIChzZXR0aW5ncy5zbGlkZUJ5ID09ICdwYWdlJykge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9ICQuaW5BcnJheSh0aGlzLmN1cnJlbnQoKSwgdGhpcy5fcGFnZXMpO1xyXG4gICAgICAgICAgICBsZW5ndGggPSB0aGlzLl9wYWdlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3NvciA/ICsrcG9zaXRpb24gOiAtLXBvc2l0aW9uO1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IHRoaXMuX3BhZ2VzWygocG9zaXRpb24gJSBsZW5ndGgpICsgbGVuZ3RoKSAlIGxlbmd0aF0uc3RhcnQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLl9jb3JlLnJlbGF0aXZlKHRoaXMuX2NvcmUuY3VycmVudCgpKTtcclxuICAgICAgICAgICAgbGVuZ3RoID0gdGhpcy5fY29yZS5pdGVtcygpLmxlbmd0aDtcclxuICAgICAgICAgICAgc3VjY2Vzc29yID8gcG9zaXRpb24gKz0gc2V0dGluZ3Muc2xpZGVCeSA6IHBvc2l0aW9uIC09IHNldHRpbmdzLnNsaWRlQnk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2xpZGVzIHRvIHRoZSBuZXh0IGl0ZW0gb3IgcGFnZS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWQ9ZmFsc2VdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKHNwZWVkKSB7XHJcbiAgICAgICAgJC5wcm94eSh0aGlzLl9vdmVycmlkZXMudG8sIHRoaXMuX2NvcmUpKHRoaXMuZ2V0UG9zaXRpb24odHJ1ZSksIHNwZWVkKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTbGlkZXMgdG8gdGhlIHByZXZpb3VzIGl0ZW0gb3IgcGFnZS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWQ9ZmFsc2VdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uKHNwZWVkKSB7XHJcbiAgICAgICAgJC5wcm94eSh0aGlzLl9vdmVycmlkZXMudG8sIHRoaXMuX2NvcmUpKHRoaXMuZ2V0UG9zaXRpb24oZmFsc2UpLCBzcGVlZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2xpZGVzIHRvIHRoZSBzcGVjaWZpZWQgaXRlbSBvciBwYWdlLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIHBvc2l0aW9uIG9mIHRoZSBpdGVtIG9yIHBhZ2UuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkXSAtIFRoZSB0aW1lIGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIHRyYW5zaXRpb24uXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtzdGFuZGFyZD1mYWxzZV0gLSBXaGV0aGVyIHRvIHVzZSB0aGUgc3RhbmRhcmQgYmVoYXZpb3VyIG9yIG5vdC5cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUudG8gPSBmdW5jdGlvbihwb3NpdGlvbiwgc3BlZWQsIHN0YW5kYXJkKSB7XHJcbiAgICAgICAgdmFyIGxlbmd0aDtcclxuXHJcbiAgICAgICAgaWYgKCFzdGFuZGFyZCAmJiB0aGlzLl9wYWdlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbGVuZ3RoID0gdGhpcy5fcGFnZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAkLnByb3h5KHRoaXMuX292ZXJyaWRlcy50bywgdGhpcy5fY29yZSkodGhpcy5fcGFnZXNbKChwb3NpdGlvbiAlIGxlbmd0aCkgKyBsZW5ndGgpICUgbGVuZ3RoXS5zdGFydCwgc3BlZWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQucHJveHkodGhpcy5fb3ZlcnJpZGVzLnRvLCB0aGlzLl9jb3JlKShwb3NpdGlvbiwgc3BlZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLk5hdmlnYXRpb24gPSBOYXZpZ2F0aW9uO1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIEhhc2ggUGx1Z2luXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgQXJ0dXMgS29sYW5vd3NraVxyXG4gKiBAYXV0aG9yIERhdmlkIERldXRzY2hcclxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyB0aGUgaGFzaCBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIEhhc2ggUGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge093bH0gY2Fyb3VzZWwgLSBUaGUgT3dsIENhcm91c2VsXHJcbiAgICAgKi9cclxuICAgIHZhciBIYXNoID0gZnVuY3Rpb24oY2Fyb3VzZWwpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPd2x9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY29yZSA9IGNhcm91c2VsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIYXNoIG1haW4tcGFnZS1wYWdlIGZvciB0aGUgaXRlbXMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGFzaGVzID0ge307XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBjYXJvdXNlbCBlbGVtZW50LlxyXG4gICAgICAgICAqIEB0eXBlIHtqUXVlcnl9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudCA9IHRoaXMuX2NvcmUuJGVsZW1lbnQ7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFsbCBldmVudCBoYW5kbGVycy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9oYW5kbGVycyA9IHtcclxuICAgICAgICAgICAgJ2luaXRpYWxpemVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuc2V0dGluZ3Muc3RhcnRQb3NpdGlvbiA9PT0gJ1VSTEhhc2gnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh3aW5kb3cpLnRyaWdnZXIoJ2hhc2hjaGFuZ2Uub3dsLm5hdmlnYXRpb24nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdwcmVwYXJlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoYXNoID0gJChlLmNvbnRlbnQpLmZpbmQoJ1tkYXRhLWhhc2hdJykuYWRkQmFjaygnW2RhdGEtaGFzaF0nKS5hdHRyKCdkYXRhLWhhc2gnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhc2hlc1toYXNoXSA9IGUuY29udGVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdjaGFuZ2VkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIGUucHJvcGVydHkubmFtZSA9PT0gJ3Bvc2l0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5fY29yZS5pdGVtcyh0aGlzLl9jb3JlLnJlbGF0aXZlKHRoaXMuX2NvcmUuY3VycmVudCgpKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc2ggPSAkLm1hcCh0aGlzLl9oYXNoZXMsIGZ1bmN0aW9uKGl0ZW0sIGhhc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtID09PSBjdXJyZW50ID8gaGFzaCA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmpvaW4oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNoIHx8IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpID09PSBoYXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gaGFzaDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcylcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXHJcbiAgICAgICAgdGhpcy5fY29yZS5vcHRpb25zID0gJC5leHRlbmQoe30sIEhhc2guRGVmYXVsdHMsIHRoaXMuX2NvcmUub3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBldmVudCBoYW5kbGVyc1xyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciBldmVudCBsaXN0ZW5lciBmb3IgaGFzaCBuYXZpZ2F0aW9uXHJcbiAgICAgICAgJCh3aW5kb3cpLm9uKCdoYXNoY2hhbmdlLm93bC5uYXZpZ2F0aW9uJywgJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpLFxyXG4gICAgICAgICAgICAgICAgaXRlbXMgPSB0aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLl9oYXNoZXNbaGFzaF0gJiYgaXRlbXMuaW5kZXgodGhpcy5faGFzaGVzW2hhc2hdKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHBvc2l0aW9uID09PSB0aGlzLl9jb3JlLmN1cnJlbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9jb3JlLnRvKHRoaXMuX2NvcmUucmVsYXRpdmUocG9zaXRpb24pLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgSGFzaC5EZWZhdWx0cyA9IHtcclxuICAgICAgICBVUkxoYXNoTGlzdGVuZXI6IGZhbHNlXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbi5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgSGFzaC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVyLCBwcm9wZXJ0eTtcclxuXHJcbiAgICAgICAgJCh3aW5kb3cpLm9mZignaGFzaGNoYW5nZS5vd2wubmF2aWdhdGlvbicpO1xyXG5cclxuICAgICAgICBmb3IgKGhhbmRsZXIgaW4gdGhpcy5faGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vZmYoaGFuZGxlciwgdGhpcy5faGFuZGxlcnNbaGFuZGxlcl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByb3BlcnR5IGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzW3Byb3BlcnR5XSAhPSAnZnVuY3Rpb24nICYmICh0aGlzW3Byb3BlcnR5XSA9IG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLkhhc2ggPSBIYXNoO1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIFN1cHBvcnQgUGx1Z2luXHJcbiAqXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgVml2aWQgUGxhbmV0IFNvZnR3YXJlIEdtYkhcclxuICogQGF1dGhvciBBcnR1cyBLb2xhbm93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgdmFyIHN0eWxlID0gJCgnPHN1cHBvcnQ+JykuZ2V0KDApLnN0eWxlLFxyXG4gICAgICAgIHByZWZpeGVzID0gJ1dlYmtpdCBNb3ogTyBtcycuc3BsaXQoJyAnKSxcclxuICAgICAgICBldmVudHMgPSB7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb246IHtcclxuICAgICAgICAgICAgICAgIGVuZDoge1xyXG4gICAgICAgICAgICAgICAgICAgIFdlYmtpdFRyYW5zaXRpb246ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcclxuICAgICAgICAgICAgICAgICAgICBNb3pUcmFuc2l0aW9uOiAndHJhbnNpdGlvbmVuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgT1RyYW5zaXRpb246ICdvVHJhbnNpdGlvbkVuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zaXRpb25lbmQnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgZW5kOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgV2Via2l0QW5pbWF0aW9uOiAnd2Via2l0QW5pbWF0aW9uRW5kJyxcclxuICAgICAgICAgICAgICAgICAgICBNb3pBbmltYXRpb246ICdhbmltYXRpb25lbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgIE9BbmltYXRpb246ICdvQW5pbWF0aW9uRW5kJyxcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246ICdhbmltYXRpb25lbmQnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHRlc3RzID0ge1xyXG4gICAgICAgICAgICBjc3N0cmFuc2Zvcm1zOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhIXRlc3QoJ3RyYW5zZm9ybScpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjc3N0cmFuc2Zvcm1zM2Q6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdGVzdCgncGVyc3BlY3RpdmUnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY3NzdHJhbnNpdGlvbnM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdGVzdCgndHJhbnNpdGlvbicpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjc3NhbmltYXRpb25zOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhIXRlc3QoJ2FuaW1hdGlvbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiB0ZXN0KHByb3BlcnR5LCBwcmVmaXhlZCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBmYWxzZSxcclxuICAgICAgICAgICAgdXBwZXIgPSBwcm9wZXJ0eS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xyXG5cclxuICAgICAgICAkLmVhY2goKHByb3BlcnR5ICsgJyAnICsgcHJlZml4ZXMuam9pbih1cHBlciArICcgJykgKyB1cHBlcikuc3BsaXQoJyAnKSwgZnVuY3Rpb24oaSwgcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgaWYgKHN0eWxlW3Byb3BlcnR5XSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBwcmVmaXhlZCA/IHByb3BlcnR5IDogdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHByZWZpeGVkKHByb3BlcnR5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRlc3QocHJvcGVydHksIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0ZXN0cy5jc3N0cmFuc2l0aW9ucygpKSB7XHJcbiAgICAgICAgLyoganNoaW50IC1XMDUzICovXHJcbiAgICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gPSBuZXcgU3RyaW5nKHByZWZpeGVkKCd0cmFuc2l0aW9uJykpXHJcbiAgICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kID0gZXZlbnRzLnRyYW5zaXRpb24uZW5kWyAkLnN1cHBvcnQudHJhbnNpdGlvbiBdO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0ZXN0cy5jc3NhbmltYXRpb25zKCkpIHtcclxuICAgICAgICAvKiBqc2hpbnQgLVcwNTMgKi9cclxuICAgICAgICAkLnN1cHBvcnQuYW5pbWF0aW9uID0gbmV3IFN0cmluZyhwcmVmaXhlZCgnYW5pbWF0aW9uJykpXHJcbiAgICAgICAgJC5zdXBwb3J0LmFuaW1hdGlvbi5lbmQgPSBldmVudHMuYW5pbWF0aW9uLmVuZFsgJC5zdXBwb3J0LmFuaW1hdGlvbiBdO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0ZXN0cy5jc3N0cmFuc2Zvcm1zKCkpIHtcclxuICAgICAgICAvKiBqc2hpbnQgLVcwNTMgKi9cclxuICAgICAgICAkLnN1cHBvcnQudHJhbnNmb3JtID0gbmV3IFN0cmluZyhwcmVmaXhlZCgndHJhbnNmb3JtJykpO1xyXG4gICAgICAgICQuc3VwcG9ydC50cmFuc2Zvcm0zZCA9IHRlc3RzLmNzc3RyYW5zZm9ybXMzZCgpO1xyXG4gICAgfVxyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpOyJdfQ==
